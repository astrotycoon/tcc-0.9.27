<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>tccasm.c source code [tcc/tccasm.c] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'tcc/tccasm.c'; var root_path = '..'; var data_path = '../../data'; var ecma_script_api_version = 2;</script>
<script src='../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='./'>tcc</a>/<a href='tccasm.c.html'>tccasm.c</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/*</i></td></tr>
<tr><th id="2">2</th><td><i> *  GAS like assembler for TCC</i></td></tr>
<tr><th id="3">3</th><td><i> * </i></td></tr>
<tr><th id="4">4</th><td><i> *  Copyright (c) 2001-2004 Fabrice Bellard</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * This library is free software; you can redistribute it and/or</i></td></tr>
<tr><th id="7">7</th><td><i> * modify it under the terms of the GNU Lesser General Public</i></td></tr>
<tr><th id="8">8</th><td><i> * License as published by the Free Software Foundation; either</i></td></tr>
<tr><th id="9">9</th><td><i> * version 2 of the License, or (at your option) any later version.</i></td></tr>
<tr><th id="10">10</th><td><i> *</i></td></tr>
<tr><th id="11">11</th><td><i> * This library is distributed in the hope that it will be useful,</i></td></tr>
<tr><th id="12">12</th><td><i> * but WITHOUT ANY WARRANTY; without even the implied warranty of</i></td></tr>
<tr><th id="13">13</th><td><i> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</i></td></tr>
<tr><th id="14">14</th><td><i> * Lesser General Public License for more details.</i></td></tr>
<tr><th id="15">15</th><td><i> *</i></td></tr>
<tr><th id="16">16</th><td><i> * You should have received a copy of the GNU Lesser General Public</i></td></tr>
<tr><th id="17">17</th><td><i> * License along with this library; if not, write to the Free Software</i></td></tr>
<tr><th id="18">18</th><td><i> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</i></td></tr>
<tr><th id="19">19</th><td><i> */</i></td></tr>
<tr><th id="20">20</th><td></td></tr>
<tr><th id="21">21</th><td><u>#include <a href="tcc.h.html">"tcc.h"</a></u></td></tr>
<tr><th id="22">22</th><td><u>#<span data-ppcond="22">ifdef</span> <a class="macro" href="x86_64-gen.c.html#28" data-ref="_M/CONFIG_TCC_ASM">CONFIG_TCC_ASM</a></u></td></tr>
<tr><th id="23">23</th><td></td></tr>
<tr><th id="24">24</th><td><a class="macro" href="tcc.h.html#310" title="" data-ref="_M/ST_FUNC">ST_FUNC</a> <em>int</em> <dfn class="decl def fn" id="asm_get_local_label_name" title='asm_get_local_label_name' data-ref="asm_get_local_label_name" data-ref-filename="asm_get_local_label_name">asm_get_local_label_name</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col1 decl" id="1s1" title='s1' data-type='TCCState *' data-ref="1s1" data-ref-filename="1s1">s1</dfn>, <em>unsigned</em> <em>int</em> <dfn class="local col2 decl" id="2n" title='n' data-type='unsigned int' data-ref="2n" data-ref-filename="2n">n</dfn>)</td></tr>
<tr><th id="25">25</th><td>{</td></tr>
<tr><th id="26">26</th><td>    <em>char</em> <dfn class="local col3 decl" id="3buf" title='buf' data-type='char [64]' data-ref="3buf" data-ref-filename="3buf">buf</dfn>[<var>64</var>];</td></tr>
<tr><th id="27">27</th><td>    <a class="typedef" href="tcc.h.html#TokenSym" title='TokenSym' data-type='struct TokenSym' data-ref="TokenSym" data-ref-filename="TokenSym">TokenSym</a> *<dfn class="local col4 decl" id="4ts" title='ts' data-type='TokenSym *' data-ref="4ts" data-ref-filename="4ts">ts</dfn>;</td></tr>
<tr><th id="28">28</th><td></td></tr>
<tr><th id="29">29</th><td>    <a class="ref fn" href="../include/stdio.h.html#snprintf" title='snprintf' data-ref="snprintf" data-ref-filename="snprintf">snprintf</a>(<a class="local col3 ref" href="#3buf" title='buf' data-ref="3buf" data-ref-filename="3buf">buf</a>, <b>sizeof</b>(<a class="local col3 ref" href="#3buf" title='buf' data-ref="3buf" data-ref-filename="3buf">buf</a>), <q>"L..%u"</q>, <a class="local col2 ref" href="#2n" title='n' data-ref="2n" data-ref-filename="2n">n</a>);</td></tr>
<tr><th id="30">30</th><td>    <a class="local col4 ref" href="#4ts" title='ts' data-ref="4ts" data-ref-filename="4ts">ts</a> = <a class="ref fn" href="tcc.h.html#tok_alloc" title='tok_alloc' data-ref="tok_alloc" data-ref-filename="tok_alloc">tok_alloc</a>(<a class="local col3 ref" href="#3buf" title='buf' data-ref="3buf" data-ref-filename="3buf">buf</a>, <a class="ref fn" href="../include/string.h.html#strlen" title='strlen' data-ref="strlen" data-ref-filename="strlen">strlen</a>(<a class="local col3 ref" href="#3buf" title='buf' data-ref="3buf" data-ref-filename="3buf">buf</a>));</td></tr>
<tr><th id="31">31</th><td>    <b>return</b> <a class="local col4 ref" href="#4ts" title='ts' data-ref="4ts" data-ref-filename="4ts">ts</a>-&gt;<a class="ref field" href="tcc.h.html#TokenSym::tok" title='TokenSym::tok' data-ref="TokenSym::tok" data-ref-filename="TokenSym..tok">tok</a>;</td></tr>
<tr><th id="32">32</th><td>}</td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><em>static</em> <em>int</em> <a class="tu decl fn" href="#tcc_assemble_internal" title='tcc_assemble_internal' data-type='int tcc_assemble_internal(TCCState * s1, int do_preprocess, int global)' data-ref="tcc_assemble_internal" data-ref-filename="tcc_assemble_internal">tcc_assemble_internal</a>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col5 decl" id="5s1" title='s1' data-type='TCCState *' data-ref="5s1" data-ref-filename="5s1">s1</dfn>, <em>int</em> <dfn class="local col6 decl" id="6do_preprocess" title='do_preprocess' data-type='int' data-ref="6do_preprocess" data-ref-filename="6do_preprocess">do_preprocess</dfn>, <em>int</em> <dfn class="local col7 decl" id="7global" title='global' data-type='int' data-ref="7global" data-ref-filename="7global">global</dfn>);</td></tr>
<tr><th id="35">35</th><td><em>static</em> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a>* <a class="tu decl fn" href="#asm_new_label" title='asm_new_label' data-type='Sym * asm_new_label(TCCState * s1, int label, int is_local)' data-ref="asm_new_label" data-ref-filename="asm_new_label">asm_new_label</a>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col8 decl" id="8s1" title='s1' data-type='TCCState *' data-ref="8s1" data-ref-filename="8s1">s1</dfn>, <em>int</em> <dfn class="local col9 decl" id="9label" title='label' data-type='int' data-ref="9label" data-ref-filename="9label">label</dfn>, <em>int</em> <dfn class="local col0 decl" id="10is_local" title='is_local' data-type='int' data-ref="10is_local" data-ref-filename="10is_local">is_local</dfn>);</td></tr>
<tr><th id="36">36</th><td><em>static</em> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a>* <a class="tu decl fn" href="#asm_new_label1" title='asm_new_label1' data-type='Sym * asm_new_label1(TCCState * s1, int label, int is_local, int sh_num, int value)' data-ref="asm_new_label1" data-ref-filename="asm_new_label1">asm_new_label1</a>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col1 decl" id="11s1" title='s1' data-type='TCCState *' data-ref="11s1" data-ref-filename="11s1">s1</dfn>, <em>int</em> <dfn class="local col2 decl" id="12label" title='label' data-type='int' data-ref="12label" data-ref-filename="12label">label</dfn>, <em>int</em> <dfn class="local col3 decl" id="13is_local" title='is_local' data-type='int' data-ref="13is_local" data-ref-filename="13is_local">is_local</dfn>, <em>int</em> <dfn class="local col4 decl" id="14sh_num" title='sh_num' data-type='int' data-ref="14sh_num" data-ref-filename="14sh_num">sh_num</dfn>, <em>int</em> <dfn class="local col5 decl" id="15value" title='value' data-type='int' data-ref="15value" data-ref-filename="15value">value</dfn>);</td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><em>static</em> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="tu decl def fn" id="asm_label_find" title='asm_label_find' data-type='Sym * asm_label_find(int v)' data-ref="asm_label_find" data-ref-filename="asm_label_find">asm_label_find</dfn>(<em>int</em> <dfn class="local col6 decl" id="16v" title='v' data-type='int' data-ref="16v" data-ref-filename="16v">v</dfn>)</td></tr>
<tr><th id="39">39</th><td>{</td></tr>
<tr><th id="40">40</th><td>    <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col7 decl" id="17sym" title='sym' data-type='Sym *' data-ref="17sym" data-ref-filename="17sym">sym</dfn> = <a class="ref fn" href="tcc.h.html#sym_find" title='sym_find' data-ref="sym_find" data-ref-filename="sym_find">sym_find</a>(<a class="local col6 ref" href="#16v" title='v' data-ref="16v" data-ref-filename="16v">v</a>);</td></tr>
<tr><th id="41">41</th><td>    <b>while</b> (<a class="local col7 ref" href="#17sym" title='sym' data-ref="17sym" data-ref-filename="17sym">sym</a> &amp;&amp; <a class="local col7 ref" href="#17sym" title='sym' data-ref="17sym" data-ref-filename="17sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::(anonymousunion)::(anonymousstruct)::(anonymous)::sym_scope" title='Sym::(anonymous union)::(anonymous struct)::(anonymous union)::sym_scope' data-ref="Sym::(anonymousunion)::(anonymousstruct)::(anonymous)::sym_scope" data-ref-filename="Sym..(anonymousunion)..(anonymousstruct)..(anonymous)..sym_scope">sym_scope</a>)</td></tr>
<tr><th id="42">42</th><td>        <a class="local col7 ref" href="#17sym" title='sym' data-ref="17sym" data-ref-filename="17sym">sym</a> = <a class="local col7 ref" href="#17sym" title='sym' data-ref="17sym" data-ref-filename="17sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::prev_tok" title='Sym::prev_tok' data-ref="Sym::prev_tok" data-ref-filename="Sym..prev_tok">prev_tok</a>;</td></tr>
<tr><th id="43">43</th><td>    <b>return</b> <a class="local col7 ref" href="#17sym" title='sym' data-ref="17sym" data-ref-filename="17sym">sym</a>;</td></tr>
<tr><th id="44">44</th><td>}</td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><em>static</em> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="tu decl def fn" id="asm_label_push" title='asm_label_push' data-type='Sym * asm_label_push(int v)' data-ref="asm_label_push" data-ref-filename="asm_label_push">asm_label_push</dfn>(<em>int</em> <dfn class="local col8 decl" id="18v" title='v' data-type='int' data-ref="18v" data-ref-filename="18v">v</dfn>)</td></tr>
<tr><th id="47">47</th><td>{</td></tr>
<tr><th id="48">48</th><td>    <i>/* We always add VT_EXTERN, for sym definition that's tentative</i></td></tr>
<tr><th id="49">49</th><td><i>       (for .set, removed for real defs), for mere references it's correct</i></td></tr>
<tr><th id="50">50</th><td><i>       as is.  */</i></td></tr>
<tr><th id="51">51</th><td>    <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col9 decl" id="19sym" title='sym' data-type='Sym *' data-ref="19sym" data-ref-filename="19sym">sym</dfn> = <a class="ref fn" href="tcc.h.html#global_identifier_push" title='global_identifier_push' data-ref="global_identifier_push" data-ref-filename="global_identifier_push">global_identifier_push</a>(<a class="local col8 ref" href="#18v" title='v' data-ref="18v" data-ref-filename="18v">v</a>, <a class="macro" href="tcc.h.html#916" title="(0 | 0x0010)" data-ref="_M/VT_ASM">VT_ASM</a> | <a class="macro" href="tcc.h.html#892" title="0x00001000" data-ref="_M/VT_EXTERN">VT_EXTERN</a> | <a class="macro" href="tcc.h.html#893" title="0x00002000" data-ref="_M/VT_STATIC">VT_STATIC</a>, <var>0</var>);</td></tr>
<tr><th id="52">52</th><td>    <a class="local col9 ref" href="#19sym" title='sym' data-ref="19sym" data-ref-filename="19sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::r" title='Sym::r' data-ref="Sym::r" data-ref-filename="Sym..r">r</a> = <a class="macro" href="tcc.h.html#846" title="0x0030" data-ref="_M/VT_CONST">VT_CONST</a> | <a class="macro" href="tcc.h.html#853" title="0x0200" data-ref="_M/VT_SYM">VT_SYM</a>;</td></tr>
<tr><th id="53">53</th><td>    <b>return</b> <a class="local col9 ref" href="#19sym" title='sym' data-ref="19sym" data-ref-filename="19sym">sym</a>;</td></tr>
<tr><th id="54">54</th><td>}</td></tr>
<tr><th id="55">55</th><td></td></tr>
<tr><th id="56">56</th><td><i>/* Return a symbol we can use inside the assembler, having name NAME.</i></td></tr>
<tr><th id="57">57</th><td><i>   Symbols from asm and C source share a namespace.  If we generate</i></td></tr>
<tr><th id="58">58</th><td><i>   an asm symbol it's also a (file-global) C symbol, but it's</i></td></tr>
<tr><th id="59">59</th><td><i>   either not accessible by name (like "L.123"), or its type information</i></td></tr>
<tr><th id="60">60</th><td><i>   is such that it's not usable without a proper C declaration.</i></td></tr>
<tr><th id="61">61</th><td><i></i></td></tr>
<tr><th id="62">62</th><td><i>   Sometimes we need symbols accessible by name from asm, which</i></td></tr>
<tr><th id="63">63</th><td><i>   are anonymous in C, in this case CSYM can be used to transfer</i></td></tr>
<tr><th id="64">64</th><td><i>   all information from that symbol to the (possibly newly created)</i></td></tr>
<tr><th id="65">65</th><td><i>   asm symbol.  */</i></td></tr>
<tr><th id="66">66</th><td><a class="macro" href="tcc.h.html#310" title="" data-ref="_M/ST_FUNC">ST_FUNC</a> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a>* <dfn class="decl def fn" id="get_asm_sym" title='get_asm_sym' data-ref="get_asm_sym" data-ref-filename="get_asm_sym">get_asm_sym</dfn>(<em>int</em> <dfn class="local col0 decl" id="20name" title='name' data-type='int' data-ref="20name" data-ref-filename="20name">name</dfn>, <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col1 decl" id="21csym" title='csym' data-type='Sym *' data-ref="21csym" data-ref-filename="21csym">csym</dfn>)</td></tr>
<tr><th id="67">67</th><td>{</td></tr>
<tr><th id="68">68</th><td>    <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col2 decl" id="22sym" title='sym' data-type='Sym *' data-ref="22sym" data-ref-filename="22sym">sym</dfn> = <a class="tu ref fn" href="#asm_label_find" title='asm_label_find' data-use='c' data-ref="asm_label_find" data-ref-filename="asm_label_find">asm_label_find</a>(<a class="local col0 ref" href="#20name" title='name' data-ref="20name" data-ref-filename="20name">name</a>);</td></tr>
<tr><th id="69">69</th><td>    <b>if</b> (!<a class="local col2 ref" href="#22sym" title='sym' data-ref="22sym" data-ref-filename="22sym">sym</a>) {</td></tr>
<tr><th id="70">70</th><td>	<a class="local col2 ref" href="#22sym" title='sym' data-ref="22sym" data-ref-filename="22sym">sym</a> = <a class="tu ref fn" href="#asm_label_push" title='asm_label_push' data-use='c' data-ref="asm_label_push" data-ref-filename="asm_label_push">asm_label_push</a>(<a class="local col0 ref" href="#20name" title='name' data-ref="20name" data-ref-filename="20name">name</a>);</td></tr>
<tr><th id="71">71</th><td>	<b>if</b> (<a class="local col1 ref" href="#21csym" title='csym' data-ref="21csym" data-ref-filename="21csym">csym</a>)</td></tr>
<tr><th id="72">72</th><td>	  <a class="local col2 ref" href="#22sym" title='sym' data-ref="22sym" data-ref-filename="22sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::(anonymousunion)::(anonymous)::c" title='Sym::(anonymous union)::(anonymous struct)::c' data-ref="Sym::(anonymousunion)::(anonymous)::c" data-ref-filename="Sym..(anonymousunion)..(anonymous)..c">c</a> = <a class="local col1 ref" href="#21csym" title='csym' data-ref="21csym" data-ref-filename="21csym">csym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::(anonymousunion)::(anonymous)::c" title='Sym::(anonymous union)::(anonymous struct)::c' data-ref="Sym::(anonymousunion)::(anonymous)::c" data-ref-filename="Sym..(anonymousunion)..(anonymous)..c">c</a>;</td></tr>
<tr><th id="73">73</th><td>    }</td></tr>
<tr><th id="74">74</th><td>    <b>return</b> <a class="local col2 ref" href="#22sym" title='sym' data-ref="22sym" data-ref-filename="22sym">sym</a>;</td></tr>
<tr><th id="75">75</th><td>}</td></tr>
<tr><th id="76">76</th><td></td></tr>
<tr><th id="77">77</th><td><em>static</em> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a>* <dfn class="tu decl def fn" id="asm_section_sym" title='asm_section_sym' data-type='Sym * asm_section_sym(TCCState * s1, Section * sec)' data-ref="asm_section_sym" data-ref-filename="asm_section_sym">asm_section_sym</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col3 decl" id="23s1" title='s1' data-type='TCCState *' data-ref="23s1" data-ref-filename="23s1">s1</dfn>, <a class="typedef" href="tcc.h.html#Section" title='Section' data-type='struct Section' data-ref="Section" data-ref-filename="Section">Section</a> *<dfn class="local col4 decl" id="24sec" title='sec' data-type='Section *' data-ref="24sec" data-ref-filename="24sec">sec</dfn>)</td></tr>
<tr><th id="78">78</th><td>{</td></tr>
<tr><th id="79">79</th><td>    <em>char</em> <dfn class="local col5 decl" id="25buf" title='buf' data-type='char [100]' data-ref="25buf" data-ref-filename="25buf">buf</dfn>[<var>100</var>];</td></tr>
<tr><th id="80">80</th><td>    <em>int</em> <dfn class="local col6 decl" id="26label" title='label' data-type='int' data-ref="26label" data-ref-filename="26label">label</dfn> = <a class="ref fn" href="tcc.h.html#tok_alloc" title='tok_alloc' data-ref="tok_alloc" data-ref-filename="tok_alloc">tok_alloc</a>(<a class="local col5 ref" href="#25buf" title='buf' data-ref="25buf" data-ref-filename="25buf">buf</a>,</td></tr>
<tr><th id="81">81</th><td>        <a class="ref fn" href="../include/stdio.h.html#snprintf" title='snprintf' data-ref="snprintf" data-ref-filename="snprintf">snprintf</a>(<a class="local col5 ref" href="#25buf" title='buf' data-ref="25buf" data-ref-filename="25buf">buf</a>, <b>sizeof</b> <a class="local col5 ref" href="#25buf" title='buf' data-ref="25buf" data-ref-filename="25buf">buf</a>, <q>"L.%s"</q>, <a class="local col4 ref" href="#24sec" title='sec' data-ref="24sec" data-ref-filename="24sec">sec</a>-&gt;<a class="ref field" href="tcc.h.html#Section::name" title='Section::name' data-ref="Section::name" data-ref-filename="Section..name">name</a>)</td></tr>
<tr><th id="82">82</th><td>        )-&gt;<a class="ref field" href="tcc.h.html#TokenSym::tok" title='TokenSym::tok' data-ref="TokenSym::tok" data-ref-filename="TokenSym..tok">tok</a>;</td></tr>
<tr><th id="83">83</th><td>    <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col7 decl" id="27sym" title='sym' data-type='Sym *' data-ref="27sym" data-ref-filename="27sym">sym</dfn> = <a class="tu ref fn" href="#asm_label_find" title='asm_label_find' data-use='c' data-ref="asm_label_find" data-ref-filename="asm_label_find">asm_label_find</a>(<a class="local col6 ref" href="#26label" title='label' data-ref="26label" data-ref-filename="26label">label</a>);</td></tr>
<tr><th id="84">84</th><td>    <b>return</b> <a class="local col7 ref" href="#27sym" title='sym' data-ref="27sym" data-ref-filename="27sym">sym</a> ? <a class="local col7 ref" href="#27sym" title='sym' data-ref="27sym" data-ref-filename="27sym">sym</a> : <a class="tu ref fn" href="#asm_new_label1" title='asm_new_label1' data-use='c' data-ref="asm_new_label1" data-ref-filename="asm_new_label1">asm_new_label1</a>(<a class="local col3 ref" href="#23s1" title='s1' data-ref="23s1" data-ref-filename="23s1">s1</a>, <a class="local col6 ref" href="#26label" title='label' data-ref="26label" data-ref-filename="26label">label</a>, <var>1</var>, <a class="local col4 ref" href="#24sec" title='sec' data-ref="24sec" data-ref-filename="24sec">sec</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_num" title='Section::sh_num' data-ref="Section::sh_num" data-ref-filename="Section..sh_num">sh_num</a>, <var>0</var>);</td></tr>
<tr><th id="85">85</th><td>}</td></tr>
<tr><th id="86">86</th><td></td></tr>
<tr><th id="87">87</th><td><i  data-doc="asm_expr_unary">/* We do not use the C expression parser to handle symbols. Maybe the</i></td></tr>
<tr><th id="88">88</th><td><i  data-doc="asm_expr_unary">   C expression parser could be tweaked to do so. */</i></td></tr>
<tr><th id="89">89</th><td></td></tr>
<tr><th id="90">90</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="asm_expr_unary" title='asm_expr_unary' data-type='void asm_expr_unary(TCCState * s1, ExprValue * pe)' data-ref="asm_expr_unary" data-ref-filename="asm_expr_unary">asm_expr_unary</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col8 decl" id="28s1" title='s1' data-type='TCCState *' data-ref="28s1" data-ref-filename="28s1">s1</dfn>, <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> *<dfn class="local col9 decl" id="29pe" title='pe' data-type='ExprValue *' data-ref="29pe" data-ref-filename="29pe">pe</dfn>)</td></tr>
<tr><th id="91">91</th><td>{</td></tr>
<tr><th id="92">92</th><td>    <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col0 decl" id="30sym" title='sym' data-type='Sym *' data-ref="30sym" data-ref-filename="30sym">sym</dfn>;</td></tr>
<tr><th id="93">93</th><td>    <em>int</em> <dfn class="local col1 decl" id="31op" title='op' data-type='int' data-ref="31op" data-ref-filename="31op">op</dfn>, <dfn class="local col2 decl" id="32label" title='label' data-type='int' data-ref="32label" data-ref-filename="32label">label</dfn>;</td></tr>
<tr><th id="94">94</th><td>    <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint64_t" title='uint64_t' data-type='__uint64_t' data-ref="uint64_t" data-ref-filename="uint64_t">uint64_t</a> <dfn class="local col3 decl" id="33n" title='n' data-type='uint64_t' data-ref="33n" data-ref-filename="33n">n</dfn>;</td></tr>
<tr><th id="95">95</th><td>    <em>const</em> <em>char</em> *<dfn class="local col4 decl" id="34p" title='p' data-type='const char *' data-ref="34p" data-ref-filename="34p">p</dfn>;</td></tr>
<tr><th id="96">96</th><td></td></tr>
<tr><th id="97">97</th><td>    <b>switch</b>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>) {</td></tr>
<tr><th id="98">98</th><td>    <b>case</b> <a class="macro" href="tcc.h.html#956" title="0xbe" data-ref="_M/TOK_PPNUM">TOK_PPNUM</a>:</td></tr>
<tr><th id="99">99</th><td>        <a class="local col4 ref" href="#34p" title='p' data-ref="34p" data-ref-filename="34p">p</a> = <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::data" title='CValue::(anonymous struct)::data' data-ref="CValue::(anonymous)::data" data-ref-filename="CValue..(anonymous)..data">data</a>;</td></tr>
<tr><th id="100">100</th><td>        <a class="local col3 ref" href="#33n" title='n' data-ref="33n" data-ref-filename="33n">n</a> = <a class="ref fn" href="../include/stdlib.h.html#strtoull" title='strtoull' data-ref="strtoull" data-ref-filename="strtoull">strtoull</a>(<a class="local col4 ref" href="#34p" title='p' data-ref="34p" data-ref-filename="34p">p</a>, (<em>char</em> **)&amp;<a class="local col4 ref" href="#34p" title='p' data-ref="34p" data-ref-filename="34p">p</a>, <var>0</var>);</td></tr>
<tr><th id="101">101</th><td>        <b>if</b> (*<a class="local col4 ref" href="#34p" title='p' data-ref="34p" data-ref-filename="34p">p</a> == <kbd>'b'</kbd> || *<a class="local col4 ref" href="#34p" title='p' data-ref="34p" data-ref-filename="34p">p</a> == <kbd>'f'</kbd>) {</td></tr>
<tr><th id="102">102</th><td>            <i>/* backward or forward label */</i></td></tr>
<tr><th id="103">103</th><td>            <a class="local col2 ref" href="#32label" title='label' data-ref="32label" data-ref-filename="32label">label</a> = <a class="ref fn" href="#asm_get_local_label_name" title='asm_get_local_label_name' data-ref="asm_get_local_label_name" data-ref-filename="asm_get_local_label_name">asm_get_local_label_name</a>(<a class="local col8 ref" href="#28s1" title='s1' data-ref="28s1" data-ref-filename="28s1">s1</a>, <a class="local col3 ref" href="#33n" title='n' data-ref="33n" data-ref-filename="33n">n</a>);</td></tr>
<tr><th id="104">104</th><td>            <a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a> = <a class="tu ref fn" href="#asm_label_find" title='asm_label_find' data-use='c' data-ref="asm_label_find" data-ref-filename="asm_label_find">asm_label_find</a>(<a class="local col2 ref" href="#32label" title='label' data-ref="32label" data-ref-filename="32label">label</a>);</td></tr>
<tr><th id="105">105</th><td>            <b>if</b> (*<a class="local col4 ref" href="#34p" title='p' data-ref="34p" data-ref-filename="34p">p</a> == <kbd>'b'</kbd>) {</td></tr>
<tr><th id="106">106</th><td>                <i>/* backward : find the last corresponding defined label */</i></td></tr>
<tr><th id="107">107</th><td>                <b>if</b> (<a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a> &amp;&amp; (!<a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::(anonymousunion)::(anonymous)::c" title='Sym::(anonymous union)::(anonymous struct)::c' data-ref="Sym::(anonymousunion)::(anonymous)::c" data-ref-filename="Sym..(anonymousunion)..(anonymous)..c">c</a> || <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>)-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> == <a class="macro" href="elf.h.html#312" title="0" data-ref="_M/SHN_UNDEF">SHN_UNDEF</a>))</td></tr>
<tr><th id="108">108</th><td>                    <a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a> = <a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::prev_tok" title='Sym::prev_tok' data-ref="Sym::prev_tok" data-ref-filename="Sym..prev_tok">prev_tok</a>;</td></tr>
<tr><th id="109">109</th><td>                <b>if</b> (!<a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>)</td></tr>
<tr><th id="110">110</th><td>                    <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"local label '%d' not found backward"</q>, <a class="local col3 ref" href="#33n" title='n' data-ref="33n" data-ref-filename="33n">n</a>);</td></tr>
<tr><th id="111">111</th><td>            } <b>else</b> {</td></tr>
<tr><th id="112">112</th><td>                <i>/* forward */</i></td></tr>
<tr><th id="113">113</th><td>                <b>if</b> (!<a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a> || (<a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::(anonymousunion)::(anonymous)::c" title='Sym::(anonymous union)::(anonymous struct)::c' data-ref="Sym::(anonymousunion)::(anonymous)::c" data-ref-filename="Sym..(anonymousunion)..(anonymous)..c">c</a> &amp;&amp; <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>)-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> != <a class="macro" href="elf.h.html#312" title="0" data-ref="_M/SHN_UNDEF">SHN_UNDEF</a>)) {</td></tr>
<tr><th id="114">114</th><td>                    <i>/* if the last label is defined, then define a new one */</i></td></tr>
<tr><th id="115">115</th><td>		    <a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a> = <a class="tu ref fn" href="#asm_label_push" title='asm_label_push' data-use='c' data-ref="asm_label_push" data-ref-filename="asm_label_push">asm_label_push</a>(<a class="local col2 ref" href="#32label" title='label' data-ref="32label" data-ref-filename="32label">label</a>);</td></tr>
<tr><th id="116">116</th><td>                }</td></tr>
<tr><th id="117">117</th><td>            }</td></tr>
<tr><th id="118">118</th><td>	    <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = <var>0</var>;</td></tr>
<tr><th id="119">119</th><td>	    <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>;</td></tr>
<tr><th id="120">120</th><td>	    <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::pcrel" title='ExprValue::pcrel' data-ref="ExprValue::pcrel" data-ref-filename="ExprValue..pcrel">pcrel</a> = <var>0</var>;</td></tr>
<tr><th id="121">121</th><td>        } <b>else</b> <b>if</b> (*<a class="local col4 ref" href="#34p" title='p' data-ref="34p" data-ref-filename="34p">p</a> == <kbd>'\0'</kbd>) {</td></tr>
<tr><th id="122">122</th><td>            <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = <a class="local col3 ref" href="#33n" title='n' data-ref="33n" data-ref-filename="33n">n</a>;</td></tr>
<tr><th id="123">123</th><td>            <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="124">124</th><td>	    <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::pcrel" title='ExprValue::pcrel' data-ref="ExprValue::pcrel" data-ref-filename="ExprValue..pcrel">pcrel</a> = <var>0</var>;</td></tr>
<tr><th id="125">125</th><td>        } <b>else</b> {</td></tr>
<tr><th id="126">126</th><td>            <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"invalid number syntax"</q>);</td></tr>
<tr><th id="127">127</th><td>        }</td></tr>
<tr><th id="128">128</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="129">129</th><td>        <b>break</b>;</td></tr>
<tr><th id="130">130</th><td>    <b>case</b> <kbd>'+'</kbd>:</td></tr>
<tr><th id="131">131</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="132">132</th><td>        <a class="tu ref fn" href="#asm_expr_unary" title='asm_expr_unary' data-use='c' data-ref="asm_expr_unary" data-ref-filename="asm_expr_unary">asm_expr_unary</a>(<a class="local col8 ref" href="#28s1" title='s1' data-ref="28s1" data-ref-filename="28s1">s1</a>, <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>);</td></tr>
<tr><th id="133">133</th><td>        <b>break</b>;</td></tr>
<tr><th id="134">134</th><td>    <b>case</b> <kbd>'-'</kbd>:</td></tr>
<tr><th id="135">135</th><td>    <b>case</b> <kbd>'~'</kbd>:</td></tr>
<tr><th id="136">136</th><td>        <a class="local col1 ref" href="#31op" title='op' data-ref="31op" data-ref-filename="31op">op</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="137">137</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="138">138</th><td>        <a class="tu ref fn" href="#asm_expr_unary" title='asm_expr_unary' data-use='c' data-ref="asm_expr_unary" data-ref-filename="asm_expr_unary">asm_expr_unary</a>(<a class="local col8 ref" href="#28s1" title='s1' data-ref="28s1" data-ref-filename="28s1">s1</a>, <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>);</td></tr>
<tr><th id="139">139</th><td>        <b>if</b> (<a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>)</td></tr>
<tr><th id="140">140</th><td>            <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"invalid operation with label"</q>);</td></tr>
<tr><th id="141">141</th><td>        <b>if</b> (<a class="local col1 ref" href="#31op" title='op' data-ref="31op" data-ref-filename="31op">op</a> == <kbd>'-'</kbd>)</td></tr>
<tr><th id="142">142</th><td>            <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = -<a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="143">143</th><td>        <b>else</b></td></tr>
<tr><th id="144">144</th><td>            <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = ~<a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="145">145</th><td>        <b>break</b>;</td></tr>
<tr><th id="146">146</th><td>    <b>case</b> <a class="macro" href="tcc.h.html#945" title="0xb3" data-ref="_M/TOK_CCHAR">TOK_CCHAR</a>:</td></tr>
<tr><th id="147">147</th><td>    <b>case</b> <a class="macro" href="tcc.h.html#946" title="0xb4" data-ref="_M/TOK_LCHAR">TOK_LCHAR</a>:</td></tr>
<tr><th id="148">148</th><td>	<a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::i" title='CValue::i' data-ref="CValue::i" data-ref-filename="CValue..i">i</a>;</td></tr>
<tr><th id="149">149</th><td>	<a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="150">150</th><td>	<a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::pcrel" title='ExprValue::pcrel' data-ref="ExprValue::pcrel" data-ref-filename="ExprValue..pcrel">pcrel</a> = <var>0</var>;</td></tr>
<tr><th id="151">151</th><td>	<a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="152">152</th><td>	<b>break</b>;</td></tr>
<tr><th id="153">153</th><td>    <b>case</b> <kbd>'('</kbd>:</td></tr>
<tr><th id="154">154</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="155">155</th><td>        <a class="ref fn" href="#asm_expr" title='asm_expr' data-ref="asm_expr" data-ref-filename="asm_expr">asm_expr</a>(<a class="local col8 ref" href="#28s1" title='s1' data-ref="28s1" data-ref-filename="28s1">s1</a>, <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>);</td></tr>
<tr><th id="156">156</th><td>        <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>')'</kbd>);</td></tr>
<tr><th id="157">157</th><td>        <b>break</b>;</td></tr>
<tr><th id="158">158</th><td>    <b>case</b> <kbd>'.'</kbd>:</td></tr>
<tr><th id="159">159</th><td>        <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>;</td></tr>
<tr><th id="160">160</th><td>        <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <a class="tu ref fn" href="#asm_section_sym" title='asm_section_sym' data-use='c' data-ref="asm_section_sym" data-ref-filename="asm_section_sym">asm_section_sym</a>(<a class="local col8 ref" href="#28s1" title='s1' data-ref="28s1" data-ref-filename="28s1">s1</a>, <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>);</td></tr>
<tr><th id="161">161</th><td>        <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::pcrel" title='ExprValue::pcrel' data-ref="ExprValue::pcrel" data-ref-filename="ExprValue..pcrel">pcrel</a> = <var>0</var>;</td></tr>
<tr><th id="162">162</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="163">163</th><td>        <b>break</b>;</td></tr>
<tr><th id="164">164</th><td>    <b>default</b>:</td></tr>
<tr><th id="165">165</th><td>        <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> &gt;= <a class="macro" href="tcc.h.html#996" title="256" data-ref="_M/TOK_IDENT">TOK_IDENT</a>) {</td></tr>
<tr><th id="166">166</th><td>	    <a class="macro" href="tcc.h.html#372" title="Elf64_Sym" data-ref="_M/ElfSym">ElfSym</a> *<dfn class="local col5 decl" id="35esym" title='esym' data-type='Elf64_Sym *' data-ref="35esym" data-ref-filename="35esym">esym</dfn>;</td></tr>
<tr><th id="167">167</th><td>            <i>/* label case : if the label was not found, add one */</i></td></tr>
<tr><th id="168">168</th><td>	    <a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a> = <a class="ref fn" href="#get_asm_sym" title='get_asm_sym' data-ref="get_asm_sym" data-ref-filename="get_asm_sym">get_asm_sym</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="169">169</th><td>	    <a class="local col5 ref" href="#35esym" title='esym' data-ref="35esym" data-ref-filename="35esym">esym</a> = <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>);</td></tr>
<tr><th id="170">170</th><td>            <b>if</b> (<a class="local col5 ref" href="#35esym" title='esym' data-ref="35esym" data-ref-filename="35esym">esym</a> &amp;&amp; <a class="local col5 ref" href="#35esym" title='esym' data-ref="35esym" data-ref-filename="35esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> == <a class="macro" href="elf.h.html#322" title="0xfff1" data-ref="_M/SHN_ABS">SHN_ABS</a>) {</td></tr>
<tr><th id="171">171</th><td>                <i>/* if absolute symbol, no need to put a symbol value */</i></td></tr>
<tr><th id="172">172</th><td>                <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = <a class="local col5 ref" href="#35esym" title='esym' data-ref="35esym" data-ref-filename="35esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a>;</td></tr>
<tr><th id="173">173</th><td>                <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="174">174</th><td>		<a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::pcrel" title='ExprValue::pcrel' data-ref="ExprValue::pcrel" data-ref-filename="ExprValue..pcrel">pcrel</a> = <var>0</var>;</td></tr>
<tr><th id="175">175</th><td>            } <b>else</b> {</td></tr>
<tr><th id="176">176</th><td>                <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = <var>0</var>;</td></tr>
<tr><th id="177">177</th><td>                <a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <a class="local col0 ref" href="#30sym" title='sym' data-ref="30sym" data-ref-filename="30sym">sym</a>;</td></tr>
<tr><th id="178">178</th><td>		<a class="local col9 ref" href="#29pe" title='pe' data-ref="29pe" data-ref-filename="29pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::pcrel" title='ExprValue::pcrel' data-ref="ExprValue::pcrel" data-ref-filename="ExprValue..pcrel">pcrel</a> = <var>0</var>;</td></tr>
<tr><th id="179">179</th><td>            }</td></tr>
<tr><th id="180">180</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="181">181</th><td>        } <b>else</b> {</td></tr>
<tr><th id="182">182</th><td>            <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"bad expression syntax [%s]"</q>, <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, &amp;<a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>));</td></tr>
<tr><th id="183">183</th><td>        }</td></tr>
<tr><th id="184">184</th><td>        <b>break</b>;</td></tr>
<tr><th id="185">185</th><td>    }</td></tr>
<tr><th id="186">186</th><td>}</td></tr>
<tr><th id="187">187</th><td>    </td></tr>
<tr><th id="188">188</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="asm_expr_prod" title='asm_expr_prod' data-type='void asm_expr_prod(TCCState * s1, ExprValue * pe)' data-ref="asm_expr_prod" data-ref-filename="asm_expr_prod">asm_expr_prod</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col6 decl" id="36s1" title='s1' data-type='TCCState *' data-ref="36s1" data-ref-filename="36s1">s1</dfn>, <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> *<dfn class="local col7 decl" id="37pe" title='pe' data-type='ExprValue *' data-ref="37pe" data-ref-filename="37pe">pe</dfn>)</td></tr>
<tr><th id="189">189</th><td>{</td></tr>
<tr><th id="190">190</th><td>    <em>int</em> <dfn class="local col8 decl" id="38op" title='op' data-type='int' data-ref="38op" data-ref-filename="38op">op</dfn>;</td></tr>
<tr><th id="191">191</th><td>    <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> <dfn class="local col9 decl" id="39e2" title='e2' data-type='ExprValue' data-ref="39e2" data-ref-filename="39e2">e2</dfn>;</td></tr>
<tr><th id="192">192</th><td></td></tr>
<tr><th id="193">193</th><td>    <a class="tu ref fn" href="#asm_expr_unary" title='asm_expr_unary' data-use='c' data-ref="asm_expr_unary" data-ref-filename="asm_expr_unary">asm_expr_unary</a>(<a class="local col6 ref" href="#36s1" title='s1' data-ref="36s1" data-ref-filename="36s1">s1</a>, <a class="local col7 ref" href="#37pe" title='pe' data-ref="37pe" data-ref-filename="37pe">pe</a>);</td></tr>
<tr><th id="194">194</th><td>    <b>for</b>(;;) {</td></tr>
<tr><th id="195">195</th><td>        <a class="local col8 ref" href="#38op" title='op' data-ref="38op" data-ref-filename="38op">op</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="196">196</th><td>        <b>if</b> (<a class="local col8 ref" href="#38op" title='op' data-ref="38op" data-ref-filename="38op">op</a> != <kbd>'*'</kbd> &amp;&amp; <a class="local col8 ref" href="#38op" title='op' data-ref="38op" data-ref-filename="38op">op</a> != <kbd>'/'</kbd> &amp;&amp; <a class="local col8 ref" href="#38op" title='op' data-ref="38op" data-ref-filename="38op">op</a> != <kbd>'%'</kbd> &amp;&amp; </td></tr>
<tr><th id="197">197</th><td>            <a class="local col8 ref" href="#38op" title='op' data-ref="38op" data-ref-filename="38op">op</a> != <a class="macro" href="tcc.h.html#977" title="0x01" data-ref="_M/TOK_SHL">TOK_SHL</a> &amp;&amp; <a class="local col8 ref" href="#38op" title='op' data-ref="38op" data-ref-filename="38op">op</a> != <a class="macro" href="tcc.h.html#978" title="0x02" data-ref="_M/TOK_SAR">TOK_SAR</a>)</td></tr>
<tr><th id="198">198</th><td>            <b>break</b>;</td></tr>
<tr><th id="199">199</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="200">200</th><td>        <a class="tu ref fn" href="#asm_expr_unary" title='asm_expr_unary' data-use='c' data-ref="asm_expr_unary" data-ref-filename="asm_expr_unary">asm_expr_unary</a>(<a class="local col6 ref" href="#36s1" title='s1' data-ref="36s1" data-ref-filename="36s1">s1</a>, &amp;<a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>);</td></tr>
<tr><th id="201">201</th><td>        <b>if</b> (<a class="local col7 ref" href="#37pe" title='pe' data-ref="37pe" data-ref-filename="37pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> || <a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>)</td></tr>
<tr><th id="202">202</th><td>            <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"invalid operation with label"</q>);</td></tr>
<tr><th id="203">203</th><td>        <b>switch</b>(<a class="local col8 ref" href="#38op" title='op' data-ref="38op" data-ref-filename="38op">op</a>) {</td></tr>
<tr><th id="204">204</th><td>        <b>case</b> <kbd>'*'</kbd>:</td></tr>
<tr><th id="205">205</th><td>            <a class="local col7 ref" href="#37pe" title='pe' data-ref="37pe" data-ref-filename="37pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> *= <a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="206">206</th><td>            <b>break</b>;</td></tr>
<tr><th id="207">207</th><td>        <b>case</b> <kbd>'/'</kbd>:  </td></tr>
<tr><th id="208">208</th><td>            <b>if</b> (<a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> == <var>0</var>) {</td></tr>
<tr><th id="209">209</th><td>            <dfn class="lbl" id="40div_error" data-ref="40div_error" data-ref-filename="40div_error">div_error</dfn>:</td></tr>
<tr><th id="210">210</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"division by zero"</q>);</td></tr>
<tr><th id="211">211</th><td>            }</td></tr>
<tr><th id="212">212</th><td>            <a class="local col7 ref" href="#37pe" title='pe' data-ref="37pe" data-ref-filename="37pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> /= <a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="213">213</th><td>            <b>break</b>;</td></tr>
<tr><th id="214">214</th><td>        <b>case</b> <kbd>'%'</kbd>:  </td></tr>
<tr><th id="215">215</th><td>            <b>if</b> (<a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> == <var>0</var>)</td></tr>
<tr><th id="216">216</th><td>                <b>goto</b> <a class="lbl" href="#40div_error" data-ref="40div_error" data-ref-filename="40div_error">div_error</a>;</td></tr>
<tr><th id="217">217</th><td>            <a class="local col7 ref" href="#37pe" title='pe' data-ref="37pe" data-ref-filename="37pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> %= <a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="218">218</th><td>            <b>break</b>;</td></tr>
<tr><th id="219">219</th><td>        <b>case</b> <a class="macro" href="tcc.h.html#977" title="0x01" data-ref="_M/TOK_SHL">TOK_SHL</a>:</td></tr>
<tr><th id="220">220</th><td>            <a class="local col7 ref" href="#37pe" title='pe' data-ref="37pe" data-ref-filename="37pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> &lt;&lt;= <a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="221">221</th><td>            <b>break</b>;</td></tr>
<tr><th id="222">222</th><td>        <b>default</b>:</td></tr>
<tr><th id="223">223</th><td>        <b>case</b> <a class="macro" href="tcc.h.html#978" title="0x02" data-ref="_M/TOK_SAR">TOK_SAR</a>:</td></tr>
<tr><th id="224">224</th><td>            <a class="local col7 ref" href="#37pe" title='pe' data-ref="37pe" data-ref-filename="37pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> &gt;&gt;= <a class="local col9 ref" href="#39e2" title='e2' data-ref="39e2" data-ref-filename="39e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="225">225</th><td>            <b>break</b>;</td></tr>
<tr><th id="226">226</th><td>        }</td></tr>
<tr><th id="227">227</th><td>    }</td></tr>
<tr><th id="228">228</th><td>}</td></tr>
<tr><th id="229">229</th><td></td></tr>
<tr><th id="230">230</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="asm_expr_logic" title='asm_expr_logic' data-type='void asm_expr_logic(TCCState * s1, ExprValue * pe)' data-ref="asm_expr_logic" data-ref-filename="asm_expr_logic">asm_expr_logic</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col1 decl" id="41s1" title='s1' data-type='TCCState *' data-ref="41s1" data-ref-filename="41s1">s1</dfn>, <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> *<dfn class="local col2 decl" id="42pe" title='pe' data-type='ExprValue *' data-ref="42pe" data-ref-filename="42pe">pe</dfn>)</td></tr>
<tr><th id="231">231</th><td>{</td></tr>
<tr><th id="232">232</th><td>    <em>int</em> <dfn class="local col3 decl" id="43op" title='op' data-type='int' data-ref="43op" data-ref-filename="43op">op</dfn>;</td></tr>
<tr><th id="233">233</th><td>    <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> <dfn class="local col4 decl" id="44e2" title='e2' data-type='ExprValue' data-ref="44e2" data-ref-filename="44e2">e2</dfn>;</td></tr>
<tr><th id="234">234</th><td></td></tr>
<tr><th id="235">235</th><td>    <a class="tu ref fn" href="#asm_expr_prod" title='asm_expr_prod' data-use='c' data-ref="asm_expr_prod" data-ref-filename="asm_expr_prod">asm_expr_prod</a>(<a class="local col1 ref" href="#41s1" title='s1' data-ref="41s1" data-ref-filename="41s1">s1</a>, <a class="local col2 ref" href="#42pe" title='pe' data-ref="42pe" data-ref-filename="42pe">pe</a>);</td></tr>
<tr><th id="236">236</th><td>    <b>for</b>(;;) {</td></tr>
<tr><th id="237">237</th><td>        <a class="local col3 ref" href="#43op" title='op' data-ref="43op" data-ref-filename="43op">op</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="238">238</th><td>        <b>if</b> (<a class="local col3 ref" href="#43op" title='op' data-ref="43op" data-ref-filename="43op">op</a> != <kbd>'&amp;'</kbd> &amp;&amp; <a class="local col3 ref" href="#43op" title='op' data-ref="43op" data-ref-filename="43op">op</a> != <kbd>'|'</kbd> &amp;&amp; <a class="local col3 ref" href="#43op" title='op' data-ref="43op" data-ref-filename="43op">op</a> != <kbd>'^'</kbd>)</td></tr>
<tr><th id="239">239</th><td>            <b>break</b>;</td></tr>
<tr><th id="240">240</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="241">241</th><td>        <a class="tu ref fn" href="#asm_expr_prod" title='asm_expr_prod' data-use='c' data-ref="asm_expr_prod" data-ref-filename="asm_expr_prod">asm_expr_prod</a>(<a class="local col1 ref" href="#41s1" title='s1' data-ref="41s1" data-ref-filename="41s1">s1</a>, &amp;<a class="local col4 ref" href="#44e2" title='e2' data-ref="44e2" data-ref-filename="44e2">e2</a>);</td></tr>
<tr><th id="242">242</th><td>        <b>if</b> (<a class="local col2 ref" href="#42pe" title='pe' data-ref="42pe" data-ref-filename="42pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> || <a class="local col4 ref" href="#44e2" title='e2' data-ref="44e2" data-ref-filename="44e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>)</td></tr>
<tr><th id="243">243</th><td>            <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"invalid operation with label"</q>);</td></tr>
<tr><th id="244">244</th><td>        <b>switch</b>(<a class="local col3 ref" href="#43op" title='op' data-ref="43op" data-ref-filename="43op">op</a>) {</td></tr>
<tr><th id="245">245</th><td>        <b>case</b> <kbd>'&amp;'</kbd>:</td></tr>
<tr><th id="246">246</th><td>            <a class="local col2 ref" href="#42pe" title='pe' data-ref="42pe" data-ref-filename="42pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> &amp;= <a class="local col4 ref" href="#44e2" title='e2' data-ref="44e2" data-ref-filename="44e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="247">247</th><td>            <b>break</b>;</td></tr>
<tr><th id="248">248</th><td>        <b>case</b> <kbd>'|'</kbd>:  </td></tr>
<tr><th id="249">249</th><td>            <a class="local col2 ref" href="#42pe" title='pe' data-ref="42pe" data-ref-filename="42pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> |= <a class="local col4 ref" href="#44e2" title='e2' data-ref="44e2" data-ref-filename="44e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="250">250</th><td>            <b>break</b>;</td></tr>
<tr><th id="251">251</th><td>        <b>default</b>:</td></tr>
<tr><th id="252">252</th><td>        <b>case</b> <kbd>'^'</kbd>:</td></tr>
<tr><th id="253">253</th><td>            <a class="local col2 ref" href="#42pe" title='pe' data-ref="42pe" data-ref-filename="42pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> ^= <a class="local col4 ref" href="#44e2" title='e2' data-ref="44e2" data-ref-filename="44e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="254">254</th><td>            <b>break</b>;</td></tr>
<tr><th id="255">255</th><td>        }</td></tr>
<tr><th id="256">256</th><td>    }</td></tr>
<tr><th id="257">257</th><td>}</td></tr>
<tr><th id="258">258</th><td></td></tr>
<tr><th id="259">259</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="tu decl def fn" id="asm_expr_sum" title='asm_expr_sum' data-type='void asm_expr_sum(TCCState * s1, ExprValue * pe)' data-ref="asm_expr_sum" data-ref-filename="asm_expr_sum">asm_expr_sum</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col5 decl" id="45s1" title='s1' data-type='TCCState *' data-ref="45s1" data-ref-filename="45s1">s1</dfn>, <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> *<dfn class="local col6 decl" id="46pe" title='pe' data-type='ExprValue *' data-ref="46pe" data-ref-filename="46pe">pe</dfn>)</td></tr>
<tr><th id="260">260</th><td>{</td></tr>
<tr><th id="261">261</th><td>    <em>int</em> <dfn class="local col7 decl" id="47op" title='op' data-type='int' data-ref="47op" data-ref-filename="47op">op</dfn>;</td></tr>
<tr><th id="262">262</th><td>    <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> <dfn class="local col8 decl" id="48e2" title='e2' data-type='ExprValue' data-ref="48e2" data-ref-filename="48e2">e2</dfn>;</td></tr>
<tr><th id="263">263</th><td></td></tr>
<tr><th id="264">264</th><td>    <a class="tu ref fn" href="#asm_expr_logic" title='asm_expr_logic' data-use='c' data-ref="asm_expr_logic" data-ref-filename="asm_expr_logic">asm_expr_logic</a>(<a class="local col5 ref" href="#45s1" title='s1' data-ref="45s1" data-ref-filename="45s1">s1</a>, <a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>);</td></tr>
<tr><th id="265">265</th><td>    <b>for</b>(;;) {</td></tr>
<tr><th id="266">266</th><td>        <a class="local col7 ref" href="#47op" title='op' data-ref="47op" data-ref-filename="47op">op</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="267">267</th><td>        <b>if</b> (<a class="local col7 ref" href="#47op" title='op' data-ref="47op" data-ref-filename="47op">op</a> != <kbd>'+'</kbd> &amp;&amp; <a class="local col7 ref" href="#47op" title='op' data-ref="47op" data-ref-filename="47op">op</a> != <kbd>'-'</kbd>)</td></tr>
<tr><th id="268">268</th><td>            <b>break</b>;</td></tr>
<tr><th id="269">269</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="270">270</th><td>        <a class="tu ref fn" href="#asm_expr_logic" title='asm_expr_logic' data-use='c' data-ref="asm_expr_logic" data-ref-filename="asm_expr_logic">asm_expr_logic</a>(<a class="local col5 ref" href="#45s1" title='s1' data-ref="45s1" data-ref-filename="45s1">s1</a>, &amp;<a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>);</td></tr>
<tr><th id="271">271</th><td>        <b>if</b> (<a class="local col7 ref" href="#47op" title='op' data-ref="47op" data-ref-filename="47op">op</a> == <kbd>'+'</kbd>) {</td></tr>
<tr><th id="272">272</th><td>            <b>if</b> (<a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="273">273</th><td>                <b>goto</b> <a class="lbl" href="#49cannot_relocate" data-ref="49cannot_relocate" data-ref-filename="49cannot_relocate">cannot_relocate</a>;</td></tr>
<tr><th id="274">274</th><td>            <a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> += <a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="275">275</th><td>            <b>if</b> (<a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> == <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span> &amp;&amp; <a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> != <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>)</td></tr>
<tr><th id="276">276</th><td>                <a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>;</td></tr>
<tr><th id="277">277</th><td>        } <b>else</b> {</td></tr>
<tr><th id="278">278</th><td>            <a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> -= <a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="279">279</th><td>            <i>/* NOTE: we are less powerful than gas in that case</i></td></tr>
<tr><th id="280">280</th><td><i>               because we store only one symbol in the expression */</i></td></tr>
<tr><th id="281">281</th><td>	    <b>if</b> (!<a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>) {</td></tr>
<tr><th id="282">282</th><td>		<i>/* OK */</i></td></tr>
<tr><th id="283">283</th><td>	    } <b>else</b> <b>if</b> (<a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> == <a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>) { </td></tr>
<tr><th id="284">284</th><td>		<i>/* OK */</i></td></tr>
<tr><th id="285">285</th><td>		<a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>; <i>/* same symbols can be subtracted to NULL */</i></td></tr>
<tr><th id="286">286</th><td>	    } <b>else</b> {</td></tr>
<tr><th id="287">287</th><td>		<a class="macro" href="tcc.h.html#372" title="Elf64_Sym" data-ref="_M/ElfSym">ElfSym</a> *<dfn class="local col0 decl" id="50esym1" title='esym1' data-type='Elf64_Sym *' data-ref="50esym1" data-ref-filename="50esym1">esym1</dfn>, *<dfn class="local col1 decl" id="51esym2" title='esym2' data-type='Elf64_Sym *' data-ref="51esym2" data-ref-filename="51esym2">esym2</dfn>;</td></tr>
<tr><th id="288">288</th><td>		<a class="local col0 ref" href="#50esym1" title='esym1' data-ref="50esym1" data-ref-filename="50esym1">esym1</a> = <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>);</td></tr>
<tr><th id="289">289</th><td>		<a class="local col1 ref" href="#51esym2" title='esym2' data-ref="51esym2" data-ref-filename="51esym2">esym2</a> = <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>);</td></tr>
<tr><th id="290">290</th><td>		<b>if</b> (<a class="local col0 ref" href="#50esym1" title='esym1' data-ref="50esym1" data-ref-filename="50esym1">esym1</a> &amp;&amp; <a class="local col0 ref" href="#50esym1" title='esym1' data-ref="50esym1" data-ref-filename="50esym1">esym1</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> == <a class="local col1 ref" href="#51esym2" title='esym2' data-ref="51esym2" data-ref-filename="51esym2">esym2</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a></td></tr>
<tr><th id="291">291</th><td>		    &amp;&amp; <a class="local col0 ref" href="#50esym1" title='esym1' data-ref="50esym1" data-ref-filename="50esym1">esym1</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> != <a class="macro" href="elf.h.html#312" title="0" data-ref="_M/SHN_UNDEF">SHN_UNDEF</a>) {</td></tr>
<tr><th id="292">292</th><td>		    <i>/* we also accept defined symbols in the same section */</i></td></tr>
<tr><th id="293">293</th><td>		    <a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> += <a class="local col0 ref" href="#50esym1" title='esym1' data-ref="50esym1" data-ref-filename="50esym1">esym1</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a> - <a class="local col1 ref" href="#51esym2" title='esym2' data-ref="51esym2" data-ref-filename="51esym2">esym2</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a>;</td></tr>
<tr><th id="294">294</th><td>		    <a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="295">295</th><td>		} <b>else</b> <b>if</b> (<a class="local col1 ref" href="#51esym2" title='esym2' data-ref="51esym2" data-ref-filename="51esym2">esym2</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> == <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_num" title='Section::sh_num' data-ref="Section::sh_num" data-ref-filename="Section..sh_num">sh_num</a>) {</td></tr>
<tr><th id="296">296</th><td>		    <i>/* When subtracting a defined symbol in current section</i></td></tr>
<tr><th id="297">297</th><td><i>		       this actually makes the value PC-relative.  */</i></td></tr>
<tr><th id="298">298</th><td>		    <a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> -= <a class="local col1 ref" href="#51esym2" title='esym2' data-ref="51esym2" data-ref-filename="51esym2">esym2</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a> - <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a> - <var>4</var>;</td></tr>
<tr><th id="299">299</th><td>		    <a class="local col6 ref" href="#46pe" title='pe' data-ref="46pe" data-ref-filename="46pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::pcrel" title='ExprValue::pcrel' data-ref="ExprValue::pcrel" data-ref-filename="ExprValue..pcrel">pcrel</a> = <var>1</var>;</td></tr>
<tr><th id="300">300</th><td>		    <a class="local col8 ref" href="#48e2" title='e2' data-ref="48e2" data-ref-filename="48e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="301">301</th><td>		} <b>else</b> {</td></tr>
<tr><th id="302">302</th><td><dfn class="lbl" id="49cannot_relocate" data-ref="49cannot_relocate" data-ref-filename="49cannot_relocate">cannot_relocate</dfn>:</td></tr>
<tr><th id="303">303</th><td>		    <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"invalid operation with label"</q>);</td></tr>
<tr><th id="304">304</th><td>		}</td></tr>
<tr><th id="305">305</th><td>	    }</td></tr>
<tr><th id="306">306</th><td>        }</td></tr>
<tr><th id="307">307</th><td>    }</td></tr>
<tr><th id="308">308</th><td>}</td></tr>
<tr><th id="309">309</th><td></td></tr>
<tr><th id="310">310</th><td><em>static</em> <b>inline</b> <em>void</em> <dfn class="tu decl def fn" id="asm_expr_cmp" title='asm_expr_cmp' data-type='void asm_expr_cmp(TCCState * s1, ExprValue * pe)' data-ref="asm_expr_cmp" data-ref-filename="asm_expr_cmp">asm_expr_cmp</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col2 decl" id="52s1" title='s1' data-type='TCCState *' data-ref="52s1" data-ref-filename="52s1">s1</dfn>, <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> *<dfn class="local col3 decl" id="53pe" title='pe' data-type='ExprValue *' data-ref="53pe" data-ref-filename="53pe">pe</dfn>)</td></tr>
<tr><th id="311">311</th><td>{</td></tr>
<tr><th id="312">312</th><td>    <em>int</em> <dfn class="local col4 decl" id="54op" title='op' data-type='int' data-ref="54op" data-ref-filename="54op">op</dfn>;</td></tr>
<tr><th id="313">313</th><td>    <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> <dfn class="local col5 decl" id="55e2" title='e2' data-type='ExprValue' data-ref="55e2" data-ref-filename="55e2">e2</dfn>;</td></tr>
<tr><th id="314">314</th><td></td></tr>
<tr><th id="315">315</th><td>    <a class="tu ref fn" href="#asm_expr_sum" title='asm_expr_sum' data-use='c' data-ref="asm_expr_sum" data-ref-filename="asm_expr_sum">asm_expr_sum</a>(<a class="local col2 ref" href="#52s1" title='s1' data-ref="52s1" data-ref-filename="52s1">s1</a>, <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>);</td></tr>
<tr><th id="316">316</th><td>    <b>for</b>(;;) {</td></tr>
<tr><th id="317">317</th><td>        <a class="local col4 ref" href="#54op" title='op' data-ref="54op" data-ref-filename="54op">op</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="318">318</th><td>	<b>if</b> (<a class="local col4 ref" href="#54op" title='op' data-ref="54op" data-ref-filename="54op">op</a> != <a class="macro" href="tcc.h.html#924" title="0x94" data-ref="_M/TOK_EQ">TOK_EQ</a> &amp;&amp; <a class="local col4 ref" href="#54op" title='op' data-ref="54op" data-ref-filename="54op">op</a> != <a class="macro" href="tcc.h.html#925" title="0x95" data-ref="_M/TOK_NE">TOK_NE</a></td></tr>
<tr><th id="319">319</th><td>	    &amp;&amp; (<a class="local col4 ref" href="#54op" title='op' data-ref="54op" data-ref-filename="54op">op</a> &gt; <a class="macro" href="tcc.h.html#933" title="0x9f" data-ref="_M/TOK_GT">TOK_GT</a> || <a class="local col4 ref" href="#54op" title='op' data-ref="54op" data-ref-filename="54op">op</a> &lt; <a class="macro" href="tcc.h.html#926" title="0x96" data-ref="_M/TOK_ULE">TOK_ULE</a>))</td></tr>
<tr><th id="320">320</th><td>            <b>break</b>;</td></tr>
<tr><th id="321">321</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="322">322</th><td>        <a class="tu ref fn" href="#asm_expr_sum" title='asm_expr_sum' data-use='c' data-ref="asm_expr_sum" data-ref-filename="asm_expr_sum">asm_expr_sum</a>(<a class="local col2 ref" href="#52s1" title='s1' data-ref="52s1" data-ref-filename="52s1">s1</a>, &amp;<a class="local col5 ref" href="#55e2" title='e2' data-ref="55e2" data-ref-filename="55e2">e2</a>);</td></tr>
<tr><th id="323">323</th><td>        <b>if</b> (<a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a> || <a class="local col5 ref" href="#55e2" title='e2' data-ref="55e2" data-ref-filename="55e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>)</td></tr>
<tr><th id="324">324</th><td>            <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"invalid operation with label"</q>);</td></tr>
<tr><th id="325">325</th><td>        <b>switch</b>(<a class="local col4 ref" href="#54op" title='op' data-ref="54op" data-ref-filename="54op">op</a>) {</td></tr>
<tr><th id="326">326</th><td>	<b>case</b> <a class="macro" href="tcc.h.html#924" title="0x94" data-ref="_M/TOK_EQ">TOK_EQ</a>:</td></tr>
<tr><th id="327">327</th><td>	    <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> == <a class="local col5 ref" href="#55e2" title='e2' data-ref="55e2" data-ref-filename="55e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="328">328</th><td>	    <b>break</b>;</td></tr>
<tr><th id="329">329</th><td>	<b>case</b> <a class="macro" href="tcc.h.html#925" title="0x95" data-ref="_M/TOK_NE">TOK_NE</a>:</td></tr>
<tr><th id="330">330</th><td>	    <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> != <a class="local col5 ref" href="#55e2" title='e2' data-ref="55e2" data-ref-filename="55e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="331">331</th><td>	    <b>break</b>;</td></tr>
<tr><th id="332">332</th><td>	<b>case</b> <a class="macro" href="tcc.h.html#930" title="0x9c" data-ref="_M/TOK_LT">TOK_LT</a>:</td></tr>
<tr><th id="333">333</th><td>	    <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> &lt; (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col5 ref" href="#55e2" title='e2' data-ref="55e2" data-ref-filename="55e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="334">334</th><td>	    <b>break</b>;</td></tr>
<tr><th id="335">335</th><td>	<b>case</b> <a class="macro" href="tcc.h.html#931" title="0x9d" data-ref="_M/TOK_GE">TOK_GE</a>:</td></tr>
<tr><th id="336">336</th><td>	    <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> &gt;= (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col5 ref" href="#55e2" title='e2' data-ref="55e2" data-ref-filename="55e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="337">337</th><td>	    <b>break</b>;</td></tr>
<tr><th id="338">338</th><td>	<b>case</b> <a class="macro" href="tcc.h.html#932" title="0x9e" data-ref="_M/TOK_LE">TOK_LE</a>:</td></tr>
<tr><th id="339">339</th><td>	    <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> &lt;= (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col5 ref" href="#55e2" title='e2' data-ref="55e2" data-ref-filename="55e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="340">340</th><td>	    <b>break</b>;</td></tr>
<tr><th id="341">341</th><td>	<b>case</b> <a class="macro" href="tcc.h.html#933" title="0x9f" data-ref="_M/TOK_GT">TOK_GT</a>:</td></tr>
<tr><th id="342">342</th><td>	    <a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> &gt; (<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col5 ref" href="#55e2" title='e2' data-ref="55e2" data-ref-filename="55e2">e2</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="343">343</th><td>	    <b>break</b>;</td></tr>
<tr><th id="344">344</th><td>        <b>default</b>:</td></tr>
<tr><th id="345">345</th><td>            <b>break</b>;</td></tr>
<tr><th id="346">346</th><td>        }</td></tr>
<tr><th id="347">347</th><td>	<i>/* GAS compare results are -1/0 not 1/0.  */</i></td></tr>
<tr><th id="348">348</th><td>	<a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a> = -(<a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-intn.h.html#int64_t" title='int64_t' data-type='__int64_t' data-ref="int64_t" data-ref-filename="int64_t">int64_t</a>)<a class="local col3 ref" href="#53pe" title='pe' data-ref="53pe" data-ref-filename="53pe">pe</a>-&gt;<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="349">349</th><td>    }</td></tr>
<tr><th id="350">350</th><td>}</td></tr>
<tr><th id="351">351</th><td></td></tr>
<tr><th id="352">352</th><td><a class="macro" href="tcc.h.html#310" title="" data-ref="_M/ST_FUNC">ST_FUNC</a> <em>void</em> <dfn class="decl def fn" id="asm_expr" title='asm_expr' data-ref="asm_expr" data-ref-filename="asm_expr">asm_expr</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col6 decl" id="56s1" title='s1' data-type='TCCState *' data-ref="56s1" data-ref-filename="56s1">s1</dfn>, <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> *<dfn class="local col7 decl" id="57pe" title='pe' data-type='ExprValue *' data-ref="57pe" data-ref-filename="57pe">pe</dfn>)</td></tr>
<tr><th id="353">353</th><td>{</td></tr>
<tr><th id="354">354</th><td>    <a class="tu ref fn" href="#asm_expr_cmp" title='asm_expr_cmp' data-use='c' data-ref="asm_expr_cmp" data-ref-filename="asm_expr_cmp">asm_expr_cmp</a>(<a class="local col6 ref" href="#56s1" title='s1' data-ref="56s1" data-ref-filename="56s1">s1</a>, <a class="local col7 ref" href="#57pe" title='pe' data-ref="57pe" data-ref-filename="57pe">pe</a>);</td></tr>
<tr><th id="355">355</th><td>}</td></tr>
<tr><th id="356">356</th><td></td></tr>
<tr><th id="357">357</th><td><a class="macro" href="tcc.h.html#310" title="" data-ref="_M/ST_FUNC">ST_FUNC</a> <em>int</em> <dfn class="decl def fn" id="asm_int_expr" title='asm_int_expr' data-ref="asm_int_expr" data-ref-filename="asm_int_expr">asm_int_expr</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col8 decl" id="58s1" title='s1' data-type='TCCState *' data-ref="58s1" data-ref-filename="58s1">s1</dfn>)</td></tr>
<tr><th id="358">358</th><td>{</td></tr>
<tr><th id="359">359</th><td>    <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> <dfn class="local col9 decl" id="59e" title='e' data-type='ExprValue' data-ref="59e" data-ref-filename="59e">e</dfn>;</td></tr>
<tr><th id="360">360</th><td>    <a class="ref fn" href="#asm_expr" title='asm_expr' data-ref="asm_expr" data-ref-filename="asm_expr">asm_expr</a>(<a class="local col8 ref" href="#58s1" title='s1' data-ref="58s1" data-ref-filename="58s1">s1</a>, &amp;<a class="local col9 ref" href="#59e" title='e' data-ref="59e" data-ref-filename="59e">e</a>);</td></tr>
<tr><th id="361">361</th><td>    <b>if</b> (<a class="local col9 ref" href="#59e" title='e' data-ref="59e" data-ref-filename="59e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>)</td></tr>
<tr><th id="362">362</th><td>        <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"constant"</q>);</td></tr>
<tr><th id="363">363</th><td>    <b>return</b> <a class="local col9 ref" href="#59e" title='e' data-ref="59e" data-ref-filename="59e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="364">364</th><td>}</td></tr>
<tr><th id="365">365</th><td></td></tr>
<tr><th id="366">366</th><td><em>static</em> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a>* <dfn class="tu decl def fn" id="asm_new_label1" title='asm_new_label1' data-type='Sym * asm_new_label1(TCCState * s1, int label, int is_local, int sh_num, int value)' data-ref="asm_new_label1" data-ref-filename="asm_new_label1">asm_new_label1</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col0 decl" id="60s1" title='s1' data-type='TCCState *' data-ref="60s1" data-ref-filename="60s1">s1</dfn>, <em>int</em> <dfn class="local col1 decl" id="61label" title='label' data-type='int' data-ref="61label" data-ref-filename="61label">label</dfn>, <em>int</em> <dfn class="local col2 decl" id="62is_local" title='is_local' data-type='int' data-ref="62is_local" data-ref-filename="62is_local">is_local</dfn>,</td></tr>
<tr><th id="367">367</th><td>                           <em>int</em> <dfn class="local col3 decl" id="63sh_num" title='sh_num' data-type='int' data-ref="63sh_num" data-ref-filename="63sh_num">sh_num</dfn>, <em>int</em> <dfn class="local col4 decl" id="64value" title='value' data-type='int' data-ref="64value" data-ref-filename="64value">value</dfn>)</td></tr>
<tr><th id="368">368</th><td>{</td></tr>
<tr><th id="369">369</th><td>    <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col5 decl" id="65sym" title='sym' data-type='Sym *' data-ref="65sym" data-ref-filename="65sym">sym</dfn>;</td></tr>
<tr><th id="370">370</th><td>    <a class="macro" href="tcc.h.html#372" title="Elf64_Sym" data-ref="_M/ElfSym">ElfSym</a> *<dfn class="local col6 decl" id="66esym" title='esym' data-type='Elf64_Sym *' data-ref="66esym" data-ref-filename="66esym">esym</dfn>;</td></tr>
<tr><th id="371">371</th><td></td></tr>
<tr><th id="372">372</th><td>    <a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a> = <a class="tu ref fn" href="#asm_label_find" title='asm_label_find' data-use='c' data-ref="asm_label_find" data-ref-filename="asm_label_find">asm_label_find</a>(<a class="local col1 ref" href="#61label" title='label' data-ref="61label" data-ref-filename="61label">label</a>);</td></tr>
<tr><th id="373">373</th><td>    <b>if</b> (<a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>) {</td></tr>
<tr><th id="374">374</th><td>	<a class="local col6 ref" href="#66esym" title='esym' data-ref="66esym" data-ref-filename="66esym">esym</a> = <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>);</td></tr>
<tr><th id="375">375</th><td>	<i>/* A VT_EXTERN symbol, even if it has a section is considered</i></td></tr>
<tr><th id="376">376</th><td><i>	   overridable.  This is how we "define" .set targets.  Real</i></td></tr>
<tr><th id="377">377</th><td><i>	   definitions won't have VT_EXTERN set.  */</i></td></tr>
<tr><th id="378">378</th><td>        <b>if</b> (<a class="local col6 ref" href="#66esym" title='esym' data-ref="66esym" data-ref-filename="66esym">esym</a> &amp;&amp; <a class="local col6 ref" href="#66esym" title='esym' data-ref="66esym" data-ref-filename="66esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> != <a class="macro" href="elf.h.html#312" title="0" data-ref="_M/SHN_UNDEF">SHN_UNDEF</a>) {</td></tr>
<tr><th id="379">379</th><td>            <i>/* the label is already defined */</i></td></tr>
<tr><th id="380">380</th><td>            <b>if</b> (<a class="macro" href="tcc.h.html#917" title="(((sym)-&gt;type.t &amp; (0x000f | (0 | 0x0010))) == (0 | 0x0010))" data-ref="_M/IS_ASM_SYM">IS_ASM_SYM</a>(<a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>)</td></tr>
<tr><th id="381">381</th><td>                &amp;&amp; (<a class="local col2 ref" href="#62is_local" title='is_local' data-ref="62is_local" data-ref-filename="62is_local">is_local</a> == <var>1</var> || (<a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::type" title='Sym::type' data-ref="Sym::type" data-ref-filename="Sym..type">type</a>.<a class="ref field" href="tcc.h.html#CType::t" title='CType::t' data-ref="CType::t" data-ref-filename="CType..t">t</a> &amp; <a class="macro" href="tcc.h.html#892" title="0x00001000" data-ref="_M/VT_EXTERN">VT_EXTERN</a>)))</td></tr>
<tr><th id="382">382</th><td>                <b>goto</b> <a class="lbl" href="#67new_label" data-ref="67new_label" data-ref-filename="67new_label">new_label</a>;</td></tr>
<tr><th id="383">383</th><td>            <b>if</b> (!(<a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::type" title='Sym::type' data-ref="Sym::type" data-ref-filename="Sym..type">type</a>.<a class="ref field" href="tcc.h.html#CType::t" title='CType::t' data-ref="CType::t" data-ref-filename="CType..t">t</a> &amp; <a class="macro" href="tcc.h.html#892" title="0x00001000" data-ref="_M/VT_EXTERN">VT_EXTERN</a>))</td></tr>
<tr><th id="384">384</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"assembler label '%s' already defined"</q>,</td></tr>
<tr><th id="385">385</th><td>                          <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="local col1 ref" href="#61label" title='label' data-ref="61label" data-ref-filename="61label">label</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="386">386</th><td>        }</td></tr>
<tr><th id="387">387</th><td>    } <b>else</b> {</td></tr>
<tr><th id="388">388</th><td>    <dfn class="lbl" id="67new_label" data-ref="67new_label" data-ref-filename="67new_label">new_label</dfn>:</td></tr>
<tr><th id="389">389</th><td>        <a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a> = <a class="tu ref fn" href="#asm_label_push" title='asm_label_push' data-use='c' data-ref="asm_label_push" data-ref-filename="asm_label_push">asm_label_push</a>(<a class="local col1 ref" href="#61label" title='label' data-ref="61label" data-ref-filename="61label">label</a>);</td></tr>
<tr><th id="390">390</th><td>    }</td></tr>
<tr><th id="391">391</th><td>    <b>if</b> (!<a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::(anonymousunion)::(anonymous)::c" title='Sym::(anonymous union)::(anonymous struct)::c' data-ref="Sym::(anonymousunion)::(anonymous)::c" data-ref-filename="Sym..(anonymousunion)..(anonymous)..c">c</a>)</td></tr>
<tr><th id="392">392</th><td>      <a class="ref fn" href="tcc.h.html#put_extern_sym2" title='put_extern_sym2' data-ref="put_extern_sym2" data-ref-filename="put_extern_sym2">put_extern_sym2</a>(<a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>, <a class="macro" href="elf.h.html#312" title="0" data-ref="_M/SHN_UNDEF">SHN_UNDEF</a>, <var>0</var>, <var>0</var>, <var>0</var>);</td></tr>
<tr><th id="393">393</th><td>    <a class="local col6 ref" href="#66esym" title='esym' data-ref="66esym" data-ref-filename="66esym">esym</a> = <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>);</td></tr>
<tr><th id="394">394</th><td>    <a class="local col6 ref" href="#66esym" title='esym' data-ref="66esym" data-ref-filename="66esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> = <a class="local col3 ref" href="#63sh_num" title='sh_num' data-ref="63sh_num" data-ref-filename="63sh_num">sh_num</a>;</td></tr>
<tr><th id="395">395</th><td>    <a class="local col6 ref" href="#66esym" title='esym' data-ref="66esym" data-ref-filename="66esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a> = <a class="local col4 ref" href="#64value" title='value' data-ref="64value" data-ref-filename="64value">value</a>;</td></tr>
<tr><th id="396">396</th><td>    <b>if</b> (<a class="local col2 ref" href="#62is_local" title='is_local' data-ref="62is_local" data-ref-filename="62is_local">is_local</a> != <var>2</var>)</td></tr>
<tr><th id="397">397</th><td>        <a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::type" title='Sym::type' data-ref="Sym::type" data-ref-filename="Sym..type">type</a>.<a class="ref field" href="tcc.h.html#CType::t" title='CType::t' data-ref="CType::t" data-ref-filename="CType..t">t</a> &amp;= ~<a class="macro" href="tcc.h.html#892" title="0x00001000" data-ref="_M/VT_EXTERN">VT_EXTERN</a>;</td></tr>
<tr><th id="398">398</th><td>    <b>return</b> <a class="local col5 ref" href="#65sym" title='sym' data-ref="65sym" data-ref-filename="65sym">sym</a>;</td></tr>
<tr><th id="399">399</th><td>}</td></tr>
<tr><th id="400">400</th><td></td></tr>
<tr><th id="401">401</th><td><em>static</em> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a>* <dfn class="tu decl def fn" id="asm_new_label" title='asm_new_label' data-type='Sym * asm_new_label(TCCState * s1, int label, int is_local)' data-ref="asm_new_label" data-ref-filename="asm_new_label">asm_new_label</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col8 decl" id="68s1" title='s1' data-type='TCCState *' data-ref="68s1" data-ref-filename="68s1">s1</dfn>, <em>int</em> <dfn class="local col9 decl" id="69label" title='label' data-type='int' data-ref="69label" data-ref-filename="69label">label</dfn>, <em>int</em> <dfn class="local col0 decl" id="70is_local" title='is_local' data-type='int' data-ref="70is_local" data-ref-filename="70is_local">is_local</dfn>)</td></tr>
<tr><th id="402">402</th><td>{</td></tr>
<tr><th id="403">403</th><td>    <b>return</b> <a class="tu ref fn" href="#asm_new_label1" title='asm_new_label1' data-use='c' data-ref="asm_new_label1" data-ref-filename="asm_new_label1">asm_new_label1</a>(<a class="local col8 ref" href="#68s1" title='s1' data-ref="68s1" data-ref-filename="68s1">s1</a>, <a class="local col9 ref" href="#69label" title='label' data-ref="69label" data-ref-filename="69label">label</a>, <a class="local col0 ref" href="#70is_local" title='is_local' data-ref="70is_local" data-ref-filename="70is_local">is_local</a>, <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_num" title='Section::sh_num' data-ref="Section::sh_num" data-ref-filename="Section..sh_num">sh_num</a>, <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>);</td></tr>
<tr><th id="404">404</th><td>}</td></tr>
<tr><th id="405">405</th><td></td></tr>
<tr><th id="406">406</th><td><i  data-doc="set_symbol">/* Set the value of LABEL to that of some expression (possibly</i></td></tr>
<tr><th id="407">407</th><td><i  data-doc="set_symbol">   involving other symbols).  LABEL can be overwritten later still.  */</i></td></tr>
<tr><th id="408">408</th><td><em>static</em> <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a>* <dfn class="tu decl def fn" id="set_symbol" title='set_symbol' data-type='Sym * set_symbol(TCCState * s1, int label)' data-ref="set_symbol" data-ref-filename="set_symbol">set_symbol</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col1 decl" id="71s1" title='s1' data-type='TCCState *' data-ref="71s1" data-ref-filename="71s1">s1</dfn>, <em>int</em> <dfn class="local col2 decl" id="72label" title='label' data-type='int' data-ref="72label" data-ref-filename="72label">label</dfn>)</td></tr>
<tr><th id="409">409</th><td>{</td></tr>
<tr><th id="410">410</th><td>    <em>long</em> <dfn class="local col3 decl" id="73n" title='n' data-type='long' data-ref="73n" data-ref-filename="73n">n</dfn>;</td></tr>
<tr><th id="411">411</th><td>    <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> <dfn class="local col4 decl" id="74e" title='e' data-type='ExprValue' data-ref="74e" data-ref-filename="74e">e</dfn>;</td></tr>
<tr><th id="412">412</th><td>    <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col5 decl" id="75sym" title='sym' data-type='Sym *' data-ref="75sym" data-ref-filename="75sym">sym</dfn>;</td></tr>
<tr><th id="413">413</th><td>    <a class="macro" href="tcc.h.html#372" title="Elf64_Sym" data-ref="_M/ElfSym">ElfSym</a> *<dfn class="local col6 decl" id="76esym" title='esym' data-type='Elf64_Sym *' data-ref="76esym" data-ref-filename="76esym">esym</dfn>;</td></tr>
<tr><th id="414">414</th><td>    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="415">415</th><td>    <a class="ref fn" href="#asm_expr" title='asm_expr' data-ref="asm_expr" data-ref-filename="asm_expr">asm_expr</a>(<a class="local col1 ref" href="#71s1" title='s1' data-ref="71s1" data-ref-filename="71s1">s1</a>, &amp;<a class="local col4 ref" href="#74e" title='e' data-ref="74e" data-ref-filename="74e">e</a>);</td></tr>
<tr><th id="416">416</th><td>    <a class="local col3 ref" href="#73n" title='n' data-ref="73n" data-ref-filename="73n">n</a> = <a class="local col4 ref" href="#74e" title='e' data-ref="74e" data-ref-filename="74e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="417">417</th><td>    <a class="local col6 ref" href="#76esym" title='esym' data-ref="76esym" data-ref-filename="76esym">esym</a> = <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col4 ref" href="#74e" title='e' data-ref="74e" data-ref-filename="74e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>);</td></tr>
<tr><th id="418">418</th><td>    <b>if</b> (<a class="local col6 ref" href="#76esym" title='esym' data-ref="76esym" data-ref-filename="76esym">esym</a>)</td></tr>
<tr><th id="419">419</th><td>	<a class="local col3 ref" href="#73n" title='n' data-ref="73n" data-ref-filename="73n">n</a> += <a class="local col6 ref" href="#76esym" title='esym' data-ref="76esym" data-ref-filename="76esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a>;</td></tr>
<tr><th id="420">420</th><td>    <a class="local col5 ref" href="#75sym" title='sym' data-ref="75sym" data-ref-filename="75sym">sym</a> = <a class="tu ref fn" href="#asm_new_label1" title='asm_new_label1' data-use='c' data-ref="asm_new_label1" data-ref-filename="asm_new_label1">asm_new_label1</a>(<a class="local col1 ref" href="#71s1" title='s1' data-ref="71s1" data-ref-filename="71s1">s1</a>, <a class="local col2 ref" href="#72label" title='label' data-ref="72label" data-ref-filename="72label">label</a>, <var>2</var>, <a class="local col6 ref" href="#76esym" title='esym' data-ref="76esym" data-ref-filename="76esym">esym</a> ? <a class="local col6 ref" href="#76esym" title='esym' data-ref="76esym" data-ref-filename="76esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> : <a class="macro" href="elf.h.html#322" title="0xfff1" data-ref="_M/SHN_ABS">SHN_ABS</a>, <a class="local col3 ref" href="#73n" title='n' data-ref="73n" data-ref-filename="73n">n</a>);</td></tr>
<tr><th id="421">421</th><td>    <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col5 ref" href="#75sym" title='sym' data-ref="75sym" data-ref-filename="75sym">sym</a>)-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_other" title='(anonymous struct)::st_other' data-ref="(anonymous)::st_other" data-ref-filename="(anonymous)..st_other">st_other</a> |= <a class="macro" href="tcc.h.html#1632" title="0x04" data-ref="_M/ST_ASM_SET">ST_ASM_SET</a>;</td></tr>
<tr><th id="422">422</th><td>    <b>return</b> <a class="local col5 ref" href="#75sym" title='sym' data-ref="75sym" data-ref-filename="75sym">sym</a>;</td></tr>
<tr><th id="423">423</th><td>}</td></tr>
<tr><th id="424">424</th><td></td></tr>
<tr><th id="425">425</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="use_section1" title='use_section1' data-type='void use_section1(TCCState * s1, Section * sec)' data-ref="use_section1" data-ref-filename="use_section1">use_section1</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col7 decl" id="77s1" title='s1' data-type='TCCState *' data-ref="77s1" data-ref-filename="77s1">s1</dfn>, <a class="typedef" href="tcc.h.html#Section" title='Section' data-type='struct Section' data-ref="Section" data-ref-filename="Section">Section</a> *<dfn class="local col8 decl" id="78sec" title='sec' data-type='Section *' data-ref="78sec" data-ref-filename="78sec">sec</dfn>)</td></tr>
<tr><th id="426">426</th><td>{</td></tr>
<tr><th id="427">427</th><td>    <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::data_offset" title='Section::data_offset' data-ref="Section::data_offset" data-ref-filename="Section..data_offset">data_offset</a> = <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>;</td></tr>
<tr><th id="428">428</th><td>    <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a> = <a class="local col8 ref" href="#78sec" title='sec' data-ref="78sec" data-ref-filename="78sec">sec</a>;</td></tr>
<tr><th id="429">429</th><td>    <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a> = <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::data_offset" title='Section::data_offset' data-ref="Section::data_offset" data-ref-filename="Section..data_offset">data_offset</a>;</td></tr>
<tr><th id="430">430</th><td>}</td></tr>
<tr><th id="431">431</th><td></td></tr>
<tr><th id="432">432</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="use_section" title='use_section' data-type='void use_section(TCCState * s1, const char * name)' data-ref="use_section" data-ref-filename="use_section">use_section</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col9 decl" id="79s1" title='s1' data-type='TCCState *' data-ref="79s1" data-ref-filename="79s1">s1</dfn>, <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="80name" title='name' data-type='const char *' data-ref="80name" data-ref-filename="80name">name</dfn>)</td></tr>
<tr><th id="433">433</th><td>{</td></tr>
<tr><th id="434">434</th><td>    <a class="typedef" href="tcc.h.html#Section" title='Section' data-type='struct Section' data-ref="Section" data-ref-filename="Section">Section</a> *<dfn class="local col1 decl" id="81sec" title='sec' data-type='Section *' data-ref="81sec" data-ref-filename="81sec">sec</dfn>;</td></tr>
<tr><th id="435">435</th><td>    <a class="local col1 ref" href="#81sec" title='sec' data-ref="81sec" data-ref-filename="81sec">sec</a> = <a class="ref fn" href="tcc.h.html#find_section" title='find_section' data-ref="find_section" data-ref-filename="find_section">find_section</a>(<a class="local col9 ref" href="#79s1" title='s1' data-ref="79s1" data-ref-filename="79s1">s1</a>, <a class="local col0 ref" href="#80name" title='name' data-ref="80name" data-ref-filename="80name">name</a>);</td></tr>
<tr><th id="436">436</th><td>    <a class="tu ref fn" href="#use_section1" title='use_section1' data-use='c' data-ref="use_section1" data-ref-filename="use_section1">use_section1</a>(<a class="local col9 ref" href="#79s1" title='s1' data-ref="79s1" data-ref-filename="79s1">s1</a>, <a class="local col1 ref" href="#81sec" title='sec' data-ref="81sec" data-ref-filename="81sec">sec</a>);</td></tr>
<tr><th id="437">437</th><td>}</td></tr>
<tr><th id="438">438</th><td></td></tr>
<tr><th id="439">439</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="push_section" title='push_section' data-type='void push_section(TCCState * s1, const char * name)' data-ref="push_section" data-ref-filename="push_section">push_section</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col2 decl" id="82s1" title='s1' data-type='TCCState *' data-ref="82s1" data-ref-filename="82s1">s1</dfn>, <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="83name" title='name' data-type='const char *' data-ref="83name" data-ref-filename="83name">name</dfn>)</td></tr>
<tr><th id="440">440</th><td>{</td></tr>
<tr><th id="441">441</th><td>    <a class="typedef" href="tcc.h.html#Section" title='Section' data-type='struct Section' data-ref="Section" data-ref-filename="Section">Section</a> *<dfn class="local col4 decl" id="84sec" title='sec' data-type='Section *' data-ref="84sec" data-ref-filename="84sec">sec</dfn> = <a class="ref fn" href="tcc.h.html#find_section" title='find_section' data-ref="find_section" data-ref-filename="find_section">find_section</a>(<a class="local col2 ref" href="#82s1" title='s1' data-ref="82s1" data-ref-filename="82s1">s1</a>, <a class="local col3 ref" href="#83name" title='name' data-ref="83name" data-ref-filename="83name">name</a>);</td></tr>
<tr><th id="442">442</th><td>    <a class="local col4 ref" href="#84sec" title='sec' data-ref="84sec" data-ref-filename="84sec">sec</a>-&gt;<a class="ref field" href="tcc.h.html#Section::prev" title='Section::prev' data-ref="Section::prev" data-ref-filename="Section..prev">prev</a> = <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>;</td></tr>
<tr><th id="443">443</th><td>    <a class="tu ref fn" href="#use_section1" title='use_section1' data-use='c' data-ref="use_section1" data-ref-filename="use_section1">use_section1</a>(<a class="local col2 ref" href="#82s1" title='s1' data-ref="82s1" data-ref-filename="82s1">s1</a>, <a class="local col4 ref" href="#84sec" title='sec' data-ref="84sec" data-ref-filename="84sec">sec</a>);</td></tr>
<tr><th id="444">444</th><td>}</td></tr>
<tr><th id="445">445</th><td></td></tr>
<tr><th id="446">446</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="pop_section" title='pop_section' data-type='void pop_section(TCCState * s1)' data-ref="pop_section" data-ref-filename="pop_section">pop_section</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col5 decl" id="85s1" title='s1' data-type='TCCState *' data-ref="85s1" data-ref-filename="85s1">s1</dfn>)</td></tr>
<tr><th id="447">447</th><td>{</td></tr>
<tr><th id="448">448</th><td>    <a class="typedef" href="tcc.h.html#Section" title='Section' data-type='struct Section' data-ref="Section" data-ref-filename="Section">Section</a> *<dfn class="local col6 decl" id="86prev" title='prev' data-type='Section *' data-ref="86prev" data-ref-filename="86prev">prev</dfn> = <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::prev" title='Section::prev' data-ref="Section::prev" data-ref-filename="Section..prev">prev</a>;</td></tr>
<tr><th id="449">449</th><td>    <b>if</b> (!<a class="local col6 ref" href="#86prev" title='prev' data-ref="86prev" data-ref-filename="86prev">prev</a>)</td></tr>
<tr><th id="450">450</th><td>        <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>".popsection without .pushsection"</q>);</td></tr>
<tr><th id="451">451</th><td>    <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::prev" title='Section::prev' data-ref="Section::prev" data-ref-filename="Section..prev">prev</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="452">452</th><td>    <a class="tu ref fn" href="#use_section1" title='use_section1' data-use='c' data-ref="use_section1" data-ref-filename="use_section1">use_section1</a>(<a class="local col5 ref" href="#85s1" title='s1' data-ref="85s1" data-ref-filename="85s1">s1</a>, <a class="local col6 ref" href="#86prev" title='prev' data-ref="86prev" data-ref-filename="86prev">prev</a>);</td></tr>
<tr><th id="453">453</th><td>}</td></tr>
<tr><th id="454">454</th><td></td></tr>
<tr><th id="455">455</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="asm_parse_directive" title='asm_parse_directive' data-type='void asm_parse_directive(TCCState * s1, int global)' data-ref="asm_parse_directive" data-ref-filename="asm_parse_directive">asm_parse_directive</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col7 decl" id="87s1" title='s1' data-type='TCCState *' data-ref="87s1" data-ref-filename="87s1">s1</dfn>, <em>int</em> <dfn class="local col8 decl" id="88global" title='global' data-type='int' data-ref="88global" data-ref-filename="88global">global</dfn>)</td></tr>
<tr><th id="456">456</th><td>{</td></tr>
<tr><th id="457">457</th><td>    <em>int</em> <dfn class="local col9 decl" id="89n" title='n' data-type='int' data-ref="89n" data-ref-filename="89n">n</dfn>, <dfn class="local col0 decl" id="90offset" title='offset' data-type='int' data-ref="90offset" data-ref-filename="90offset">offset</dfn>, <dfn class="local col1 decl" id="91v" title='v' data-type='int' data-ref="91v" data-ref-filename="91v">v</dfn>, <dfn class="local col2 decl" id="92size" title='size' data-type='int' data-ref="92size" data-ref-filename="92size">size</dfn>, <dfn class="local col3 decl" id="93tok1" title='tok1' data-type='int' data-ref="93tok1" data-ref-filename="93tok1">tok1</dfn>;</td></tr>
<tr><th id="458">458</th><td>    <a class="typedef" href="tcc.h.html#Section" title='Section' data-type='struct Section' data-ref="Section" data-ref-filename="Section">Section</a> *<dfn class="local col4 decl" id="94sec" title='sec' data-type='Section *' data-ref="94sec" data-ref-filename="94sec">sec</dfn>;</td></tr>
<tr><th id="459">459</th><td>    <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> *<dfn class="local col5 decl" id="95ptr" title='ptr' data-type='uint8_t *' data-ref="95ptr" data-ref-filename="95ptr">ptr</dfn>;</td></tr>
<tr><th id="460">460</th><td></td></tr>
<tr><th id="461">461</th><td>    <i>/* assembler directive */</i></td></tr>
<tr><th id="462">462</th><td>    <a class="local col4 ref" href="#94sec" title='sec' data-ref="94sec" data-ref-filename="94sec">sec</a> = <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>;</td></tr>
<tr><th id="463">463</th><td>    <b>switch</b>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>) {</td></tr>
<tr><th id="464">464</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#309" title='TOK_ASMDIR_align' data-ref="TOK_ASMDIR_align" data-ref-filename="TOK_ASMDIR_align">TOK_ASMDIR_align</a>:</td></tr>
<tr><th id="465">465</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#310" title='TOK_ASMDIR_balign' data-ref="TOK_ASMDIR_balign" data-ref-filename="TOK_ASMDIR_balign">TOK_ASMDIR_balign</a>:</td></tr>
<tr><th id="466">466</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#311" title='TOK_ASMDIR_p2align' data-ref="TOK_ASMDIR_p2align" data-ref-filename="TOK_ASMDIR_p2align">TOK_ASMDIR_p2align</a>:</td></tr>
<tr><th id="467">467</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#313" title='TOK_ASMDIR_skip' data-ref="TOK_ASMDIR_skip" data-ref-filename="TOK_ASMDIR_skip">TOK_ASMDIR_skip</a>:</td></tr>
<tr><th id="468">468</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#314" title='TOK_ASMDIR_space' data-ref="TOK_ASMDIR_space" data-ref-filename="TOK_ASMDIR_space">TOK_ASMDIR_space</a>:</td></tr>
<tr><th id="469">469</th><td>        <a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="470">470</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="471">471</th><td>        <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> = <a class="ref fn" href="#asm_int_expr" title='asm_int_expr' data-ref="asm_int_expr" data-ref-filename="asm_int_expr">asm_int_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>);</td></tr>
<tr><th id="472">472</th><td>        <b>if</b> (<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> == <a class="enum" href="tcctok.h.html#311" title='TOK_ASMDIR_p2align' data-ref="TOK_ASMDIR_p2align" data-ref-filename="TOK_ASMDIR_p2align">TOK_ASMDIR_p2align</a>)</td></tr>
<tr><th id="473">473</th><td>        {</td></tr>
<tr><th id="474">474</th><td>            <b>if</b> (<a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> &lt; <var>0</var> || <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> &gt; <var>30</var>)</td></tr>
<tr><th id="475">475</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"invalid p2align, must be between 0 and 30"</q>);</td></tr>
<tr><th id="476">476</th><td>            <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> = <var>1</var> &lt;&lt; <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a>;</td></tr>
<tr><th id="477">477</th><td>            <a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> = <a class="enum" href="tcctok.h.html#309" title='TOK_ASMDIR_align' data-ref="TOK_ASMDIR_align" data-ref-filename="TOK_ASMDIR_align">TOK_ASMDIR_align</a>;</td></tr>
<tr><th id="478">478</th><td>        }</td></tr>
<tr><th id="479">479</th><td>        <b>if</b> (<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> == <a class="enum" href="tcctok.h.html#309" title='TOK_ASMDIR_align' data-ref="TOK_ASMDIR_align" data-ref-filename="TOK_ASMDIR_align">TOK_ASMDIR_align</a> || <a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> == <a class="enum" href="tcctok.h.html#310" title='TOK_ASMDIR_balign' data-ref="TOK_ASMDIR_balign" data-ref-filename="TOK_ASMDIR_balign">TOK_ASMDIR_balign</a>) {</td></tr>
<tr><th id="480">480</th><td>            <b>if</b> (<a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> &lt; <var>0</var> || (<a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> &amp; (<a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a>-<var>1</var>)) != <var>0</var>)</td></tr>
<tr><th id="481">481</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"alignment must be a positive power of two"</q>);</td></tr>
<tr><th id="482">482</th><td>            <a class="local col0 ref" href="#90offset" title='offset' data-ref="90offset" data-ref-filename="90offset">offset</a> = (<a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a> + <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> - <var>1</var>) &amp; -<a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a>;</td></tr>
<tr><th id="483">483</th><td>            <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> = <a class="local col0 ref" href="#90offset" title='offset' data-ref="90offset" data-ref-filename="90offset">offset</a> - <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>;</td></tr>
<tr><th id="484">484</th><td>            <i>/* the section must have a compatible alignment */</i></td></tr>
<tr><th id="485">485</th><td>            <b>if</b> (<a class="local col4 ref" href="#94sec" title='sec' data-ref="94sec" data-ref-filename="94sec">sec</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_addralign" title='Section::sh_addralign' data-ref="Section::sh_addralign" data-ref-filename="Section..sh_addralign">sh_addralign</a> &lt; <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a>)</td></tr>
<tr><th id="486">486</th><td>                <a class="local col4 ref" href="#94sec" title='sec' data-ref="94sec" data-ref-filename="94sec">sec</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_addralign" title='Section::sh_addralign' data-ref="Section::sh_addralign" data-ref-filename="Section..sh_addralign">sh_addralign</a> = <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a>;</td></tr>
<tr><th id="487">487</th><td>        } <b>else</b> {</td></tr>
<tr><th id="488">488</th><td>	    <b>if</b> (<a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> &lt; <var>0</var>)</td></tr>
<tr><th id="489">489</th><td>	        <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> = <var>0</var>;</td></tr>
<tr><th id="490">490</th><td>            <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> = <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a>;</td></tr>
<tr><th id="491">491</th><td>        }</td></tr>
<tr><th id="492">492</th><td>        <a class="local col1 ref" href="#91v" title='v' data-ref="91v" data-ref-filename="91v">v</a> = <var>0</var>;</td></tr>
<tr><th id="493">493</th><td>        <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>) {</td></tr>
<tr><th id="494">494</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="495">495</th><td>            <a class="local col1 ref" href="#91v" title='v' data-ref="91v" data-ref-filename="91v">v</a> = <a class="ref fn" href="#asm_int_expr" title='asm_int_expr' data-ref="asm_int_expr" data-ref-filename="asm_int_expr">asm_int_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>);</td></tr>
<tr><th id="496">496</th><td>        }</td></tr>
<tr><th id="497">497</th><td>    <dfn class="lbl" id="96zero_pad" data-ref="96zero_pad" data-ref-filename="96zero_pad">zero_pad</dfn>:</td></tr>
<tr><th id="498">498</th><td>        <b>if</b> (<a class="local col4 ref" href="#94sec" title='sec' data-ref="94sec" data-ref-filename="94sec">sec</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_type" title='Section::sh_type' data-ref="Section::sh_type" data-ref-filename="Section..sh_type">sh_type</a> != <a class="macro" href="elf.h.html#337" title="8" data-ref="_M/SHT_NOBITS">SHT_NOBITS</a>) {</td></tr>
<tr><th id="499">499</th><td>            <a class="local col4 ref" href="#94sec" title='sec' data-ref="94sec" data-ref-filename="94sec">sec</a>-&gt;<a class="ref field" href="tcc.h.html#Section::data_offset" title='Section::data_offset' data-ref="Section::data_offset" data-ref-filename="Section..data_offset">data_offset</a> = <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>;</td></tr>
<tr><th id="500">500</th><td>            <a class="local col5 ref" href="#95ptr" title='ptr' data-ref="95ptr" data-ref-filename="95ptr">ptr</a> = <a class="ref fn" href="tcc.h.html#section_ptr_add" title='section_ptr_add' data-ref="section_ptr_add" data-ref-filename="section_ptr_add">section_ptr_add</a>(<a class="local col4 ref" href="#94sec" title='sec' data-ref="94sec" data-ref-filename="94sec">sec</a>, <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a>);</td></tr>
<tr><th id="501">501</th><td>            <a class="ref fn" href="../include/string.h.html#memset" title='memset' data-ref="memset" data-ref-filename="memset">memset</a>(<a class="local col5 ref" href="#95ptr" title='ptr' data-ref="95ptr" data-ref-filename="95ptr">ptr</a>, <a class="local col1 ref" href="#91v" title='v' data-ref="91v" data-ref-filename="91v">v</a>, <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a>);</td></tr>
<tr><th id="502">502</th><td>        }</td></tr>
<tr><th id="503">503</th><td>        <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a> += <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a>;</td></tr>
<tr><th id="504">504</th><td>        <b>break</b>;</td></tr>
<tr><th id="505">505</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#336" title='TOK_ASMDIR_quad' data-ref="TOK_ASMDIR_quad" data-ref-filename="TOK_ASMDIR_quad">TOK_ASMDIR_quad</a>:</td></tr>
<tr><th id="506">506</th><td><u>#<span data-ppcond="506">ifdef</span> <span class="macro" data-ref="_M/TCC_TARGET_X86_64">TCC_TARGET_X86_64</span></u></td></tr>
<tr><th id="507">507</th><td>	<a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> = <var>8</var>;</td></tr>
<tr><th id="508">508</th><td>	<b>goto</b> <a class="lbl" href="#97asm_data" data-ref="97asm_data" data-ref-filename="97asm_data">asm_data</a>;</td></tr>
<tr><th id="509">509</th><td><u>#<span data-ppcond="506">else</span></u></td></tr>
<tr><th id="510">510</th><td>        next();</td></tr>
<tr><th id="511">511</th><td>        <b>for</b>(;;) {</td></tr>
<tr><th id="512">512</th><td>            uint64_t vl;</td></tr>
<tr><th id="513">513</th><td>            <em>const</em> <em>char</em> *p;</td></tr>
<tr><th id="514">514</th><td></td></tr>
<tr><th id="515">515</th><td>            p = tokc.str.data;</td></tr>
<tr><th id="516">516</th><td>            <b>if</b> (tok != TOK_PPNUM) {</td></tr>
<tr><th id="517">517</th><td>            error_constant:</td></tr>
<tr><th id="518">518</th><td>                tcc_error(<q>"64 bit constant"</q>);</td></tr>
<tr><th id="519">519</th><td>            }</td></tr>
<tr><th id="520">520</th><td>            vl = strtoll(p, (<em>char</em> **)&amp;p, <var>0</var>);</td></tr>
<tr><th id="521">521</th><td>            <b>if</b> (*p != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="522">522</th><td>                <b>goto</b> error_constant;</td></tr>
<tr><th id="523">523</th><td>            next();</td></tr>
<tr><th id="524">524</th><td>            <b>if</b> (sec-&gt;sh_type != SHT_NOBITS) {</td></tr>
<tr><th id="525">525</th><td>                <i>/* XXX: endianness */</i></td></tr>
<tr><th id="526">526</th><td>                gen_le32(vl);</td></tr>
<tr><th id="527">527</th><td>                gen_le32(vl &gt;&gt; <var>32</var>);</td></tr>
<tr><th id="528">528</th><td>            } <b>else</b> {</td></tr>
<tr><th id="529">529</th><td>                ind += <var>8</var>;</td></tr>
<tr><th id="530">530</th><td>            }</td></tr>
<tr><th id="531">531</th><td>            <b>if</b> (tok != <kbd>','</kbd>)</td></tr>
<tr><th id="532">532</th><td>                <b>break</b>;</td></tr>
<tr><th id="533">533</th><td>            next();</td></tr>
<tr><th id="534">534</th><td>        }</td></tr>
<tr><th id="535">535</th><td>        <b>break</b>;</td></tr>
<tr><th id="536">536</th><td><u>#<span data-ppcond="506">endif</span></u></td></tr>
<tr><th id="537">537</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#307" title='TOK_ASMDIR_byte' data-ref="TOK_ASMDIR_byte" data-ref-filename="TOK_ASMDIR_byte">TOK_ASMDIR_byte</a>:</td></tr>
<tr><th id="538">538</th><td>        <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> = <var>1</var>;</td></tr>
<tr><th id="539">539</th><td>        <b>goto</b> <a class="lbl" href="#97asm_data" data-ref="97asm_data" data-ref-filename="97asm_data">asm_data</a>;</td></tr>
<tr><th id="540">540</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#308" title='TOK_ASMDIR_word' data-ref="TOK_ASMDIR_word" data-ref-filename="TOK_ASMDIR_word">TOK_ASMDIR_word</a>:</td></tr>
<tr><th id="541">541</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#343" title='TOK_ASMDIR_short' data-ref="TOK_ASMDIR_short" data-ref-filename="TOK_ASMDIR_short">TOK_ASMDIR_short</a>:</td></tr>
<tr><th id="542">542</th><td>        <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> = <var>2</var>;</td></tr>
<tr><th id="543">543</th><td>        <b>goto</b> <a class="lbl" href="#97asm_data" data-ref="97asm_data" data-ref-filename="97asm_data">asm_data</a>;</td></tr>
<tr><th id="544">544</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#344" title='TOK_ASMDIR_long' data-ref="TOK_ASMDIR_long" data-ref-filename="TOK_ASMDIR_long">TOK_ASMDIR_long</a>:</td></tr>
<tr><th id="545">545</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#345" title='TOK_ASMDIR_int' data-ref="TOK_ASMDIR_int" data-ref-filename="TOK_ASMDIR_int">TOK_ASMDIR_int</a>:</td></tr>
<tr><th id="546">546</th><td>        <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> = <var>4</var>;</td></tr>
<tr><th id="547">547</th><td>    <dfn class="lbl" id="97asm_data" data-ref="97asm_data" data-ref-filename="97asm_data">asm_data</dfn>:</td></tr>
<tr><th id="548">548</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="549">549</th><td>        <b>for</b>(;;) {</td></tr>
<tr><th id="550">550</th><td>            <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> <dfn class="local col8 decl" id="98e" title='e' data-type='ExprValue' data-ref="98e" data-ref-filename="98e">e</dfn>;</td></tr>
<tr><th id="551">551</th><td>            <a class="ref fn" href="#asm_expr" title='asm_expr' data-ref="asm_expr" data-ref-filename="asm_expr">asm_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>, &amp;<a class="local col8 ref" href="#98e" title='e' data-ref="98e" data-ref-filename="98e">e</a>);</td></tr>
<tr><th id="552">552</th><td>            <b>if</b> (<a class="local col4 ref" href="#94sec" title='sec' data-ref="94sec" data-ref-filename="94sec">sec</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_type" title='Section::sh_type' data-ref="Section::sh_type" data-ref-filename="Section..sh_type">sh_type</a> != <a class="macro" href="elf.h.html#337" title="8" data-ref="_M/SHT_NOBITS">SHT_NOBITS</a>) {</td></tr>
<tr><th id="553">553</th><td>                <b>if</b> (<a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> == <var>4</var>) {</td></tr>
<tr><th id="554">554</th><td>                    <a class="ref fn" href="tcc.h.html#gen_expr32" title='gen_expr32' data-ref="gen_expr32" data-ref-filename="gen_expr32">gen_expr32</a>(&amp;<a class="local col8 ref" href="#98e" title='e' data-ref="98e" data-ref-filename="98e">e</a>);</td></tr>
<tr><th id="555">555</th><td><u>#<span data-ppcond="555">ifdef</span> <span class="macro" data-ref="_M/TCC_TARGET_X86_64">TCC_TARGET_X86_64</span></u></td></tr>
<tr><th id="556">556</th><td>		} <b>else</b> <b>if</b> (<a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> == <var>8</var>) {</td></tr>
<tr><th id="557">557</th><td>		    <a class="ref fn" href="tcc.h.html#gen_expr64" title='gen_expr64' data-ref="gen_expr64" data-ref-filename="gen_expr64">gen_expr64</a>(&amp;<a class="local col8 ref" href="#98e" title='e' data-ref="98e" data-ref-filename="98e">e</a>);</td></tr>
<tr><th id="558">558</th><td><u>#<span data-ppcond="555">endif</span></u></td></tr>
<tr><th id="559">559</th><td>                } <b>else</b> {</td></tr>
<tr><th id="560">560</th><td>                    <b>if</b> (<a class="local col8 ref" href="#98e" title='e' data-ref="98e" data-ref-filename="98e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>)</td></tr>
<tr><th id="561">561</th><td>                        <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"constant"</q>);</td></tr>
<tr><th id="562">562</th><td>                    <b>if</b> (<a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> == <var>1</var>)</td></tr>
<tr><th id="563">563</th><td>                        <a class="ref fn" href="tcc.h.html#g" title='g' data-ref="g" data-ref-filename="g">g</a>(<a class="local col8 ref" href="#98e" title='e' data-ref="98e" data-ref-filename="98e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>);</td></tr>
<tr><th id="564">564</th><td>                    <b>else</b></td></tr>
<tr><th id="565">565</th><td>                        <a class="ref fn" href="tcc.h.html#gen_le16" title='gen_le16' data-ref="gen_le16" data-ref-filename="gen_le16">gen_le16</a>(<a class="local col8 ref" href="#98e" title='e' data-ref="98e" data-ref-filename="98e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>);</td></tr>
<tr><th id="566">566</th><td>                }</td></tr>
<tr><th id="567">567</th><td>            } <b>else</b> {</td></tr>
<tr><th id="568">568</th><td>                <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a> += <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a>;</td></tr>
<tr><th id="569">569</th><td>            }</td></tr>
<tr><th id="570">570</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>','</kbd>)</td></tr>
<tr><th id="571">571</th><td>                <b>break</b>;</td></tr>
<tr><th id="572">572</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="573">573</th><td>        }</td></tr>
<tr><th id="574">574</th><td>        <b>break</b>;</td></tr>
<tr><th id="575">575</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#332" title='TOK_ASMDIR_fill' data-ref="TOK_ASMDIR_fill" data-ref-filename="TOK_ASMDIR_fill">TOK_ASMDIR_fill</a>:</td></tr>
<tr><th id="576">576</th><td>        {</td></tr>
<tr><th id="577">577</th><td>            <em>int</em> <dfn class="local col9 decl" id="99repeat" title='repeat' data-type='int' data-ref="99repeat" data-ref-filename="99repeat">repeat</dfn>, <dfn class="local col0 decl" id="100size" title='size' data-type='int' data-ref="100size" data-ref-filename="100size">size</dfn>, <dfn class="local col1 decl" id="101val" title='val' data-type='int' data-ref="101val" data-ref-filename="101val">val</dfn>, <dfn class="local col2 decl" id="102i" title='i' data-type='int' data-ref="102i" data-ref-filename="102i">i</dfn>, <dfn class="local col3 decl" id="103j" title='j' data-type='int' data-ref="103j" data-ref-filename="103j">j</dfn>;</td></tr>
<tr><th id="578">578</th><td>            <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="local col4 decl" id="104repeat_buf" title='repeat_buf' data-type='uint8_t [8]' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</dfn>[<var>8</var>];</td></tr>
<tr><th id="579">579</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="580">580</th><td>            <a class="local col9 ref" href="#99repeat" title='repeat' data-ref="99repeat" data-ref-filename="99repeat">repeat</a> = <a class="ref fn" href="#asm_int_expr" title='asm_int_expr' data-ref="asm_int_expr" data-ref-filename="asm_int_expr">asm_int_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>);</td></tr>
<tr><th id="581">581</th><td>            <b>if</b> (<a class="local col9 ref" href="#99repeat" title='repeat' data-ref="99repeat" data-ref-filename="99repeat">repeat</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="582">582</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"repeat &lt; 0; .fill ignored"</q>);</td></tr>
<tr><th id="583">583</th><td>                <b>break</b>;</td></tr>
<tr><th id="584">584</th><td>            }</td></tr>
<tr><th id="585">585</th><td>            <a class="local col0 ref" href="#100size" title='size' data-ref="100size" data-ref-filename="100size">size</a> = <var>1</var>;</td></tr>
<tr><th id="586">586</th><td>            <a class="local col1 ref" href="#101val" title='val' data-ref="101val" data-ref-filename="101val">val</a> = <var>0</var>;</td></tr>
<tr><th id="587">587</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>) {</td></tr>
<tr><th id="588">588</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="589">589</th><td>                <a class="local col0 ref" href="#100size" title='size' data-ref="100size" data-ref-filename="100size">size</a> = <a class="ref fn" href="#asm_int_expr" title='asm_int_expr' data-ref="asm_int_expr" data-ref-filename="asm_int_expr">asm_int_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>);</td></tr>
<tr><th id="590">590</th><td>                <b>if</b> (<a class="local col0 ref" href="#100size" title='size' data-ref="100size" data-ref-filename="100size">size</a> &lt; <var>0</var>) {</td></tr>
<tr><th id="591">591</th><td>                    <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"size &lt; 0; .fill ignored"</q>);</td></tr>
<tr><th id="592">592</th><td>                    <b>break</b>;</td></tr>
<tr><th id="593">593</th><td>                }</td></tr>
<tr><th id="594">594</th><td>                <b>if</b> (<a class="local col0 ref" href="#100size" title='size' data-ref="100size" data-ref-filename="100size">size</a> &gt; <var>8</var>)</td></tr>
<tr><th id="595">595</th><td>                    <a class="local col0 ref" href="#100size" title='size' data-ref="100size" data-ref-filename="100size">size</a> = <var>8</var>;</td></tr>
<tr><th id="596">596</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>) {</td></tr>
<tr><th id="597">597</th><td>                    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="598">598</th><td>                    <a class="local col1 ref" href="#101val" title='val' data-ref="101val" data-ref-filename="101val">val</a> = <a class="ref fn" href="#asm_int_expr" title='asm_int_expr' data-ref="asm_int_expr" data-ref-filename="asm_int_expr">asm_int_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>);</td></tr>
<tr><th id="599">599</th><td>                }</td></tr>
<tr><th id="600">600</th><td>            }</td></tr>
<tr><th id="601">601</th><td>            <i>/* XXX: endianness */</i></td></tr>
<tr><th id="602">602</th><td>            <a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<var>0</var>] = <a class="local col1 ref" href="#101val" title='val' data-ref="101val" data-ref-filename="101val">val</a>;</td></tr>
<tr><th id="603">603</th><td>            <a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<var>1</var>] = <a class="local col1 ref" href="#101val" title='val' data-ref="101val" data-ref-filename="101val">val</a> &gt;&gt; <var>8</var>;</td></tr>
<tr><th id="604">604</th><td>            <a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<var>2</var>] = <a class="local col1 ref" href="#101val" title='val' data-ref="101val" data-ref-filename="101val">val</a> &gt;&gt; <var>16</var>;</td></tr>
<tr><th id="605">605</th><td>            <a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<var>3</var>] = <a class="local col1 ref" href="#101val" title='val' data-ref="101val" data-ref-filename="101val">val</a> &gt;&gt; <var>24</var>;</td></tr>
<tr><th id="606">606</th><td>            <a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<var>4</var>] = <var>0</var>;</td></tr>
<tr><th id="607">607</th><td>            <a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<var>5</var>] = <var>0</var>;</td></tr>
<tr><th id="608">608</th><td>            <a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<var>6</var>] = <var>0</var>;</td></tr>
<tr><th id="609">609</th><td>            <a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<var>7</var>] = <var>0</var>;</td></tr>
<tr><th id="610">610</th><td>            <b>for</b>(<a class="local col2 ref" href="#102i" title='i' data-ref="102i" data-ref-filename="102i">i</a> = <var>0</var>; <a class="local col2 ref" href="#102i" title='i' data-ref="102i" data-ref-filename="102i">i</a> &lt; <a class="local col9 ref" href="#99repeat" title='repeat' data-ref="99repeat" data-ref-filename="99repeat">repeat</a>; <a class="local col2 ref" href="#102i" title='i' data-ref="102i" data-ref-filename="102i">i</a>++) {</td></tr>
<tr><th id="611">611</th><td>                <b>for</b>(<a class="local col3 ref" href="#103j" title='j' data-ref="103j" data-ref-filename="103j">j</a> = <var>0</var>; <a class="local col3 ref" href="#103j" title='j' data-ref="103j" data-ref-filename="103j">j</a> &lt; <a class="local col0 ref" href="#100size" title='size' data-ref="100size" data-ref-filename="100size">size</a>; <a class="local col3 ref" href="#103j" title='j' data-ref="103j" data-ref-filename="103j">j</a>++) {</td></tr>
<tr><th id="612">612</th><td>                    <a class="ref fn" href="tcc.h.html#g" title='g' data-ref="g" data-ref-filename="g">g</a>(<a class="local col4 ref" href="#104repeat_buf" title='repeat_buf' data-ref="104repeat_buf" data-ref-filename="104repeat_buf">repeat_buf</a>[<a class="local col3 ref" href="#103j" title='j' data-ref="103j" data-ref-filename="103j">j</a>]);</td></tr>
<tr><th id="613">613</th><td>                }</td></tr>
<tr><th id="614">614</th><td>            }</td></tr>
<tr><th id="615">615</th><td>        }</td></tr>
<tr><th id="616">616</th><td>        <b>break</b>;</td></tr>
<tr><th id="617">617</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#333" title='TOK_ASMDIR_rept' data-ref="TOK_ASMDIR_rept" data-ref-filename="TOK_ASMDIR_rept">TOK_ASMDIR_rept</a>:</td></tr>
<tr><th id="618">618</th><td>        {</td></tr>
<tr><th id="619">619</th><td>            <em>int</em> <dfn class="local col5 decl" id="105repeat" title='repeat' data-type='int' data-ref="105repeat" data-ref-filename="105repeat">repeat</dfn>;</td></tr>
<tr><th id="620">620</th><td>            <a class="typedef" href="tcc.h.html#TokenString" title='TokenString' data-type='struct TokenString' data-ref="TokenString" data-ref-filename="TokenString">TokenString</a> *<dfn class="local col6 decl" id="106init_str" title='init_str' data-type='TokenString *' data-ref="106init_str" data-ref-filename="106init_str">init_str</dfn>;</td></tr>
<tr><th id="621">621</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="622">622</th><td>            <a class="local col5 ref" href="#105repeat" title='repeat' data-ref="105repeat" data-ref-filename="105repeat">repeat</a> = <a class="ref fn" href="#asm_int_expr" title='asm_int_expr' data-ref="asm_int_expr" data-ref-filename="asm_int_expr">asm_int_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>);</td></tr>
<tr><th id="623">623</th><td>            <a class="local col6 ref" href="#106init_str" title='init_str' data-ref="106init_str" data-ref-filename="106init_str">init_str</a> = <a class="ref fn" href="tcc.h.html#tok_str_alloc" title='tok_str_alloc' data-ref="tok_str_alloc" data-ref-filename="tok_str_alloc">tok_str_alloc</a>();</td></tr>
<tr><th id="624">624</th><td>            <b>while</b> (<a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>(), <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="enum" href="tcctok.h.html#334" title='TOK_ASMDIR_endr' data-ref="TOK_ASMDIR_endr" data-ref-filename="TOK_ASMDIR_endr">TOK_ASMDIR_endr</a>) {</td></tr>
<tr><th id="625">625</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="macro" href="tcc.h.html#585" title="(-1)" data-ref="_M/CH_EOF">CH_EOF</a>)</td></tr>
<tr><th id="626">626</th><td>                    <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"we at end of file, .endr not found"</q>);</td></tr>
<tr><th id="627">627</th><td>                <a class="ref fn" href="tcc.h.html#tok_str_add_tok" title='tok_str_add_tok' data-ref="tok_str_add_tok" data-ref-filename="tok_str_add_tok">tok_str_add_tok</a>(<a class="local col6 ref" href="#106init_str" title='init_str' data-ref="106init_str" data-ref-filename="106init_str">init_str</a>);</td></tr>
<tr><th id="628">628</th><td>            }</td></tr>
<tr><th id="629">629</th><td>            <a class="ref fn" href="tcc.h.html#tok_str_add" title='tok_str_add' data-ref="tok_str_add" data-ref-filename="tok_str_add">tok_str_add</a>(<a class="local col6 ref" href="#106init_str" title='init_str' data-ref="106init_str" data-ref-filename="106init_str">init_str</a>, -<var>1</var>);</td></tr>
<tr><th id="630">630</th><td>            <a class="ref fn" href="tcc.h.html#tok_str_add" title='tok_str_add' data-ref="tok_str_add" data-ref-filename="tok_str_add">tok_str_add</a>(<a class="local col6 ref" href="#106init_str" title='init_str' data-ref="106init_str" data-ref-filename="106init_str">init_str</a>, <var>0</var>);</td></tr>
<tr><th id="631">631</th><td>            <a class="ref fn" href="tcc.h.html#begin_macro" title='begin_macro' data-ref="begin_macro" data-ref-filename="begin_macro">begin_macro</a>(<a class="local col6 ref" href="#106init_str" title='init_str' data-ref="106init_str" data-ref-filename="106init_str">init_str</a>, <var>1</var>);</td></tr>
<tr><th id="632">632</th><td>            <b>while</b> (<a class="local col5 ref" href="#105repeat" title='repeat' data-ref="105repeat" data-ref-filename="105repeat">repeat</a>-- &gt; <var>0</var>) {</td></tr>
<tr><th id="633">633</th><td>                <a class="tu ref fn" href="#tcc_assemble_internal" title='tcc_assemble_internal' data-use='c' data-ref="tcc_assemble_internal" data-ref-filename="tcc_assemble_internal">tcc_assemble_internal</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>, (<a class="ref" href="tcc.h.html#parse_flags" title='parse_flags' data-ref="parse_flags" data-ref-filename="parse_flags">parse_flags</a> &amp; <a class="macro" href="tcc.h.html#1220" title="0x0001" data-ref="_M/PARSE_FLAG_PREPROCESS">PARSE_FLAG_PREPROCESS</a>),</td></tr>
<tr><th id="634">634</th><td>				      <a class="local col8 ref" href="#88global" title='global' data-ref="88global" data-ref-filename="88global">global</a>);</td></tr>
<tr><th id="635">635</th><td>                <a class="ref" href="tcc.h.html#macro_ptr" title='macro_ptr' data-ref="macro_ptr" data-ref-filename="macro_ptr">macro_ptr</a> = <a class="local col6 ref" href="#106init_str" title='init_str' data-ref="106init_str" data-ref-filename="106init_str">init_str</a>-&gt;<a class="ref field" href="tcc.h.html#TokenString::str" title='TokenString::str' data-ref="TokenString::str" data-ref-filename="TokenString..str">str</a>;</td></tr>
<tr><th id="636">636</th><td>            }</td></tr>
<tr><th id="637">637</th><td>            <a class="ref fn" href="tcc.h.html#end_macro" title='end_macro' data-ref="end_macro" data-ref-filename="end_macro">end_macro</a>();</td></tr>
<tr><th id="638">638</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="639">639</th><td>            <b>break</b>;</td></tr>
<tr><th id="640">640</th><td>        }</td></tr>
<tr><th id="641">641</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#335" title='TOK_ASMDIR_org' data-ref="TOK_ASMDIR_org" data-ref-filename="TOK_ASMDIR_org">TOK_ASMDIR_org</a>:</td></tr>
<tr><th id="642">642</th><td>        {</td></tr>
<tr><th id="643">643</th><td>            <em>unsigned</em> <em>long</em> <dfn class="local col7 decl" id="107n" title='n' data-type='unsigned long' data-ref="107n" data-ref-filename="107n">n</dfn>;</td></tr>
<tr><th id="644">644</th><td>	    <a class="typedef" href="tcc.h.html#ExprValue" title='ExprValue' data-type='struct ExprValue' data-ref="ExprValue" data-ref-filename="ExprValue">ExprValue</a> <dfn class="local col8 decl" id="108e" title='e' data-type='ExprValue' data-ref="108e" data-ref-filename="108e">e</dfn>;</td></tr>
<tr><th id="645">645</th><td>	    <a class="macro" href="tcc.h.html#372" title="Elf64_Sym" data-ref="_M/ElfSym">ElfSym</a> *<dfn class="local col9 decl" id="109esym" title='esym' data-type='Elf64_Sym *' data-ref="109esym" data-ref-filename="109esym">esym</dfn>;</td></tr>
<tr><th id="646">646</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="647">647</th><td>	    <a class="ref fn" href="#asm_expr" title='asm_expr' data-ref="asm_expr" data-ref-filename="asm_expr">asm_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>, &amp;<a class="local col8 ref" href="#108e" title='e' data-ref="108e" data-ref-filename="108e">e</a>);</td></tr>
<tr><th id="648">648</th><td>	    <a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a> = <a class="local col8 ref" href="#108e" title='e' data-ref="108e" data-ref-filename="108e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::v" title='ExprValue::v' data-ref="ExprValue::v" data-ref-filename="ExprValue..v">v</a>;</td></tr>
<tr><th id="649">649</th><td>	    <a class="local col9 ref" href="#109esym" title='esym' data-ref="109esym" data-ref-filename="109esym">esym</a> = <a class="ref fn" href="tcc.h.html#elfsym" title='elfsym' data-ref="elfsym" data-ref-filename="elfsym">elfsym</a>(<a class="local col8 ref" href="#108e" title='e' data-ref="108e" data-ref-filename="108e">e</a>.<a class="ref field" href="tcc.h.html#ExprValue::sym" title='ExprValue::sym' data-ref="ExprValue::sym" data-ref-filename="ExprValue..sym">sym</a>);</td></tr>
<tr><th id="650">650</th><td>	    <b>if</b> (<a class="local col9 ref" href="#109esym" title='esym' data-ref="109esym" data-ref-filename="109esym">esym</a>) {</td></tr>
<tr><th id="651">651</th><td>		<b>if</b> (<a class="local col9 ref" href="#109esym" title='esym' data-ref="109esym" data-ref-filename="109esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_shndx" title='(anonymous struct)::st_shndx' data-ref="(anonymous)::st_shndx" data-ref-filename="(anonymous)..st_shndx">st_shndx</a> != <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_num" title='Section::sh_num' data-ref="Section::sh_num" data-ref-filename="Section..sh_num">sh_num</a>)</td></tr>
<tr><th id="652">652</th><td>		  <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"constant or same-section symbol"</q>);</td></tr>
<tr><th id="653">653</th><td>		<a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a> += <a class="local col9 ref" href="#109esym" title='esym' data-ref="109esym" data-ref-filename="109esym">esym</a>-&gt;<a class="ref field" href="elf.h.html#(anonymous)::st_value" title='(anonymous struct)::st_value' data-ref="(anonymous)::st_value" data-ref-filename="(anonymous)..st_value">st_value</a>;</td></tr>
<tr><th id="654">654</th><td>	    }</td></tr>
<tr><th id="655">655</th><td>            <b>if</b> (<a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a> &lt; <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>)</td></tr>
<tr><th id="656">656</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"attempt to .org backwards"</q>);</td></tr>
<tr><th id="657">657</th><td>            <a class="local col1 ref" href="#91v" title='v' data-ref="91v" data-ref-filename="91v">v</a> = <var>0</var>;</td></tr>
<tr><th id="658">658</th><td>            <a class="local col2 ref" href="#92size" title='size' data-ref="92size" data-ref-filename="92size">size</a> = <a class="local col7 ref" href="#107n" title='n' data-ref="107n" data-ref-filename="107n">n</a> - <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>;</td></tr>
<tr><th id="659">659</th><td>            <b>goto</b> <a class="lbl" href="#96zero_pad" data-ref="96zero_pad" data-ref-filename="96zero_pad">zero_pad</a>;</td></tr>
<tr><th id="660">660</th><td>        }</td></tr>
<tr><th id="661">661</th><td>        <b>break</b>;</td></tr>
<tr><th id="662">662</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#312" title='TOK_ASMDIR_set' data-ref="TOK_ASMDIR_set" data-ref-filename="TOK_ASMDIR_set">TOK_ASMDIR_set</a>:</td></tr>
<tr><th id="663">663</th><td>	<a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="664">664</th><td>	<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="665">665</th><td>	<a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="666">666</th><td>	<i>/* Also accept '.set stuff', but don't do anything with this.</i></td></tr>
<tr><th id="667">667</th><td><i>	   It's used in GAS to set various features like '.set mips16'.  */</i></td></tr>
<tr><th id="668">668</th><td>	<b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>)</td></tr>
<tr><th id="669">669</th><td>	    <a class="tu ref fn" href="#set_symbol" title='set_symbol' data-use='c' data-ref="set_symbol" data-ref-filename="set_symbol">set_symbol</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>, <a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a>);</td></tr>
<tr><th id="670">670</th><td>	<b>break</b>;</td></tr>
<tr><th id="671">671</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#319" title='TOK_ASMDIR_globl' data-ref="TOK_ASMDIR_globl" data-ref-filename="TOK_ASMDIR_globl">TOK_ASMDIR_globl</a>:</td></tr>
<tr><th id="672">672</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#320" title='TOK_ASMDIR_global' data-ref="TOK_ASMDIR_global" data-ref-filename="TOK_ASMDIR_global">TOK_ASMDIR_global</a>:</td></tr>
<tr><th id="673">673</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#321" title='TOK_ASMDIR_weak' data-ref="TOK_ASMDIR_weak" data-ref-filename="TOK_ASMDIR_weak">TOK_ASMDIR_weak</a>:</td></tr>
<tr><th id="674">674</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#322" title='TOK_ASMDIR_hidden' data-ref="TOK_ASMDIR_hidden" data-ref-filename="TOK_ASMDIR_hidden">TOK_ASMDIR_hidden</a>:</td></tr>
<tr><th id="675">675</th><td>	<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="676">676</th><td>	<b>do</b> { </td></tr>
<tr><th id="677">677</th><td>            <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col0 decl" id="110sym" title='sym' data-type='Sym *' data-ref="110sym" data-ref-filename="110sym">sym</dfn>;</td></tr>
<tr><th id="678">678</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="679">679</th><td>            <a class="local col0 ref" href="#110sym" title='sym' data-ref="110sym" data-ref-filename="110sym">sym</a> = <a class="ref fn" href="#get_asm_sym" title='get_asm_sym' data-ref="get_asm_sym" data-ref-filename="get_asm_sym">get_asm_sym</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="680">680</th><td>	    <b>if</b> (<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> != <a class="enum" href="tcctok.h.html#322" title='TOK_ASMDIR_hidden' data-ref="TOK_ASMDIR_hidden" data-ref-filename="TOK_ASMDIR_hidden">TOK_ASMDIR_hidden</a>)</td></tr>
<tr><th id="681">681</th><td>                <a class="local col0 ref" href="#110sym" title='sym' data-ref="110sym" data-ref-filename="110sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::type" title='Sym::type' data-ref="Sym::type" data-ref-filename="Sym..type">type</a>.<a class="ref field" href="tcc.h.html#CType::t" title='CType::t' data-ref="CType::t" data-ref-filename="CType..t">t</a> &amp;= ~<a class="macro" href="tcc.h.html#893" title="0x00002000" data-ref="_M/VT_STATIC">VT_STATIC</a>;</td></tr>
<tr><th id="682">682</th><td>            <b>if</b> (<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> == <a class="enum" href="tcctok.h.html#321" title='TOK_ASMDIR_weak' data-ref="TOK_ASMDIR_weak" data-ref-filename="TOK_ASMDIR_weak">TOK_ASMDIR_weak</a>)</td></tr>
<tr><th id="683">683</th><td>                <a class="local col0 ref" href="#110sym" title='sym' data-ref="110sym" data-ref-filename="110sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::a" title='Sym::a' data-ref="Sym::a" data-ref-filename="Sym..a">a</a>.<a class="ref field" href="tcc.h.html#SymAttr::weak" title='SymAttr::weak' data-ref="SymAttr::weak" data-ref-filename="SymAttr..weak">weak</a> = <var>1</var>;</td></tr>
<tr><th id="684">684</th><td>	    <b>else</b> <b>if</b> (<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> == <a class="enum" href="tcctok.h.html#322" title='TOK_ASMDIR_hidden' data-ref="TOK_ASMDIR_hidden" data-ref-filename="TOK_ASMDIR_hidden">TOK_ASMDIR_hidden</a>)</td></tr>
<tr><th id="685">685</th><td>	        <a class="local col0 ref" href="#110sym" title='sym' data-ref="110sym" data-ref-filename="110sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::a" title='Sym::a' data-ref="Sym::a" data-ref-filename="Sym..a">a</a>.<a class="ref field" href="tcc.h.html#SymAttr::visibility" title='SymAttr::visibility' data-ref="SymAttr::visibility" data-ref-filename="SymAttr..visibility">visibility</a> = <a class="macro" href="elf.h.html#501" title="2" data-ref="_M/STV_HIDDEN">STV_HIDDEN</a>;</td></tr>
<tr><th id="686">686</th><td>            <a class="ref fn" href="tcc.h.html#update_storage" title='update_storage' data-ref="update_storage" data-ref-filename="update_storage">update_storage</a>(<a class="local col0 ref" href="#110sym" title='sym' data-ref="110sym" data-ref-filename="110sym">sym</a>);</td></tr>
<tr><th id="687">687</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="688">688</th><td>	} <b>while</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>);</td></tr>
<tr><th id="689">689</th><td>	<b>break</b>;</td></tr>
<tr><th id="690">690</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#315" title='TOK_ASMDIR_string' data-ref="TOK_ASMDIR_string" data-ref-filename="TOK_ASMDIR_string">TOK_ASMDIR_string</a>:</td></tr>
<tr><th id="691">691</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#317" title='TOK_ASMDIR_ascii' data-ref="TOK_ASMDIR_ascii" data-ref-filename="TOK_ASMDIR_ascii">TOK_ASMDIR_ascii</a>:</td></tr>
<tr><th id="692">692</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#316" title='TOK_ASMDIR_asciz' data-ref="TOK_ASMDIR_asciz" data-ref-filename="TOK_ASMDIR_asciz">TOK_ASMDIR_asciz</a>:</td></tr>
<tr><th id="693">693</th><td>        {</td></tr>
<tr><th id="694">694</th><td>            <em>const</em> <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> *<dfn class="local col1 decl" id="111p" title='p' data-type='const uint8_t *' data-ref="111p" data-ref-filename="111p">p</dfn>;</td></tr>
<tr><th id="695">695</th><td>            <em>int</em> <dfn class="local col2 decl" id="112i" title='i' data-type='int' data-ref="112i" data-ref-filename="112i">i</dfn>, <dfn class="local col3 decl" id="113size" title='size' data-type='int' data-ref="113size" data-ref-filename="113size">size</dfn>, <dfn class="local col4 decl" id="114t" title='t' data-type='int' data-ref="114t" data-ref-filename="114t">t</dfn>;</td></tr>
<tr><th id="696">696</th><td></td></tr>
<tr><th id="697">697</th><td>            <a class="local col4 ref" href="#114t" title='t' data-ref="114t" data-ref-filename="114t">t</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="698">698</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="699">699</th><td>            <b>for</b>(;;) {</td></tr>
<tr><th id="700">700</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#951" title="0xb9" data-ref="_M/TOK_STR">TOK_STR</a>)</td></tr>
<tr><th id="701">701</th><td>                    <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"string constant"</q>);</td></tr>
<tr><th id="702">702</th><td>                <a class="local col1 ref" href="#111p" title='p' data-ref="111p" data-ref-filename="111p">p</a> = <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::data" title='CValue::(anonymous struct)::data' data-ref="CValue::(anonymous)::data" data-ref-filename="CValue..(anonymous)..data">data</a>;</td></tr>
<tr><th id="703">703</th><td>                <a class="local col3 ref" href="#113size" title='size' data-ref="113size" data-ref-filename="113size">size</a> = <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::size" title='CValue::(anonymous struct)::size' data-ref="CValue::(anonymous)::size" data-ref-filename="CValue..(anonymous)..size">size</a>;</td></tr>
<tr><th id="704">704</th><td>                <b>if</b> (<a class="local col4 ref" href="#114t" title='t' data-ref="114t" data-ref-filename="114t">t</a> == <a class="enum" href="tcctok.h.html#317" title='TOK_ASMDIR_ascii' data-ref="TOK_ASMDIR_ascii" data-ref-filename="TOK_ASMDIR_ascii">TOK_ASMDIR_ascii</a> &amp;&amp; <a class="local col3 ref" href="#113size" title='size' data-ref="113size" data-ref-filename="113size">size</a> &gt; <var>0</var>)</td></tr>
<tr><th id="705">705</th><td>                    <a class="local col3 ref" href="#113size" title='size' data-ref="113size" data-ref-filename="113size">size</a>--;</td></tr>
<tr><th id="706">706</th><td>                <b>for</b>(<a class="local col2 ref" href="#112i" title='i' data-ref="112i" data-ref-filename="112i">i</a> = <var>0</var>; <a class="local col2 ref" href="#112i" title='i' data-ref="112i" data-ref-filename="112i">i</a> &lt; <a class="local col3 ref" href="#113size" title='size' data-ref="113size" data-ref-filename="113size">size</a>; <a class="local col2 ref" href="#112i" title='i' data-ref="112i" data-ref-filename="112i">i</a>++)</td></tr>
<tr><th id="707">707</th><td>                    <a class="ref fn" href="tcc.h.html#g" title='g' data-ref="g" data-ref-filename="g">g</a>(<a class="local col1 ref" href="#111p" title='p' data-ref="111p" data-ref-filename="111p">p</a>[<a class="local col2 ref" href="#112i" title='i' data-ref="112i" data-ref-filename="112i">i</a>]);</td></tr>
<tr><th id="708">708</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="709">709</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>) {</td></tr>
<tr><th id="710">710</th><td>                    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="711">711</th><td>                } <b>else</b> <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#951" title="0xb9" data-ref="_M/TOK_STR">TOK_STR</a>) {</td></tr>
<tr><th id="712">712</th><td>                    <b>break</b>;</td></tr>
<tr><th id="713">713</th><td>                }</td></tr>
<tr><th id="714">714</th><td>            }</td></tr>
<tr><th id="715">715</th><td>	}</td></tr>
<tr><th id="716">716</th><td>	<b>break</b>;</td></tr>
<tr><th id="717">717</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#326" title='TOK_ASMDIR_text' data-ref="TOK_ASMDIR_text" data-ref-filename="TOK_ASMDIR_text">TOK_ASMDIR_text</a>:</td></tr>
<tr><th id="718">718</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#327" title='TOK_ASMDIR_data' data-ref="TOK_ASMDIR_data" data-ref-filename="TOK_ASMDIR_data">TOK_ASMDIR_data</a>:</td></tr>
<tr><th id="719">719</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#328" title='TOK_ASMDIR_bss' data-ref="TOK_ASMDIR_bss" data-ref-filename="TOK_ASMDIR_bss">TOK_ASMDIR_bss</a>:</td></tr>
<tr><th id="720">720</th><td>	{ </td></tr>
<tr><th id="721">721</th><td>            <em>char</em> <dfn class="local col5 decl" id="115sname" title='sname' data-type='char [64]' data-ref="115sname" data-ref-filename="115sname">sname</dfn>[<var>64</var>];</td></tr>
<tr><th id="722">722</th><td>            <a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="723">723</th><td>            <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> = <var>0</var>;</td></tr>
<tr><th id="724">724</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="725">725</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>';'</kbd> &amp;&amp; <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#993" title="10" data-ref="_M/TOK_LINEFEED">TOK_LINEFEED</a>) {</td></tr>
<tr><th id="726">726</th><td>		<a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a> = <a class="ref fn" href="#asm_int_expr" title='asm_int_expr' data-ref="asm_int_expr" data-ref-filename="asm_int_expr">asm_int_expr</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>);</td></tr>
<tr><th id="727">727</th><td>		<a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="728">728</th><td>            }</td></tr>
<tr><th id="729">729</th><td>            <b>if</b> (<a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a>)</td></tr>
<tr><th id="730">730</th><td>                <a class="ref fn" href="../include/stdio.h.html#sprintf" title='sprintf' data-ref="sprintf" data-ref-filename="sprintf">sprintf</a>(<a class="local col5 ref" href="#115sname" title='sname' data-ref="115sname" data-ref-filename="115sname">sname</a>, <q>"%s%d"</q>, <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>), <a class="local col9 ref" href="#89n" title='n' data-ref="89n" data-ref-filename="89n">n</a>);</td></tr>
<tr><th id="731">731</th><td>            <b>else</b></td></tr>
<tr><th id="732">732</th><td>                <a class="ref fn" href="../include/stdio.h.html#sprintf" title='sprintf' data-ref="sprintf" data-ref-filename="sprintf">sprintf</a>(<a class="local col5 ref" href="#115sname" title='sname' data-ref="115sname" data-ref-filename="115sname">sname</a>, <q>"%s"</q>, <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="733">733</th><td>            <a class="tu ref fn" href="#use_section" title='use_section' data-use='c' data-ref="use_section" data-ref-filename="use_section">use_section</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>, <a class="local col5 ref" href="#115sname" title='sname' data-ref="115sname" data-ref-filename="115sname">sname</a>);</td></tr>
<tr><th id="734">734</th><td>	}</td></tr>
<tr><th id="735">735</th><td>	<b>break</b>;</td></tr>
<tr><th id="736">736</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#318" title='TOK_ASMDIR_file' data-ref="TOK_ASMDIR_file" data-ref-filename="TOK_ASMDIR_file">TOK_ASMDIR_file</a>:</td></tr>
<tr><th id="737">737</th><td>        {</td></tr>
<tr><th id="738">738</th><td>            <em>char</em> <dfn class="local col6 decl" id="116filename" title='filename' data-type='char [512]' data-ref="116filename" data-ref-filename="116filename">filename</dfn>[<var>512</var>];</td></tr>
<tr><th id="739">739</th><td></td></tr>
<tr><th id="740">740</th><td>            <a class="local col6 ref" href="#116filename" title='filename' data-ref="116filename" data-ref-filename="116filename">filename</a>[<var>0</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="741">741</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="742">742</th><td></td></tr>
<tr><th id="743">743</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="macro" href="tcc.h.html#951" title="0xb9" data-ref="_M/TOK_STR">TOK_STR</a>)</td></tr>
<tr><th id="744">744</th><td>                <a class="ref fn" href="tcc.h.html#pstrcat" title='pstrcat' data-ref="pstrcat" data-ref-filename="pstrcat">pstrcat</a>(<a class="local col6 ref" href="#116filename" title='filename' data-ref="116filename" data-ref-filename="116filename">filename</a>, <b>sizeof</b>(<a class="local col6 ref" href="#116filename" title='filename' data-ref="116filename" data-ref-filename="116filename">filename</a>), <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::data" title='CValue::(anonymous struct)::data' data-ref="CValue::(anonymous)::data" data-ref-filename="CValue..(anonymous)..data">data</a>);</td></tr>
<tr><th id="745">745</th><td>            <b>else</b></td></tr>
<tr><th id="746">746</th><td>                <a class="ref fn" href="tcc.h.html#pstrcat" title='pstrcat' data-ref="pstrcat" data-ref-filename="pstrcat">pstrcat</a>(<a class="local col6 ref" href="#116filename" title='filename' data-ref="116filename" data-ref-filename="116filename">filename</a>, <b>sizeof</b>(<a class="local col6 ref" href="#116filename" title='filename' data-ref="116filename" data-ref-filename="116filename">filename</a>), <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="747">747</th><td></td></tr>
<tr><th id="748">748</th><td>            <b>if</b> (<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>-&gt;<a class="ref field" href="tcc.h.html#TCCState::warn_unsupported" title='TCCState::warn_unsupported' data-ref="TCCState::warn_unsupported" data-ref-filename="TCCState..warn_unsupported">warn_unsupported</a>)</td></tr>
<tr><th id="749">749</th><td>                <a class="ref fn" href="tcc.h.html#tcc_warning" title='tcc_warning' data-ref="tcc_warning" data-ref-filename="tcc_warning">tcc_warning</a>(<q>"ignoring .file %s"</q>, <a class="local col6 ref" href="#116filename" title='filename' data-ref="116filename" data-ref-filename="116filename">filename</a>);</td></tr>
<tr><th id="750">750</th><td></td></tr>
<tr><th id="751">751</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="752">752</th><td>        }</td></tr>
<tr><th id="753">753</th><td>        <b>break</b>;</td></tr>
<tr><th id="754">754</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#323" title='TOK_ASMDIR_ident' data-ref="TOK_ASMDIR_ident" data-ref-filename="TOK_ASMDIR_ident">TOK_ASMDIR_ident</a>:</td></tr>
<tr><th id="755">755</th><td>        {</td></tr>
<tr><th id="756">756</th><td>            <em>char</em> <dfn class="local col7 decl" id="117ident" title='ident' data-type='char [256]' data-ref="117ident" data-ref-filename="117ident">ident</dfn>[<var>256</var>];</td></tr>
<tr><th id="757">757</th><td></td></tr>
<tr><th id="758">758</th><td>            <a class="local col7 ref" href="#117ident" title='ident' data-ref="117ident" data-ref-filename="117ident">ident</a>[<var>0</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="759">759</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="760">760</th><td></td></tr>
<tr><th id="761">761</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="macro" href="tcc.h.html#951" title="0xb9" data-ref="_M/TOK_STR">TOK_STR</a>)</td></tr>
<tr><th id="762">762</th><td>                <a class="ref fn" href="tcc.h.html#pstrcat" title='pstrcat' data-ref="pstrcat" data-ref-filename="pstrcat">pstrcat</a>(<a class="local col7 ref" href="#117ident" title='ident' data-ref="117ident" data-ref-filename="117ident">ident</a>, <b>sizeof</b>(<a class="local col7 ref" href="#117ident" title='ident' data-ref="117ident" data-ref-filename="117ident">ident</a>), <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::data" title='CValue::(anonymous struct)::data' data-ref="CValue::(anonymous)::data" data-ref-filename="CValue..(anonymous)..data">data</a>);</td></tr>
<tr><th id="763">763</th><td>            <b>else</b></td></tr>
<tr><th id="764">764</th><td>                <a class="ref fn" href="tcc.h.html#pstrcat" title='pstrcat' data-ref="pstrcat" data-ref-filename="pstrcat">pstrcat</a>(<a class="local col7 ref" href="#117ident" title='ident' data-ref="117ident" data-ref-filename="117ident">ident</a>, <b>sizeof</b>(<a class="local col7 ref" href="#117ident" title='ident' data-ref="117ident" data-ref-filename="117ident">ident</a>), <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="765">765</th><td></td></tr>
<tr><th id="766">766</th><td>            <b>if</b> (<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>-&gt;<a class="ref field" href="tcc.h.html#TCCState::warn_unsupported" title='TCCState::warn_unsupported' data-ref="TCCState::warn_unsupported" data-ref-filename="TCCState..warn_unsupported">warn_unsupported</a>)</td></tr>
<tr><th id="767">767</th><td>                <a class="ref fn" href="tcc.h.html#tcc_warning" title='tcc_warning' data-ref="tcc_warning" data-ref-filename="tcc_warning">tcc_warning</a>(<q>"ignoring .ident %s"</q>, <a class="local col7 ref" href="#117ident" title='ident' data-ref="117ident" data-ref-filename="117ident">ident</a>);</td></tr>
<tr><th id="768">768</th><td></td></tr>
<tr><th id="769">769</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="770">770</th><td>        }</td></tr>
<tr><th id="771">771</th><td>        <b>break</b>;</td></tr>
<tr><th id="772">772</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#324" title='TOK_ASMDIR_size' data-ref="TOK_ASMDIR_size" data-ref-filename="TOK_ASMDIR_size">TOK_ASMDIR_size</a>:</td></tr>
<tr><th id="773">773</th><td>        { </td></tr>
<tr><th id="774">774</th><td>            <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col8 decl" id="118sym" title='sym' data-type='Sym *' data-ref="118sym" data-ref-filename="118sym">sym</dfn>;</td></tr>
<tr><th id="775">775</th><td></td></tr>
<tr><th id="776">776</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="777">777</th><td>            <a class="local col8 ref" href="#118sym" title='sym' data-ref="118sym" data-ref-filename="118sym">sym</a> = <a class="tu ref fn" href="#asm_label_find" title='asm_label_find' data-use='c' data-ref="asm_label_find" data-ref-filename="asm_label_find">asm_label_find</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>);</td></tr>
<tr><th id="778">778</th><td>            <b>if</b> (!<a class="local col8 ref" href="#118sym" title='sym' data-ref="118sym" data-ref-filename="118sym">sym</a>) {</td></tr>
<tr><th id="779">779</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"label not found: %s"</q>, <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="780">780</th><td>            }</td></tr>
<tr><th id="781">781</th><td></td></tr>
<tr><th id="782">782</th><td>            <i>/* XXX .size name,label2-label1 */</i></td></tr>
<tr><th id="783">783</th><td>            <b>if</b> (<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>-&gt;<a class="ref field" href="tcc.h.html#TCCState::warn_unsupported" title='TCCState::warn_unsupported' data-ref="TCCState::warn_unsupported" data-ref-filename="TCCState..warn_unsupported">warn_unsupported</a>)</td></tr>
<tr><th id="784">784</th><td>                <a class="ref fn" href="tcc.h.html#tcc_warning" title='tcc_warning' data-ref="tcc_warning" data-ref-filename="tcc_warning">tcc_warning</a>(<q>"ignoring .size %s,*"</q>, <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="785">785</th><td></td></tr>
<tr><th id="786">786</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="787">787</th><td>            <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>','</kbd>);</td></tr>
<tr><th id="788">788</th><td>            <b>while</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#993" title="10" data-ref="_M/TOK_LINEFEED">TOK_LINEFEED</a> &amp;&amp; <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>';'</kbd> &amp;&amp; <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#585" title="(-1)" data-ref="_M/CH_EOF">CH_EOF</a>) {</td></tr>
<tr><th id="789">789</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="790">790</th><td>            }</td></tr>
<tr><th id="791">791</th><td>        }</td></tr>
<tr><th id="792">792</th><td>        <b>break</b>;</td></tr>
<tr><th id="793">793</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#325" title='TOK_ASMDIR_type' data-ref="TOK_ASMDIR_type" data-ref-filename="TOK_ASMDIR_type">TOK_ASMDIR_type</a>:</td></tr>
<tr><th id="794">794</th><td>        { </td></tr>
<tr><th id="795">795</th><td>            <a class="typedef" href="tcc.h.html#Sym" title='Sym' data-type='struct Sym' data-ref="Sym" data-ref-filename="Sym">Sym</a> *<dfn class="local col9 decl" id="119sym" title='sym' data-type='Sym *' data-ref="119sym" data-ref-filename="119sym">sym</dfn>;</td></tr>
<tr><th id="796">796</th><td>            <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="120newtype" title='newtype' data-type='const char *' data-ref="120newtype" data-ref-filename="120newtype">newtype</dfn>;</td></tr>
<tr><th id="797">797</th><td></td></tr>
<tr><th id="798">798</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="799">799</th><td>            <a class="local col9 ref" href="#119sym" title='sym' data-ref="119sym" data-ref-filename="119sym">sym</a> = <a class="ref fn" href="#get_asm_sym" title='get_asm_sym' data-ref="get_asm_sym" data-ref-filename="get_asm_sym">get_asm_sym</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="800">800</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="801">801</th><td>            <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>','</kbd>);</td></tr>
<tr><th id="802">802</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="macro" href="tcc.h.html#951" title="0xb9" data-ref="_M/TOK_STR">TOK_STR</a>) {</td></tr>
<tr><th id="803">803</th><td>                <a class="local col0 ref" href="#120newtype" title='newtype' data-ref="120newtype" data-ref-filename="120newtype">newtype</a> = <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::data" title='CValue::(anonymous struct)::data' data-ref="CValue::(anonymous)::data" data-ref-filename="CValue..(anonymous)..data">data</a>;</td></tr>
<tr><th id="804">804</th><td>            } <b>else</b> {</td></tr>
<tr><th id="805">805</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>'@'</kbd> || <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>'%'</kbd>)</td></tr>
<tr><th id="806">806</th><td>                    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="807">807</th><td>                <a class="local col0 ref" href="#120newtype" title='newtype' data-ref="120newtype" data-ref-filename="120newtype">newtype</a> = <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>);</td></tr>
<tr><th id="808">808</th><td>            }</td></tr>
<tr><th id="809">809</th><td></td></tr>
<tr><th id="810">810</th><td>            <b>if</b> (!<a class="ref fn" href="../include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col0 ref" href="#120newtype" title='newtype' data-ref="120newtype" data-ref-filename="120newtype">newtype</a>, <q>"function"</q>) || !<a class="ref fn" href="../include/string.h.html#strcmp" title='strcmp' data-ref="strcmp" data-ref-filename="strcmp">strcmp</a>(<a class="local col0 ref" href="#120newtype" title='newtype' data-ref="120newtype" data-ref-filename="120newtype">newtype</a>, <q>"STT_FUNC"</q>)) {</td></tr>
<tr><th id="811">811</th><td>                <a class="local col9 ref" href="#119sym" title='sym' data-ref="119sym" data-ref-filename="119sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::type" title='Sym::type' data-ref="Sym::type" data-ref-filename="Sym..type">type</a>.<a class="ref field" href="tcc.h.html#CType::t" title='CType::t' data-ref="CType::t" data-ref-filename="CType..t">t</a> = (<a class="local col9 ref" href="#119sym" title='sym' data-ref="119sym" data-ref-filename="119sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::type" title='Sym::type' data-ref="Sym::type" data-ref-filename="Sym..type">type</a>.<a class="ref field" href="tcc.h.html#CType::t" title='CType::t' data-ref="CType::t" data-ref-filename="CType..t">t</a> &amp; ~<a class="macro" href="tcc.h.html#866" title="0x000f" data-ref="_M/VT_BTYPE">VT_BTYPE</a>) | <a class="macro" href="tcc.h.html#873" title="6" data-ref="_M/VT_FUNC">VT_FUNC</a>;</td></tr>
<tr><th id="812">812</th><td>            }</td></tr>
<tr><th id="813">813</th><td>            <b>else</b> <b>if</b> (<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>-&gt;<a class="ref field" href="tcc.h.html#TCCState::warn_unsupported" title='TCCState::warn_unsupported' data-ref="TCCState::warn_unsupported" data-ref-filename="TCCState..warn_unsupported">warn_unsupported</a>)</td></tr>
<tr><th id="814">814</th><td>                <a class="ref fn" href="tcc.h.html#tcc_warning" title='tcc_warning' data-ref="tcc_warning" data-ref-filename="tcc_warning">tcc_warning</a>(<q>"change type of '%s' from 0x%x to '%s' ignored"</q>, </td></tr>
<tr><th id="815">815</th><td>                    <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="local col9 ref" href="#119sym" title='sym' data-ref="119sym" data-ref-filename="119sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::v" title='Sym::v' data-ref="Sym::v" data-ref-filename="Sym..v">v</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>), <a class="local col9 ref" href="#119sym" title='sym' data-ref="119sym" data-ref-filename="119sym">sym</a>-&gt;<a class="ref field" href="tcc.h.html#Sym::type" title='Sym::type' data-ref="Sym::type" data-ref-filename="Sym..type">type</a>.<a class="ref field" href="tcc.h.html#CType::t" title='CType::t' data-ref="CType::t" data-ref-filename="CType..t">t</a>, <a class="local col0 ref" href="#120newtype" title='newtype' data-ref="120newtype" data-ref-filename="120newtype">newtype</a>);</td></tr>
<tr><th id="816">816</th><td></td></tr>
<tr><th id="817">817</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="818">818</th><td>        }</td></tr>
<tr><th id="819">819</th><td>        <b>break</b>;</td></tr>
<tr><th id="820">820</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#330" title='TOK_ASMDIR_pushsection' data-ref="TOK_ASMDIR_pushsection" data-ref-filename="TOK_ASMDIR_pushsection">TOK_ASMDIR_pushsection</a>:</td></tr>
<tr><th id="821">821</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#346" title='TOK_ASMDIR_section' data-ref="TOK_ASMDIR_section" data-ref-filename="TOK_ASMDIR_section">TOK_ASMDIR_section</a>:</td></tr>
<tr><th id="822">822</th><td>        {</td></tr>
<tr><th id="823">823</th><td>            <em>char</em> <dfn class="local col1 decl" id="121sname" title='sname' data-type='char [256]' data-ref="121sname" data-ref-filename="121sname">sname</dfn>[<var>256</var>];</td></tr>
<tr><th id="824">824</th><td>	    <em>int</em> <dfn class="local col2 decl" id="122old_nb_section" title='old_nb_section' data-type='int' data-ref="122old_nb_section" data-ref-filename="122old_nb_section">old_nb_section</dfn> = <a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>-&gt;<a class="ref field" href="tcc.h.html#TCCState::nb_sections" title='TCCState::nb_sections' data-ref="TCCState::nb_sections" data-ref-filename="TCCState..nb_sections">nb_sections</a>;</td></tr>
<tr><th id="825">825</th><td></td></tr>
<tr><th id="826">826</th><td>	    <a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="827">827</th><td>            <i>/* XXX: support more options */</i></td></tr>
<tr><th id="828">828</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="829">829</th><td>            <a class="local col1 ref" href="#121sname" title='sname' data-ref="121sname" data-ref-filename="121sname">sname</a>[<var>0</var>] = <kbd>'\0'</kbd>;</td></tr>
<tr><th id="830">830</th><td>            <b>while</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>';'</kbd> &amp;&amp; <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#993" title="10" data-ref="_M/TOK_LINEFEED">TOK_LINEFEED</a> &amp;&amp; <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>','</kbd>) {</td></tr>
<tr><th id="831">831</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="macro" href="tcc.h.html#951" title="0xb9" data-ref="_M/TOK_STR">TOK_STR</a>)</td></tr>
<tr><th id="832">832</th><td>                    <a class="ref fn" href="tcc.h.html#pstrcat" title='pstrcat' data-ref="pstrcat" data-ref-filename="pstrcat">pstrcat</a>(<a class="local col1 ref" href="#121sname" title='sname' data-ref="121sname" data-ref-filename="121sname">sname</a>, <b>sizeof</b>(<a class="local col1 ref" href="#121sname" title='sname' data-ref="121sname" data-ref-filename="121sname">sname</a>), <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::data" title='CValue::(anonymous struct)::data' data-ref="CValue::(anonymous)::data" data-ref-filename="CValue..(anonymous)..data">data</a>);</td></tr>
<tr><th id="833">833</th><td>                <b>else</b></td></tr>
<tr><th id="834">834</th><td>                    <a class="ref fn" href="tcc.h.html#pstrcat" title='pstrcat' data-ref="pstrcat" data-ref-filename="pstrcat">pstrcat</a>(<a class="local col1 ref" href="#121sname" title='sname' data-ref="121sname" data-ref-filename="121sname">sname</a>, <b>sizeof</b>(<a class="local col1 ref" href="#121sname" title='sname' data-ref="121sname" data-ref-filename="121sname">sname</a>), <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="835">835</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="836">836</th><td>            }</td></tr>
<tr><th id="837">837</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>) {</td></tr>
<tr><th id="838">838</th><td>                <i>/* skip section options */</i></td></tr>
<tr><th id="839">839</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="840">840</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#951" title="0xb9" data-ref="_M/TOK_STR">TOK_STR</a>)</td></tr>
<tr><th id="841">841</th><td>                    <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"string constant"</q>);</td></tr>
<tr><th id="842">842</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="843">843</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>) {</td></tr>
<tr><th id="844">844</th><td>                    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="845">845</th><td>                    <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>'@'</kbd> || <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>'%'</kbd>)</td></tr>
<tr><th id="846">846</th><td>                        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="847">847</th><td>                    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="848">848</th><td>                }</td></tr>
<tr><th id="849">849</th><td>            }</td></tr>
<tr><th id="850">850</th><td>            <a class="ref" href="tcc.h.html#last_text_section" title='last_text_section' data-ref="last_text_section" data-ref-filename="last_text_section">last_text_section</a> = <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>;</td></tr>
<tr><th id="851">851</th><td>	    <b>if</b> (<a class="local col3 ref" href="#93tok1" title='tok1' data-ref="93tok1" data-ref-filename="93tok1">tok1</a> == <a class="enum" href="tcctok.h.html#346" title='TOK_ASMDIR_section' data-ref="TOK_ASMDIR_section" data-ref-filename="TOK_ASMDIR_section">TOK_ASMDIR_section</a>)</td></tr>
<tr><th id="852">852</th><td>	        <a class="tu ref fn" href="#use_section" title='use_section' data-use='c' data-ref="use_section" data-ref-filename="use_section">use_section</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>, <a class="local col1 ref" href="#121sname" title='sname' data-ref="121sname" data-ref-filename="121sname">sname</a>);</td></tr>
<tr><th id="853">853</th><td>	    <b>else</b></td></tr>
<tr><th id="854">854</th><td>	        <a class="tu ref fn" href="#push_section" title='push_section' data-use='c' data-ref="push_section" data-ref-filename="push_section">push_section</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>, <a class="local col1 ref" href="#121sname" title='sname' data-ref="121sname" data-ref-filename="121sname">sname</a>);</td></tr>
<tr><th id="855">855</th><td>	    <i>/* If we just allocated a new section reset its alignment to</i></td></tr>
<tr><th id="856">856</th><td><i>	       1.  new_section normally acts for GCC compatibility and</i></td></tr>
<tr><th id="857">857</th><td><i>	       sets alignment to PTR_SIZE.  The assembler behaves different. */</i></td></tr>
<tr><th id="858">858</th><td>	    <b>if</b> (<a class="local col2 ref" href="#122old_nb_section" title='old_nb_section' data-ref="122old_nb_section" data-ref-filename="122old_nb_section">old_nb_section</a> != <a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>-&gt;<a class="ref field" href="tcc.h.html#TCCState::nb_sections" title='TCCState::nb_sections' data-ref="TCCState::nb_sections" data-ref-filename="TCCState..nb_sections">nb_sections</a>)</td></tr>
<tr><th id="859">859</th><td>	        <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::sh_addralign" title='Section::sh_addralign' data-ref="Section::sh_addralign" data-ref-filename="Section..sh_addralign">sh_addralign</a> = <var>1</var>;</td></tr>
<tr><th id="860">860</th><td>        }</td></tr>
<tr><th id="861">861</th><td>        <b>break</b>;</td></tr>
<tr><th id="862">862</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#329" title='TOK_ASMDIR_previous' data-ref="TOK_ASMDIR_previous" data-ref-filename="TOK_ASMDIR_previous">TOK_ASMDIR_previous</a>:</td></tr>
<tr><th id="863">863</th><td>        { </td></tr>
<tr><th id="864">864</th><td>            <a class="typedef" href="tcc.h.html#Section" title='Section' data-type='struct Section' data-ref="Section" data-ref-filename="Section">Section</a> *<dfn class="local col3 decl" id="123sec" title='sec' data-type='Section *' data-ref="123sec" data-ref-filename="123sec">sec</dfn>;</td></tr>
<tr><th id="865">865</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="866">866</th><td>            <b>if</b> (!<a class="ref" href="tcc.h.html#last_text_section" title='last_text_section' data-ref="last_text_section" data-ref-filename="last_text_section">last_text_section</a>)</td></tr>
<tr><th id="867">867</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"no previous section referenced"</q>);</td></tr>
<tr><th id="868">868</th><td>            <a class="local col3 ref" href="#123sec" title='sec' data-ref="123sec" data-ref-filename="123sec">sec</a> = <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>;</td></tr>
<tr><th id="869">869</th><td>            <a class="tu ref fn" href="#use_section1" title='use_section1' data-use='c' data-ref="use_section1" data-ref-filename="use_section1">use_section1</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>, <a class="ref" href="tcc.h.html#last_text_section" title='last_text_section' data-ref="last_text_section" data-ref-filename="last_text_section">last_text_section</a>);</td></tr>
<tr><th id="870">870</th><td>            <a class="ref" href="tcc.h.html#last_text_section" title='last_text_section' data-ref="last_text_section" data-ref-filename="last_text_section">last_text_section</a> = <a class="local col3 ref" href="#123sec" title='sec' data-ref="123sec" data-ref-filename="123sec">sec</a>;</td></tr>
<tr><th id="871">871</th><td>        }</td></tr>
<tr><th id="872">872</th><td>        <b>break</b>;</td></tr>
<tr><th id="873">873</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#331" title='TOK_ASMDIR_popsection' data-ref="TOK_ASMDIR_popsection" data-ref-filename="TOK_ASMDIR_popsection">TOK_ASMDIR_popsection</a>:</td></tr>
<tr><th id="874">874</th><td>	<a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="875">875</th><td>	<a class="tu ref fn" href="#pop_section" title='pop_section' data-use='c' data-ref="pop_section" data-ref-filename="pop_section">pop_section</a>(<a class="local col7 ref" href="#87s1" title='s1' data-ref="87s1" data-ref-filename="87s1">s1</a>);</td></tr>
<tr><th id="876">876</th><td>	<b>break</b>;</td></tr>
<tr><th id="877">877</th><td><u>#<span data-ppcond="877">ifdef</span> <span class="macro" data-ref="_M/TCC_TARGET_I386">TCC_TARGET_I386</span></u></td></tr>
<tr><th id="878">878</th><td>    <b>case</b> TOK_ASMDIR_code16:</td></tr>
<tr><th id="879">879</th><td>        {</td></tr>
<tr><th id="880">880</th><td>            next();</td></tr>
<tr><th id="881">881</th><td>            s1-&gt;seg_size = <var>16</var>;</td></tr>
<tr><th id="882">882</th><td>        }</td></tr>
<tr><th id="883">883</th><td>        <b>break</b>;</td></tr>
<tr><th id="884">884</th><td>    <b>case</b> TOK_ASMDIR_code32:</td></tr>
<tr><th id="885">885</th><td>        {</td></tr>
<tr><th id="886">886</th><td>            next();</td></tr>
<tr><th id="887">887</th><td>            s1-&gt;seg_size = <var>32</var>;</td></tr>
<tr><th id="888">888</th><td>        }</td></tr>
<tr><th id="889">889</th><td>        <b>break</b>;</td></tr>
<tr><th id="890">890</th><td><u>#<span data-ppcond="877">endif</span></u></td></tr>
<tr><th id="891">891</th><td><u>#<span data-ppcond="891">ifdef</span> <span class="macro" data-ref="_M/TCC_TARGET_X86_64">TCC_TARGET_X86_64</span></u></td></tr>
<tr><th id="892">892</th><td>    <i>/* added for compatibility with GAS */</i></td></tr>
<tr><th id="893">893</th><td>    <b>case</b> <a class="enum" href="tcctok.h.html#341" title='TOK_ASMDIR_code64' data-ref="TOK_ASMDIR_code64" data-ref-filename="TOK_ASMDIR_code64">TOK_ASMDIR_code64</a>:</td></tr>
<tr><th id="894">894</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="895">895</th><td>        <b>break</b>;</td></tr>
<tr><th id="896">896</th><td><u>#<span data-ppcond="891">endif</span></u></td></tr>
<tr><th id="897">897</th><td>    <b>default</b>:</td></tr>
<tr><th id="898">898</th><td>        <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"unknown assembler directive '.%s'"</q>, <a class="ref fn" href="tcc.h.html#get_tok_str" title='get_tok_str' data-ref="get_tok_str" data-ref-filename="get_tok_str">get_tok_str</a>(<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>, <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>));</td></tr>
<tr><th id="899">899</th><td>        <b>break</b>;</td></tr>
<tr><th id="900">900</th><td>    }</td></tr>
<tr><th id="901">901</th><td>}</td></tr>
<tr><th id="902">902</th><td></td></tr>
<tr><th id="903">903</th><td></td></tr>
<tr><th id="904">904</th><td><i  data-doc="tcc_assemble_internal">/* assemble a file */</i></td></tr>
<tr><th id="905">905</th><td><em>static</em> <em>int</em> <dfn class="tu decl def fn" id="tcc_assemble_internal" title='tcc_assemble_internal' data-type='int tcc_assemble_internal(TCCState * s1, int do_preprocess, int global)' data-ref="tcc_assemble_internal" data-ref-filename="tcc_assemble_internal">tcc_assemble_internal</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col4 decl" id="124s1" title='s1' data-type='TCCState *' data-ref="124s1" data-ref-filename="124s1">s1</dfn>, <em>int</em> <dfn class="local col5 decl" id="125do_preprocess" title='do_preprocess' data-type='int' data-ref="125do_preprocess" data-ref-filename="125do_preprocess">do_preprocess</dfn>, <em>int</em> <dfn class="local col6 decl" id="126global" title='global' data-type='int' data-ref="126global" data-ref-filename="126global">global</dfn>)</td></tr>
<tr><th id="906">906</th><td>{</td></tr>
<tr><th id="907">907</th><td>    <em>int</em> <dfn class="local col7 decl" id="127opcode" title='opcode' data-type='int' data-ref="127opcode" data-ref-filename="127opcode">opcode</dfn>;</td></tr>
<tr><th id="908">908</th><td>    <em>int</em> <dfn class="local col8 decl" id="128saved_parse_flags" title='saved_parse_flags' data-type='int' data-ref="128saved_parse_flags" data-ref-filename="128saved_parse_flags">saved_parse_flags</dfn> = <a class="ref" href="tcc.h.html#parse_flags" title='parse_flags' data-ref="parse_flags" data-ref-filename="parse_flags">parse_flags</a>;</td></tr>
<tr><th id="909">909</th><td></td></tr>
<tr><th id="910">910</th><td>    <a class="ref" href="tcc.h.html#parse_flags" title='parse_flags' data-ref="parse_flags" data-ref-filename="parse_flags">parse_flags</a> = <a class="macro" href="tcc.h.html#1225" title="0x0008" data-ref="_M/PARSE_FLAG_ASM_FILE">PARSE_FLAG_ASM_FILE</a> | <a class="macro" href="tcc.h.html#1228" title="0x0040" data-ref="_M/PARSE_FLAG_TOK_STR">PARSE_FLAG_TOK_STR</a>;</td></tr>
<tr><th id="911">911</th><td>    <b>if</b> (<a class="local col5 ref" href="#125do_preprocess" title='do_preprocess' data-ref="125do_preprocess" data-ref-filename="125do_preprocess">do_preprocess</a>)</td></tr>
<tr><th id="912">912</th><td>        <a class="ref" href="tcc.h.html#parse_flags" title='parse_flags' data-ref="parse_flags" data-ref-filename="parse_flags">parse_flags</a> |= <a class="macro" href="tcc.h.html#1220" title="0x0001" data-ref="_M/PARSE_FLAG_PREPROCESS">PARSE_FLAG_PREPROCESS</a>;</td></tr>
<tr><th id="913">913</th><td>    <b>for</b>(;;) {</td></tr>
<tr><th id="914">914</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="915">915</th><td>        <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="macro" href="tcc.h.html#992" title="(-1)" data-ref="_M/TOK_EOF">TOK_EOF</a>)</td></tr>
<tr><th id="916">916</th><td>            <b>break</b>;</td></tr>
<tr><th id="917">917</th><td>        <i>/* generate line number info */</i></td></tr>
<tr><th id="918">918</th><td>        <b>if</b> (<a class="local col6 ref" href="#126global" title='global' data-ref="126global" data-ref-filename="126global">global</a> &amp;&amp; <a class="local col4 ref" href="#124s1" title='s1' data-ref="124s1" data-ref-filename="124s1">s1</a>-&gt;<a class="ref field" href="tcc.h.html#TCCState::do_debug" title='TCCState::do_debug' data-ref="TCCState::do_debug" data-ref-filename="TCCState..do_debug">do_debug</a>)</td></tr>
<tr><th id="919">919</th><td>            <a class="ref fn" href="tcc.h.html#tcc_debug_line" title='tcc_debug_line' data-ref="tcc_debug_line" data-ref-filename="tcc_debug_line">tcc_debug_line</a>(<a class="local col4 ref" href="#124s1" title='s1' data-ref="124s1" data-ref-filename="124s1">s1</a>);</td></tr>
<tr><th id="920">920</th><td>        <a class="ref" href="tcc.h.html#parse_flags" title='parse_flags' data-ref="parse_flags" data-ref-filename="parse_flags">parse_flags</a> |= <a class="macro" href="tcc.h.html#1222" title="0x0004" data-ref="_M/PARSE_FLAG_LINEFEED">PARSE_FLAG_LINEFEED</a>; <i>/* XXX: suppress that hack */</i></td></tr>
<tr><th id="921">921</th><td>    <dfn class="lbl" id="129redo" data-ref="129redo" data-ref-filename="129redo">redo</dfn>:</td></tr>
<tr><th id="922">922</th><td>        <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>'#'</kbd>) {</td></tr>
<tr><th id="923">923</th><td>            <i>/* horrible gas comment */</i></td></tr>
<tr><th id="924">924</th><td>            <b>while</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#993" title="10" data-ref="_M/TOK_LINEFEED">TOK_LINEFEED</a>)</td></tr>
<tr><th id="925">925</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="926">926</th><td>        } <b>else</b> <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> &gt;= <a class="macro" href="tcc.h.html#1001" title="TOK_ASMDIR_byte" data-ref="_M/TOK_ASMDIR_FIRST">TOK_ASMDIR_FIRST</a> &amp;&amp; <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> &lt;= <a class="macro" href="tcc.h.html#1002" title="TOK_ASMDIR_section" data-ref="_M/TOK_ASMDIR_LAST">TOK_ASMDIR_LAST</a>) {</td></tr>
<tr><th id="927">927</th><td>            <a class="tu ref fn" href="#asm_parse_directive" title='asm_parse_directive' data-use='c' data-ref="asm_parse_directive" data-ref-filename="asm_parse_directive">asm_parse_directive</a>(<a class="local col4 ref" href="#124s1" title='s1' data-ref="124s1" data-ref-filename="124s1">s1</a>, <a class="local col6 ref" href="#126global" title='global' data-ref="126global" data-ref-filename="126global">global</a>);</td></tr>
<tr><th id="928">928</th><td>        } <b>else</b> <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="macro" href="tcc.h.html#956" title="0xbe" data-ref="_M/TOK_PPNUM">TOK_PPNUM</a>) {</td></tr>
<tr><th id="929">929</th><td>            <em>const</em> <em>char</em> *<dfn class="local col0 decl" id="130p" title='p' data-type='const char *' data-ref="130p" data-ref-filename="130p">p</dfn>;</td></tr>
<tr><th id="930">930</th><td>            <em>int</em> <dfn class="local col1 decl" id="131n" title='n' data-type='int' data-ref="131n" data-ref-filename="131n">n</dfn>;</td></tr>
<tr><th id="931">931</th><td>            <a class="local col0 ref" href="#130p" title='p' data-ref="130p" data-ref-filename="130p">p</a> = <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::data" title='CValue::(anonymous struct)::data' data-ref="CValue::(anonymous)::data" data-ref-filename="CValue..(anonymous)..data">data</a>;</td></tr>
<tr><th id="932">932</th><td>            <a class="local col1 ref" href="#131n" title='n' data-ref="131n" data-ref-filename="131n">n</a> = <a class="ref fn" href="../include/stdlib.h.html#strtoul" title='strtoul' data-ref="strtoul" data-ref-filename="strtoul">strtoul</a>(<a class="local col0 ref" href="#130p" title='p' data-ref="130p" data-ref-filename="130p">p</a>, (<em>char</em> **)&amp;<a class="local col0 ref" href="#130p" title='p' data-ref="130p" data-ref-filename="130p">p</a>, <var>10</var>);</td></tr>
<tr><th id="933">933</th><td>            <b>if</b> (*<a class="local col0 ref" href="#130p" title='p' data-ref="130p" data-ref-filename="130p">p</a> != <kbd>'\0'</kbd>)</td></tr>
<tr><th id="934">934</th><td>                <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"':'"</q>);</td></tr>
<tr><th id="935">935</th><td>            <i>/* new local label */</i></td></tr>
<tr><th id="936">936</th><td>            <a class="tu ref fn" href="#asm_new_label" title='asm_new_label' data-use='c' data-ref="asm_new_label" data-ref-filename="asm_new_label">asm_new_label</a>(<a class="local col4 ref" href="#124s1" title='s1' data-ref="124s1" data-ref-filename="124s1">s1</a>, <a class="ref fn" href="#asm_get_local_label_name" title='asm_get_local_label_name' data-ref="asm_get_local_label_name" data-ref-filename="asm_get_local_label_name">asm_get_local_label_name</a>(<a class="local col4 ref" href="#124s1" title='s1' data-ref="124s1" data-ref-filename="124s1">s1</a>, <a class="local col1 ref" href="#131n" title='n' data-ref="131n" data-ref-filename="131n">n</a>), <var>1</var>);</td></tr>
<tr><th id="937">937</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="938">938</th><td>            <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>':'</kbd>);</td></tr>
<tr><th id="939">939</th><td>            <b>goto</b> <a class="lbl" href="#129redo" data-ref="129redo" data-ref-filename="129redo">redo</a>;</td></tr>
<tr><th id="940">940</th><td>        } <b>else</b> <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> &gt;= <a class="macro" href="tcc.h.html#996" title="256" data-ref="_M/TOK_IDENT">TOK_IDENT</a>) {</td></tr>
<tr><th id="941">941</th><td>            <i>/* instruction or label */</i></td></tr>
<tr><th id="942">942</th><td>            <a class="local col7 ref" href="#127opcode" title='opcode' data-ref="127opcode" data-ref-filename="127opcode">opcode</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="943">943</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="944">944</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>':'</kbd>) {</td></tr>
<tr><th id="945">945</th><td>                <i>/* new label */</i></td></tr>
<tr><th id="946">946</th><td>                <a class="tu ref fn" href="#asm_new_label" title='asm_new_label' data-use='c' data-ref="asm_new_label" data-ref-filename="asm_new_label">asm_new_label</a>(<a class="local col4 ref" href="#124s1" title='s1' data-ref="124s1" data-ref-filename="124s1">s1</a>, <a class="local col7 ref" href="#127opcode" title='opcode' data-ref="127opcode" data-ref-filename="127opcode">opcode</a>, <var>0</var>);</td></tr>
<tr><th id="947">947</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="948">948</th><td>                <b>goto</b> <a class="lbl" href="#129redo" data-ref="129redo" data-ref-filename="129redo">redo</a>;</td></tr>
<tr><th id="949">949</th><td>            } <b>else</b> <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>'='</kbd>) {</td></tr>
<tr><th id="950">950</th><td>		<a class="tu ref fn" href="#set_symbol" title='set_symbol' data-use='c' data-ref="set_symbol" data-ref-filename="set_symbol">set_symbol</a>(<a class="local col4 ref" href="#124s1" title='s1' data-ref="124s1" data-ref-filename="124s1">s1</a>, <a class="local col7 ref" href="#127opcode" title='opcode' data-ref="127opcode" data-ref-filename="127opcode">opcode</a>);</td></tr>
<tr><th id="951">951</th><td>                <b>goto</b> <a class="lbl" href="#129redo" data-ref="129redo" data-ref-filename="129redo">redo</a>;</td></tr>
<tr><th id="952">952</th><td>            } <b>else</b> {</td></tr>
<tr><th id="953">953</th><td>                <a class="ref fn" href="tcc.h.html#asm_opcode" title='asm_opcode' data-ref="asm_opcode" data-ref-filename="asm_opcode">asm_opcode</a>(<a class="local col4 ref" href="#124s1" title='s1' data-ref="124s1" data-ref-filename="124s1">s1</a>, <a class="local col7 ref" href="#127opcode" title='opcode' data-ref="127opcode" data-ref-filename="127opcode">opcode</a>);</td></tr>
<tr><th id="954">954</th><td>            }</td></tr>
<tr><th id="955">955</th><td>        }</td></tr>
<tr><th id="956">956</th><td>        <i>/* end of line */</i></td></tr>
<tr><th id="957">957</th><td>        <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>';'</kbd> &amp;&amp; <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#993" title="10" data-ref="_M/TOK_LINEFEED">TOK_LINEFEED</a>)</td></tr>
<tr><th id="958">958</th><td>            <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"end of line"</q>);</td></tr>
<tr><th id="959">959</th><td>        <a class="ref" href="tcc.h.html#parse_flags" title='parse_flags' data-ref="parse_flags" data-ref-filename="parse_flags">parse_flags</a> &amp;= ~<a class="macro" href="tcc.h.html#1222" title="0x0004" data-ref="_M/PARSE_FLAG_LINEFEED">PARSE_FLAG_LINEFEED</a>; <i>/* XXX: suppress that hack */</i></td></tr>
<tr><th id="960">960</th><td>    }</td></tr>
<tr><th id="961">961</th><td></td></tr>
<tr><th id="962">962</th><td>    <a class="ref" href="tcc.h.html#parse_flags" title='parse_flags' data-ref="parse_flags" data-ref-filename="parse_flags">parse_flags</a> = <a class="local col8 ref" href="#128saved_parse_flags" title='saved_parse_flags' data-ref="128saved_parse_flags" data-ref-filename="128saved_parse_flags">saved_parse_flags</a>;</td></tr>
<tr><th id="963">963</th><td>    <b>return</b> <var>0</var>;</td></tr>
<tr><th id="964">964</th><td>}</td></tr>
<tr><th id="965">965</th><td></td></tr>
<tr><th id="966">966</th><td><i>/* Assemble the current file */</i></td></tr>
<tr><th id="967">967</th><td><a class="macro" href="tcc.h.html#310" title="" data-ref="_M/ST_FUNC">ST_FUNC</a> <em>int</em> <dfn class="decl def fn" id="tcc_assemble" title='tcc_assemble' data-ref="tcc_assemble" data-ref-filename="tcc_assemble">tcc_assemble</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col2 decl" id="132s1" title='s1' data-type='TCCState *' data-ref="132s1" data-ref-filename="132s1">s1</dfn>, <em>int</em> <dfn class="local col3 decl" id="133do_preprocess" title='do_preprocess' data-type='int' data-ref="133do_preprocess" data-ref-filename="133do_preprocess">do_preprocess</dfn>)</td></tr>
<tr><th id="968">968</th><td>{</td></tr>
<tr><th id="969">969</th><td>    <em>int</em> <dfn class="local col4 decl" id="134ret" title='ret' data-type='int' data-ref="134ret" data-ref-filename="134ret">ret</dfn>;</td></tr>
<tr><th id="970">970</th><td>    <a class="ref fn" href="tcc.h.html#tcc_debug_start" title='tcc_debug_start' data-ref="tcc_debug_start" data-ref-filename="tcc_debug_start">tcc_debug_start</a>(<a class="local col2 ref" href="#132s1" title='s1' data-ref="132s1" data-ref-filename="132s1">s1</a>);</td></tr>
<tr><th id="971">971</th><td>    <i>/* default section is text */</i></td></tr>
<tr><th id="972">972</th><td>    <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a> = <a class="ref" href="tcc.h.html#text_section" title='text_section' data-ref="text_section" data-ref-filename="text_section">text_section</a>;</td></tr>
<tr><th id="973">973</th><td>    <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a> = <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::data_offset" title='Section::data_offset' data-ref="Section::data_offset" data-ref-filename="Section..data_offset">data_offset</a>;</td></tr>
<tr><th id="974">974</th><td>    <a class="ref" href="tcc.h.html#nocode_wanted" title='nocode_wanted' data-ref="nocode_wanted" data-ref-filename="nocode_wanted">nocode_wanted</a> = <var>0</var>;</td></tr>
<tr><th id="975">975</th><td>    <a class="local col4 ref" href="#134ret" title='ret' data-ref="134ret" data-ref-filename="134ret">ret</a> = <a class="tu ref fn" href="#tcc_assemble_internal" title='tcc_assemble_internal' data-use='c' data-ref="tcc_assemble_internal" data-ref-filename="tcc_assemble_internal">tcc_assemble_internal</a>(<a class="local col2 ref" href="#132s1" title='s1' data-ref="132s1" data-ref-filename="132s1">s1</a>, <a class="local col3 ref" href="#133do_preprocess" title='do_preprocess' data-ref="133do_preprocess" data-ref-filename="133do_preprocess">do_preprocess</a>, <var>1</var>);</td></tr>
<tr><th id="976">976</th><td>    <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::data_offset" title='Section::data_offset' data-ref="Section::data_offset" data-ref-filename="Section..data_offset">data_offset</a> = <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>;</td></tr>
<tr><th id="977">977</th><td>    <a class="ref fn" href="tcc.h.html#tcc_debug_end" title='tcc_debug_end' data-ref="tcc_debug_end" data-ref-filename="tcc_debug_end">tcc_debug_end</a>(<a class="local col2 ref" href="#132s1" title='s1' data-ref="132s1" data-ref-filename="132s1">s1</a>);</td></tr>
<tr><th id="978">978</th><td>    <b>return</b> <a class="local col4 ref" href="#134ret" title='ret' data-ref="134ret" data-ref-filename="134ret">ret</a>;</td></tr>
<tr><th id="979">979</th><td>}</td></tr>
<tr><th id="980">980</th><td></td></tr>
<tr><th id="981">981</th><td><i>/********************************************************************/</i></td></tr>
<tr><th id="982">982</th><td><i>/* GCC inline asm support */</i></td></tr>
<tr><th id="983">983</th><td></td></tr>
<tr><th id="984">984</th><td><i  data-doc="tcc_assemble_inline">/* assemble the string 'str' in the current C compilation unit without</i></td></tr>
<tr><th id="985">985</th><td><i  data-doc="tcc_assemble_inline">   C preprocessing. NOTE: str is modified by modifying the '\0' at the</i></td></tr>
<tr><th id="986">986</th><td><i  data-doc="tcc_assemble_inline">   end */</i></td></tr>
<tr><th id="987">987</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="tcc_assemble_inline" title='tcc_assemble_inline' data-type='void tcc_assemble_inline(TCCState * s1, char * str, int len, int global)' data-ref="tcc_assemble_inline" data-ref-filename="tcc_assemble_inline">tcc_assemble_inline</dfn>(<a class="typedef" href="libtcc.h.html#TCCState" title='TCCState' data-type='struct TCCState' data-ref="TCCState" data-ref-filename="TCCState">TCCState</a> *<dfn class="local col5 decl" id="135s1" title='s1' data-type='TCCState *' data-ref="135s1" data-ref-filename="135s1">s1</dfn>, <em>char</em> *<dfn class="local col6 decl" id="136str" title='str' data-type='char *' data-ref="136str" data-ref-filename="136str">str</dfn>, <em>int</em> <dfn class="local col7 decl" id="137len" title='len' data-type='int' data-ref="137len" data-ref-filename="137len">len</dfn>, <em>int</em> <dfn class="local col8 decl" id="138global" title='global' data-type='int' data-ref="138global" data-ref-filename="138global">global</dfn>)</td></tr>
<tr><th id="988">988</th><td>{</td></tr>
<tr><th id="989">989</th><td>    <em>const</em> <em>int</em> *<dfn class="local col9 decl" id="139saved_macro_ptr" title='saved_macro_ptr' data-type='const int *' data-ref="139saved_macro_ptr" data-ref-filename="139saved_macro_ptr">saved_macro_ptr</dfn> = <a class="ref" href="tcc.h.html#macro_ptr" title='macro_ptr' data-ref="macro_ptr" data-ref-filename="macro_ptr">macro_ptr</a>;</td></tr>
<tr><th id="990">990</th><td>    <em>int</em> <dfn class="local col0 decl" id="140dotid" title='dotid' data-type='int' data-ref="140dotid" data-ref-filename="140dotid">dotid</dfn> = <a class="ref fn" href="tcc.h.html#set_idnum" title='set_idnum' data-ref="set_idnum" data-ref-filename="set_idnum">set_idnum</a>(<kbd>'.'</kbd>, <a class="macro" href="tcc.h.html#1232" title="2" data-ref="_M/IS_ID">IS_ID</a>);</td></tr>
<tr><th id="991">991</th><td></td></tr>
<tr><th id="992">992</th><td>    <a class="ref fn" href="tcc.h.html#tcc_open_bf" title='tcc_open_bf' data-ref="tcc_open_bf" data-ref-filename="tcc_open_bf">tcc_open_bf</a>(<a class="local col5 ref" href="#135s1" title='s1' data-ref="135s1" data-ref-filename="135s1">s1</a>, <q>":asm:"</q>, <a class="local col7 ref" href="#137len" title='len' data-ref="137len" data-ref-filename="137len">len</a>);</td></tr>
<tr><th id="993">993</th><td>    <a class="ref fn" href="../include/string.h.html#memcpy" title='memcpy' data-ref="memcpy" data-ref-filename="memcpy">memcpy</a>(<a class="ref" href="tcc.h.html#file" title='file' data-ref="file" data-ref-filename="file">file</a>-&gt;<a class="ref field" href="tcc.h.html#BufferedFile::buffer" title='BufferedFile::buffer' data-ref="BufferedFile::buffer" data-ref-filename="BufferedFile..buffer">buffer</a>, <a class="local col6 ref" href="#136str" title='str' data-ref="136str" data-ref-filename="136str">str</a>, <a class="local col7 ref" href="#137len" title='len' data-ref="137len" data-ref-filename="137len">len</a>);</td></tr>
<tr><th id="994">994</th><td>    <a class="ref" href="tcc.h.html#macro_ptr" title='macro_ptr' data-ref="macro_ptr" data-ref-filename="macro_ptr">macro_ptr</a> = <span class="macro" title="((void*)0)" data-ref="_M/NULL">NULL</span>;</td></tr>
<tr><th id="995">995</th><td>    <a class="tu ref fn" href="#tcc_assemble_internal" title='tcc_assemble_internal' data-use='c' data-ref="tcc_assemble_internal" data-ref-filename="tcc_assemble_internal">tcc_assemble_internal</a>(<a class="local col5 ref" href="#135s1" title='s1' data-ref="135s1" data-ref-filename="135s1">s1</a>, <var>0</var>, <a class="local col8 ref" href="#138global" title='global' data-ref="138global" data-ref-filename="138global">global</a>);</td></tr>
<tr><th id="996">996</th><td>    <a class="ref fn" href="tcc.h.html#tcc_close" title='tcc_close' data-ref="tcc_close" data-ref-filename="tcc_close">tcc_close</a>();</td></tr>
<tr><th id="997">997</th><td></td></tr>
<tr><th id="998">998</th><td>    <a class="ref fn" href="tcc.h.html#set_idnum" title='set_idnum' data-ref="set_idnum" data-ref-filename="set_idnum">set_idnum</a>(<kbd>'.'</kbd>, <a class="local col0 ref" href="#140dotid" title='dotid' data-ref="140dotid" data-ref-filename="140dotid">dotid</a>);</td></tr>
<tr><th id="999">999</th><td>    <a class="ref" href="tcc.h.html#macro_ptr" title='macro_ptr' data-ref="macro_ptr" data-ref-filename="macro_ptr">macro_ptr</a> = <a class="local col9 ref" href="#139saved_macro_ptr" title='saved_macro_ptr' data-ref="139saved_macro_ptr" data-ref-filename="139saved_macro_ptr">saved_macro_ptr</a>;</td></tr>
<tr><th id="1000">1000</th><td>}</td></tr>
<tr><th id="1001">1001</th><td></td></tr>
<tr><th id="1002">1002</th><td><i>/* find a constraint by its number or id (gcc 3 extended</i></td></tr>
<tr><th id="1003">1003</th><td><i>   syntax). return -1 if not found. Return in *pp in char after the</i></td></tr>
<tr><th id="1004">1004</th><td><i>   constraint */</i></td></tr>
<tr><th id="1005">1005</th><td><a class="macro" href="tcc.h.html#310" title="" data-ref="_M/ST_FUNC">ST_FUNC</a> <em>int</em> <dfn class="decl def fn" id="find_constraint" title='find_constraint' data-ref="find_constraint" data-ref-filename="find_constraint">find_constraint</dfn>(<a class="typedef" href="tcc.h.html#ASMOperand" title='ASMOperand' data-type='struct ASMOperand' data-ref="ASMOperand" data-ref-filename="ASMOperand">ASMOperand</a> *<dfn class="local col1 decl" id="141operands" title='operands' data-type='ASMOperand *' data-ref="141operands" data-ref-filename="141operands">operands</dfn>, <em>int</em> <dfn class="local col2 decl" id="142nb_operands" title='nb_operands' data-type='int' data-ref="142nb_operands" data-ref-filename="142nb_operands">nb_operands</dfn>, </td></tr>
<tr><th id="1006">1006</th><td>                           <em>const</em> <em>char</em> *<dfn class="local col3 decl" id="143name" title='name' data-type='const char *' data-ref="143name" data-ref-filename="143name">name</dfn>, <em>const</em> <em>char</em> **<dfn class="local col4 decl" id="144pp" title='pp' data-type='const char **' data-ref="144pp" data-ref-filename="144pp">pp</dfn>)</td></tr>
<tr><th id="1007">1007</th><td>{</td></tr>
<tr><th id="1008">1008</th><td>    <em>int</em> <dfn class="local col5 decl" id="145index" title='index' data-type='int' data-ref="145index" data-ref-filename="145index">index</dfn>;</td></tr>
<tr><th id="1009">1009</th><td>    <a class="typedef" href="tcc.h.html#TokenSym" title='TokenSym' data-type='struct TokenSym' data-ref="TokenSym" data-ref-filename="TokenSym">TokenSym</a> *<dfn class="local col6 decl" id="146ts" title='ts' data-type='TokenSym *' data-ref="146ts" data-ref-filename="146ts">ts</dfn>;</td></tr>
<tr><th id="1010">1010</th><td>    <em>const</em> <em>char</em> *<dfn class="local col7 decl" id="147p" title='p' data-type='const char *' data-ref="147p" data-ref-filename="147p">p</dfn>;</td></tr>
<tr><th id="1011">1011</th><td></td></tr>
<tr><th id="1012">1012</th><td>    <b>if</b> (<a class="ref fn" href="tcc.h.html#isnum" title='isnum' data-ref="isnum" data-ref-filename="isnum">isnum</a>(*<a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>)) {</td></tr>
<tr><th id="1013">1013</th><td>        <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> = <var>0</var>;</td></tr>
<tr><th id="1014">1014</th><td>        <b>while</b> (<a class="ref fn" href="tcc.h.html#isnum" title='isnum' data-ref="isnum" data-ref-filename="isnum">isnum</a>(*<a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>)) {</td></tr>
<tr><th id="1015">1015</th><td>            <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> = (<a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> * <var>10</var>) + (*<a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>) - <kbd>'0'</kbd>;</td></tr>
<tr><th id="1016">1016</th><td>            <a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>++;</td></tr>
<tr><th id="1017">1017</th><td>        }</td></tr>
<tr><th id="1018">1018</th><td>        <b>if</b> ((<em>unsigned</em>)<a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> &gt;= <a class="local col2 ref" href="#142nb_operands" title='nb_operands' data-ref="142nb_operands" data-ref-filename="142nb_operands">nb_operands</a>)</td></tr>
<tr><th id="1019">1019</th><td>            <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> = -<var>1</var>;</td></tr>
<tr><th id="1020">1020</th><td>    } <b>else</b> <b>if</b> (*<a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a> == <kbd>'['</kbd>) {</td></tr>
<tr><th id="1021">1021</th><td>        <a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>++;</td></tr>
<tr><th id="1022">1022</th><td>        <a class="local col7 ref" href="#147p" title='p' data-ref="147p" data-ref-filename="147p">p</a> = <a class="ref fn" href="../include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>(<a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>, <kbd>']'</kbd>);</td></tr>
<tr><th id="1023">1023</th><td>        <b>if</b> (<a class="local col7 ref" href="#147p" title='p' data-ref="147p" data-ref-filename="147p">p</a>) {</td></tr>
<tr><th id="1024">1024</th><td>            <a class="local col6 ref" href="#146ts" title='ts' data-ref="146ts" data-ref-filename="146ts">ts</a> = <a class="ref fn" href="tcc.h.html#tok_alloc" title='tok_alloc' data-ref="tok_alloc" data-ref-filename="tok_alloc">tok_alloc</a>(<a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>, <a class="local col7 ref" href="#147p" title='p' data-ref="147p" data-ref-filename="147p">p</a> - <a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>);</td></tr>
<tr><th id="1025">1025</th><td>            <b>for</b>(<a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> = <var>0</var>; <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> &lt; <a class="local col2 ref" href="#142nb_operands" title='nb_operands' data-ref="142nb_operands" data-ref-filename="142nb_operands">nb_operands</a>; <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a>++) {</td></tr>
<tr><th id="1026">1026</th><td>                <b>if</b> (<a class="local col1 ref" href="#141operands" title='operands' data-ref="141operands" data-ref-filename="141operands">operands</a>[<a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a>].<a class="ref field" href="tcc.h.html#ASMOperand::id" title='ASMOperand::id' data-ref="ASMOperand::id" data-ref-filename="ASMOperand..id">id</a> == <a class="local col6 ref" href="#146ts" title='ts' data-ref="146ts" data-ref-filename="146ts">ts</a>-&gt;<a class="ref field" href="tcc.h.html#TokenSym::tok" title='TokenSym::tok' data-ref="TokenSym::tok" data-ref-filename="TokenSym..tok">tok</a>)</td></tr>
<tr><th id="1027">1027</th><td>                    <b>goto</b> <a class="lbl" href="#148found" data-ref="148found" data-ref-filename="148found">found</a>;</td></tr>
<tr><th id="1028">1028</th><td>            }</td></tr>
<tr><th id="1029">1029</th><td>            <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> = -<var>1</var>;</td></tr>
<tr><th id="1030">1030</th><td>        <dfn class="lbl" id="148found" data-ref="148found" data-ref-filename="148found">found</dfn>:</td></tr>
<tr><th id="1031">1031</th><td>            <a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a> = <a class="local col7 ref" href="#147p" title='p' data-ref="147p" data-ref-filename="147p">p</a> + <var>1</var>;</td></tr>
<tr><th id="1032">1032</th><td>        } <b>else</b> {</td></tr>
<tr><th id="1033">1033</th><td>            <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> = -<var>1</var>;</td></tr>
<tr><th id="1034">1034</th><td>        }</td></tr>
<tr><th id="1035">1035</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1036">1036</th><td>        <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a> = -<var>1</var>;</td></tr>
<tr><th id="1037">1037</th><td>    }</td></tr>
<tr><th id="1038">1038</th><td>    <b>if</b> (<a class="local col4 ref" href="#144pp" title='pp' data-ref="144pp" data-ref-filename="144pp">pp</a>)</td></tr>
<tr><th id="1039">1039</th><td>        *<a class="local col4 ref" href="#144pp" title='pp' data-ref="144pp" data-ref-filename="144pp">pp</a> = <a class="local col3 ref" href="#143name" title='name' data-ref="143name" data-ref-filename="143name">name</a>;</td></tr>
<tr><th id="1040">1040</th><td>    <b>return</b> <a class="local col5 ref" href="#145index" title='index' data-ref="145index" data-ref-filename="145index">index</a>;</td></tr>
<tr><th id="1041">1041</th><td>}</td></tr>
<tr><th id="1042">1042</th><td></td></tr>
<tr><th id="1043">1043</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="subst_asm_operands" title='subst_asm_operands' data-type='void subst_asm_operands(ASMOperand * operands, int nb_operands, CString * out_str, CString * in_str)' data-ref="subst_asm_operands" data-ref-filename="subst_asm_operands">subst_asm_operands</dfn>(<a class="typedef" href="tcc.h.html#ASMOperand" title='ASMOperand' data-type='struct ASMOperand' data-ref="ASMOperand" data-ref-filename="ASMOperand">ASMOperand</a> *<dfn class="local col9 decl" id="149operands" title='operands' data-type='ASMOperand *' data-ref="149operands" data-ref-filename="149operands">operands</dfn>, <em>int</em> <dfn class="local col0 decl" id="150nb_operands" title='nb_operands' data-type='int' data-ref="150nb_operands" data-ref-filename="150nb_operands">nb_operands</dfn>, </td></tr>
<tr><th id="1044">1044</th><td>                               <a class="typedef" href="tcc.h.html#CString" title='CString' data-type='struct CString' data-ref="CString" data-ref-filename="CString">CString</a> *<dfn class="local col1 decl" id="151out_str" title='out_str' data-type='CString *' data-ref="151out_str" data-ref-filename="151out_str">out_str</dfn>, <a class="typedef" href="tcc.h.html#CString" title='CString' data-type='struct CString' data-ref="CString" data-ref-filename="CString">CString</a> *<dfn class="local col2 decl" id="152in_str" title='in_str' data-type='CString *' data-ref="152in_str" data-ref-filename="152in_str">in_str</dfn>)</td></tr>
<tr><th id="1045">1045</th><td>{</td></tr>
<tr><th id="1046">1046</th><td>    <em>int</em> <dfn class="local col3 decl" id="153c" title='c' data-type='int' data-ref="153c" data-ref-filename="153c">c</dfn>, <dfn class="local col4 decl" id="154index" title='index' data-type='int' data-ref="154index" data-ref-filename="154index">index</dfn>, <dfn class="local col5 decl" id="155modifier" title='modifier' data-type='int' data-ref="155modifier" data-ref-filename="155modifier">modifier</dfn>;</td></tr>
<tr><th id="1047">1047</th><td>    <em>const</em> <em>char</em> *<dfn class="local col6 decl" id="156str" title='str' data-type='const char *' data-ref="156str" data-ref-filename="156str">str</dfn>;</td></tr>
<tr><th id="1048">1048</th><td>    <a class="typedef" href="tcc.h.html#ASMOperand" title='ASMOperand' data-type='struct ASMOperand' data-ref="ASMOperand" data-ref-filename="ASMOperand">ASMOperand</a> *<dfn class="local col7 decl" id="157op" title='op' data-type='ASMOperand *' data-ref="157op" data-ref-filename="157op">op</dfn>;</td></tr>
<tr><th id="1049">1049</th><td>    <a class="typedef" href="tcc.h.html#SValue" title='SValue' data-type='struct SValue' data-ref="SValue" data-ref-filename="SValue">SValue</a> <dfn class="local col8 decl" id="158sv" title='sv' data-type='SValue' data-ref="158sv" data-ref-filename="158sv">sv</dfn>;</td></tr>
<tr><th id="1050">1050</th><td></td></tr>
<tr><th id="1051">1051</th><td>    <a class="ref fn" href="tcc.h.html#cstr_new" title='cstr_new' data-ref="cstr_new" data-ref-filename="cstr_new">cstr_new</a>(<a class="local col1 ref" href="#151out_str" title='out_str' data-ref="151out_str" data-ref-filename="151out_str">out_str</a>);</td></tr>
<tr><th id="1052">1052</th><td>    <a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> = <a class="local col2 ref" href="#152in_str" title='in_str' data-ref="152in_str" data-ref-filename="152in_str">in_str</a>-&gt;<a class="ref field" href="tcc.h.html#CString::data" title='CString::data' data-ref="CString::data" data-ref-filename="CString..data">data</a>;</td></tr>
<tr><th id="1053">1053</th><td>    <b>for</b>(;;) {</td></tr>
<tr><th id="1054">1054</th><td>        <a class="local col3 ref" href="#153c" title='c' data-ref="153c" data-ref-filename="153c">c</a> = *<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a>++;</td></tr>
<tr><th id="1055">1055</th><td>        <b>if</b> (<a class="local col3 ref" href="#153c" title='c' data-ref="153c" data-ref-filename="153c">c</a> == <kbd>'%'</kbd>) {</td></tr>
<tr><th id="1056">1056</th><td>            <b>if</b> (*<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'%'</kbd>) {</td></tr>
<tr><th id="1057">1057</th><td>                <a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a>++;</td></tr>
<tr><th id="1058">1058</th><td>                <b>goto</b> <a class="lbl" href="#159add_char" data-ref="159add_char" data-ref-filename="159add_char">add_char</a>;</td></tr>
<tr><th id="1059">1059</th><td>            }</td></tr>
<tr><th id="1060">1060</th><td>            <a class="local col5 ref" href="#155modifier" title='modifier' data-ref="155modifier" data-ref-filename="155modifier">modifier</a> = <var>0</var>;</td></tr>
<tr><th id="1061">1061</th><td>            <b>if</b> (*<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'c'</kbd> || *<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'n'</kbd> ||</td></tr>
<tr><th id="1062">1062</th><td>                *<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'b'</kbd> || *<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'w'</kbd> || *<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'h'</kbd> || *<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'k'</kbd> ||</td></tr>
<tr><th id="1063">1063</th><td>		*<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'q'</kbd> ||</td></tr>
<tr><th id="1064">1064</th><td>		<i>/* P in GCC would add "@PLT" to symbol refs in PIC mode,</i></td></tr>
<tr><th id="1065">1065</th><td><i>		   and make literal operands not be decorated with '$'.  */</i></td></tr>
<tr><th id="1066">1066</th><td>		*<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a> == <kbd>'P'</kbd>)</td></tr>
<tr><th id="1067">1067</th><td>                <a class="local col5 ref" href="#155modifier" title='modifier' data-ref="155modifier" data-ref-filename="155modifier">modifier</a> = *<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a>++;</td></tr>
<tr><th id="1068">1068</th><td>            <a class="local col4 ref" href="#154index" title='index' data-ref="154index" data-ref-filename="154index">index</a> = <a class="ref fn" href="#find_constraint" title='find_constraint' data-ref="find_constraint" data-ref-filename="find_constraint">find_constraint</a>(<a class="local col9 ref" href="#149operands" title='operands' data-ref="149operands" data-ref-filename="149operands">operands</a>, <a class="local col0 ref" href="#150nb_operands" title='nb_operands' data-ref="150nb_operands" data-ref-filename="150nb_operands">nb_operands</a>, <a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a>, &amp;<a class="local col6 ref" href="#156str" title='str' data-ref="156str" data-ref-filename="156str">str</a>);</td></tr>
<tr><th id="1069">1069</th><td>            <b>if</b> (<a class="local col4 ref" href="#154index" title='index' data-ref="154index" data-ref-filename="154index">index</a> &lt; <var>0</var>)</td></tr>
<tr><th id="1070">1070</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"invalid operand reference after %%"</q>);</td></tr>
<tr><th id="1071">1071</th><td>            <a class="local col7 ref" href="#157op" title='op' data-ref="157op" data-ref-filename="157op">op</a> = &amp;<a class="local col9 ref" href="#149operands" title='operands' data-ref="149operands" data-ref-filename="149operands">operands</a>[<a class="local col4 ref" href="#154index" title='index' data-ref="154index" data-ref-filename="154index">index</a>];</td></tr>
<tr><th id="1072">1072</th><td>            <a class="local col8 ref" href="#158sv" title='sv' data-ref="158sv" data-ref-filename="158sv">sv</a> = *<a class="local col7 ref" href="#157op" title='op' data-ref="157op" data-ref-filename="157op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::vt" title='ASMOperand::vt' data-ref="ASMOperand::vt" data-ref-filename="ASMOperand..vt">vt</a>;</td></tr>
<tr><th id="1073">1073</th><td>            <b>if</b> (<a class="local col7 ref" href="#157op" title='op' data-ref="157op" data-ref-filename="157op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::reg" title='ASMOperand::reg' data-ref="ASMOperand::reg" data-ref-filename="ASMOperand..reg">reg</a> &gt;= <var>0</var>) {</td></tr>
<tr><th id="1074">1074</th><td>                <a class="local col8 ref" href="#158sv" title='sv' data-ref="158sv" data-ref-filename="158sv">sv</a>.<a class="ref field" href="tcc.h.html#SValue::r" title='SValue::r' data-ref="SValue::r" data-ref-filename="SValue..r">r</a> = <a class="local col7 ref" href="#157op" title='op' data-ref="157op" data-ref-filename="157op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::reg" title='ASMOperand::reg' data-ref="ASMOperand::reg" data-ref-filename="ASMOperand..reg">reg</a>;</td></tr>
<tr><th id="1075">1075</th><td>                <b>if</b> ((<a class="local col7 ref" href="#157op" title='op' data-ref="157op" data-ref-filename="157op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::vt" title='ASMOperand::vt' data-ref="ASMOperand::vt" data-ref-filename="ASMOperand..vt">vt</a>-&gt;<a class="ref field" href="tcc.h.html#SValue::r" title='SValue::r' data-ref="SValue::r" data-ref-filename="SValue..r">r</a> &amp; <a class="macro" href="tcc.h.html#845" title="0x003f" data-ref="_M/VT_VALMASK">VT_VALMASK</a>) == <a class="macro" href="tcc.h.html#847" title="0x0031" data-ref="_M/VT_LLOCAL">VT_LLOCAL</a> &amp;&amp; <a class="local col7 ref" href="#157op" title='op' data-ref="157op" data-ref-filename="157op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::is_memory" title='ASMOperand::is_memory' data-ref="ASMOperand::is_memory" data-ref-filename="ASMOperand..is_memory">is_memory</a>)</td></tr>
<tr><th id="1076">1076</th><td>                    <a class="local col8 ref" href="#158sv" title='sv' data-ref="158sv" data-ref-filename="158sv">sv</a>.<a class="ref field" href="tcc.h.html#SValue::r" title='SValue::r' data-ref="SValue::r" data-ref-filename="SValue..r">r</a> |= <a class="macro" href="tcc.h.html#852" title="0x0100" data-ref="_M/VT_LVAL">VT_LVAL</a>;</td></tr>
<tr><th id="1077">1077</th><td>            }</td></tr>
<tr><th id="1078">1078</th><td>            <a class="ref fn" href="tcc.h.html#subst_asm_operand" title='subst_asm_operand' data-ref="subst_asm_operand" data-ref-filename="subst_asm_operand">subst_asm_operand</a>(<a class="local col1 ref" href="#151out_str" title='out_str' data-ref="151out_str" data-ref-filename="151out_str">out_str</a>, &amp;<a class="local col8 ref" href="#158sv" title='sv' data-ref="158sv" data-ref-filename="158sv">sv</a>, <a class="local col5 ref" href="#155modifier" title='modifier' data-ref="155modifier" data-ref-filename="155modifier">modifier</a>);</td></tr>
<tr><th id="1079">1079</th><td>        } <b>else</b> {</td></tr>
<tr><th id="1080">1080</th><td>        <dfn class="lbl" id="159add_char" data-ref="159add_char" data-ref-filename="159add_char">add_char</dfn>:</td></tr>
<tr><th id="1081">1081</th><td>            <a class="ref fn" href="tcc.h.html#cstr_ccat" title='cstr_ccat' data-ref="cstr_ccat" data-ref-filename="cstr_ccat">cstr_ccat</a>(<a class="local col1 ref" href="#151out_str" title='out_str' data-ref="151out_str" data-ref-filename="151out_str">out_str</a>, <a class="local col3 ref" href="#153c" title='c' data-ref="153c" data-ref-filename="153c">c</a>);</td></tr>
<tr><th id="1082">1082</th><td>            <b>if</b> (<a class="local col3 ref" href="#153c" title='c' data-ref="153c" data-ref-filename="153c">c</a> == <kbd>'\0'</kbd>)</td></tr>
<tr><th id="1083">1083</th><td>                <b>break</b>;</td></tr>
<tr><th id="1084">1084</th><td>        }</td></tr>
<tr><th id="1085">1085</th><td>    }</td></tr>
<tr><th id="1086">1086</th><td>}</td></tr>
<tr><th id="1087">1087</th><td></td></tr>
<tr><th id="1088">1088</th><td></td></tr>
<tr><th id="1089">1089</th><td><em>static</em> <em>void</em> <dfn class="tu decl def fn" id="parse_asm_operands" title='parse_asm_operands' data-type='void parse_asm_operands(ASMOperand * operands, int * nb_operands_ptr, int is_output)' data-ref="parse_asm_operands" data-ref-filename="parse_asm_operands">parse_asm_operands</dfn>(<a class="typedef" href="tcc.h.html#ASMOperand" title='ASMOperand' data-type='struct ASMOperand' data-ref="ASMOperand" data-ref-filename="ASMOperand">ASMOperand</a> *<dfn class="local col0 decl" id="160operands" title='operands' data-type='ASMOperand *' data-ref="160operands" data-ref-filename="160operands">operands</dfn>, <em>int</em> *<dfn class="local col1 decl" id="161nb_operands_ptr" title='nb_operands_ptr' data-type='int *' data-ref="161nb_operands_ptr" data-ref-filename="161nb_operands_ptr">nb_operands_ptr</dfn>,</td></tr>
<tr><th id="1090">1090</th><td>                               <em>int</em> <dfn class="local col2 decl" id="162is_output" title='is_output' data-type='int' data-ref="162is_output" data-ref-filename="162is_output">is_output</dfn>)</td></tr>
<tr><th id="1091">1091</th><td>{</td></tr>
<tr><th id="1092">1092</th><td>    <a class="typedef" href="tcc.h.html#ASMOperand" title='ASMOperand' data-type='struct ASMOperand' data-ref="ASMOperand" data-ref-filename="ASMOperand">ASMOperand</a> *<dfn class="local col3 decl" id="163op" title='op' data-type='ASMOperand *' data-ref="163op" data-ref-filename="163op">op</dfn>;</td></tr>
<tr><th id="1093">1093</th><td>    <em>int</em> <dfn class="local col4 decl" id="164nb_operands" title='nb_operands' data-type='int' data-ref="164nb_operands" data-ref-filename="164nb_operands">nb_operands</dfn>;</td></tr>
<tr><th id="1094">1094</th><td></td></tr>
<tr><th id="1095">1095</th><td>    <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>':'</kbd>) {</td></tr>
<tr><th id="1096">1096</th><td>        <a class="local col4 ref" href="#164nb_operands" title='nb_operands' data-ref="164nb_operands" data-ref-filename="164nb_operands">nb_operands</a> = *<a class="local col1 ref" href="#161nb_operands_ptr" title='nb_operands_ptr' data-ref="161nb_operands_ptr" data-ref-filename="161nb_operands_ptr">nb_operands_ptr</a>;</td></tr>
<tr><th id="1097">1097</th><td>        <b>for</b>(;;) {</td></tr>
<tr><th id="1098">1098</th><td>	    <a class="typedef" href="tcc.h.html#CString" title='CString' data-type='struct CString' data-ref="CString" data-ref-filename="CString">CString</a> <dfn class="local col5 decl" id="165astr" title='astr' data-type='CString' data-ref="165astr" data-ref-filename="165astr">astr</dfn>;</td></tr>
<tr><th id="1099">1099</th><td>            <b>if</b> (<a class="local col4 ref" href="#164nb_operands" title='nb_operands' data-ref="164nb_operands" data-ref-filename="164nb_operands">nb_operands</a> &gt;= <a class="macro" href="tcc.h.html#626" title="30" data-ref="_M/MAX_ASM_OPERANDS">MAX_ASM_OPERANDS</a>)</td></tr>
<tr><th id="1100">1100</th><td>                <a class="ref fn" href="tcc.h.html#tcc_error" title='tcc_error' data-ref="tcc_error" data-ref-filename="tcc_error">tcc_error</a>(<q>"too many asm operands"</q>);</td></tr>
<tr><th id="1101">1101</th><td>            <a class="local col3 ref" href="#163op" title='op' data-ref="163op" data-ref-filename="163op">op</a> = &amp;<a class="local col0 ref" href="#160operands" title='operands' data-ref="160operands" data-ref-filename="160operands">operands</a>[<a class="local col4 ref" href="#164nb_operands" title='nb_operands' data-ref="164nb_operands" data-ref-filename="164nb_operands">nb_operands</a>++];</td></tr>
<tr><th id="1102">1102</th><td>            <a class="local col3 ref" href="#163op" title='op' data-ref="163op" data-ref-filename="163op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::id" title='ASMOperand::id' data-ref="ASMOperand::id" data-ref-filename="ASMOperand..id">id</a> = <var>0</var>;</td></tr>
<tr><th id="1103">1103</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>'['</kbd>) {</td></tr>
<tr><th id="1104">1104</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1105">1105</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> &lt; <a class="macro" href="tcc.h.html#996" title="256" data-ref="_M/TOK_IDENT">TOK_IDENT</a>)</td></tr>
<tr><th id="1106">1106</th><td>                    <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"identifier"</q>);</td></tr>
<tr><th id="1107">1107</th><td>                <a class="local col3 ref" href="#163op" title='op' data-ref="163op" data-ref-filename="163op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::id" title='ASMOperand::id' data-ref="ASMOperand::id" data-ref-filename="ASMOperand..id">id</a> = <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a>;</td></tr>
<tr><th id="1108">1108</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1109">1109</th><td>                <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>']'</kbd>);</td></tr>
<tr><th id="1110">1110</th><td>            }</td></tr>
<tr><th id="1111">1111</th><td>	    <a class="ref fn" href="tcc.h.html#parse_mult_str" title='parse_mult_str' data-ref="parse_mult_str" data-ref-filename="parse_mult_str">parse_mult_str</a>(&amp;<a class="local col5 ref" href="#165astr" title='astr' data-ref="165astr" data-ref-filename="165astr">astr</a>, <q>"string constant"</q>);</td></tr>
<tr><th id="1112">1112</th><td>            <a class="local col3 ref" href="#163op" title='op' data-ref="163op" data-ref-filename="163op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::constraint" title='ASMOperand::constraint' data-ref="ASMOperand::constraint" data-ref-filename="ASMOperand..constraint">constraint</a> = <a class="ref fn" href="tcc.h.html#tcc_malloc" title='tcc_malloc' data-ref="tcc_malloc" data-ref-filename="tcc_malloc">tcc_malloc</a>(<a class="local col5 ref" href="#165astr" title='astr' data-ref="165astr" data-ref-filename="165astr">astr</a>.<a class="ref field" href="tcc.h.html#CString::size" title='CString::size' data-ref="CString::size" data-ref-filename="CString..size">size</a>);</td></tr>
<tr><th id="1113">1113</th><td>            <a class="ref fn" href="../include/string.h.html#strcpy" title='strcpy' data-ref="strcpy" data-ref-filename="strcpy">strcpy</a>(<a class="local col3 ref" href="#163op" title='op' data-ref="163op" data-ref-filename="163op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::constraint" title='ASMOperand::constraint' data-ref="ASMOperand::constraint" data-ref-filename="ASMOperand..constraint">constraint</a>, <a class="local col5 ref" href="#165astr" title='astr' data-ref="165astr" data-ref-filename="165astr">astr</a>.<a class="ref field" href="tcc.h.html#CString::data" title='CString::data' data-ref="CString::data" data-ref-filename="CString..data">data</a>);</td></tr>
<tr><th id="1114">1114</th><td>	    <a class="ref fn" href="tcc.h.html#cstr_free" title='cstr_free' data-ref="cstr_free" data-ref-filename="cstr_free">cstr_free</a>(&amp;<a class="local col5 ref" href="#165astr" title='astr' data-ref="165astr" data-ref-filename="165astr">astr</a>);</td></tr>
<tr><th id="1115">1115</th><td>            <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>'('</kbd>);</td></tr>
<tr><th id="1116">1116</th><td>            <a class="ref fn" href="tcc.h.html#gexpr" title='gexpr' data-ref="gexpr" data-ref-filename="gexpr">gexpr</a>();</td></tr>
<tr><th id="1117">1117</th><td>            <b>if</b> (<a class="local col2 ref" href="#162is_output" title='is_output' data-ref="162is_output" data-ref-filename="162is_output">is_output</a>) {</td></tr>
<tr><th id="1118">1118</th><td>                <b>if</b> (!(<a class="ref" href="tcc.h.html#vtop" title='vtop' data-ref="vtop" data-ref-filename="vtop">vtop</a>-&gt;<a class="ref field" href="tcc.h.html#SValue::type" title='SValue::type' data-ref="SValue::type" data-ref-filename="SValue..type">type</a>.<a class="ref field" href="tcc.h.html#CType::t" title='CType::t' data-ref="CType::t" data-ref-filename="CType..t">t</a> &amp; <a class="macro" href="tcc.h.html#884" title="0x0040" data-ref="_M/VT_ARRAY">VT_ARRAY</a>))</td></tr>
<tr><th id="1119">1119</th><td>                    <a class="ref fn" href="tcc.h.html#test_lvalue" title='test_lvalue' data-ref="test_lvalue" data-ref-filename="test_lvalue">test_lvalue</a>();</td></tr>
<tr><th id="1120">1120</th><td>            } <b>else</b> {</td></tr>
<tr><th id="1121">1121</th><td>                <i>/* we want to avoid LLOCAL case, except when the 'm'</i></td></tr>
<tr><th id="1122">1122</th><td><i>                   constraint is used. Note that it may come from</i></td></tr>
<tr><th id="1123">1123</th><td><i>                   register storage, so we need to convert (reg)</i></td></tr>
<tr><th id="1124">1124</th><td><i>                   case */</i></td></tr>
<tr><th id="1125">1125</th><td>                <b>if</b> ((<a class="ref" href="tcc.h.html#vtop" title='vtop' data-ref="vtop" data-ref-filename="vtop">vtop</a>-&gt;<a class="ref field" href="tcc.h.html#SValue::r" title='SValue::r' data-ref="SValue::r" data-ref-filename="SValue..r">r</a> &amp; <a class="macro" href="tcc.h.html#852" title="0x0100" data-ref="_M/VT_LVAL">VT_LVAL</a>) &amp;&amp;</td></tr>
<tr><th id="1126">1126</th><td>                    ((<a class="ref" href="tcc.h.html#vtop" title='vtop' data-ref="vtop" data-ref-filename="vtop">vtop</a>-&gt;<a class="ref field" href="tcc.h.html#SValue::r" title='SValue::r' data-ref="SValue::r" data-ref-filename="SValue..r">r</a> &amp; <a class="macro" href="tcc.h.html#845" title="0x003f" data-ref="_M/VT_VALMASK">VT_VALMASK</a>) == <a class="macro" href="tcc.h.html#847" title="0x0031" data-ref="_M/VT_LLOCAL">VT_LLOCAL</a> ||</td></tr>
<tr><th id="1127">1127</th><td>                     (<a class="ref" href="tcc.h.html#vtop" title='vtop' data-ref="vtop" data-ref-filename="vtop">vtop</a>-&gt;<a class="ref field" href="tcc.h.html#SValue::r" title='SValue::r' data-ref="SValue::r" data-ref-filename="SValue..r">r</a> &amp; <a class="macro" href="tcc.h.html#845" title="0x003f" data-ref="_M/VT_VALMASK">VT_VALMASK</a>) &lt; <a class="macro" href="tcc.h.html#846" title="0x0030" data-ref="_M/VT_CONST">VT_CONST</a>) &amp;&amp;</td></tr>
<tr><th id="1128">1128</th><td>                    !<a class="ref fn" href="../include/string.h.html#strchr" title='strchr' data-ref="strchr" data-ref-filename="strchr">strchr</a>(<a class="local col3 ref" href="#163op" title='op' data-ref="163op" data-ref-filename="163op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::constraint" title='ASMOperand::constraint' data-ref="ASMOperand::constraint" data-ref-filename="ASMOperand..constraint">constraint</a>, <kbd>'m'</kbd>)) {</td></tr>
<tr><th id="1129">1129</th><td>                    <a class="ref fn" href="tcc.h.html#gv" title='gv' data-ref="gv" data-ref-filename="gv">gv</a>(<a class="macro" href="x86_64-gen.c.html#33" title="0x0001" data-ref="_M/RC_INT">RC_INT</a>);</td></tr>
<tr><th id="1130">1130</th><td>                }</td></tr>
<tr><th id="1131">1131</th><td>            }</td></tr>
<tr><th id="1132">1132</th><td>            <a class="local col3 ref" href="#163op" title='op' data-ref="163op" data-ref-filename="163op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::vt" title='ASMOperand::vt' data-ref="ASMOperand::vt" data-ref-filename="ASMOperand..vt">vt</a> = <a class="ref" href="tcc.h.html#vtop" title='vtop' data-ref="vtop" data-ref-filename="vtop">vtop</a>;</td></tr>
<tr><th id="1133">1133</th><td>            <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>')'</kbd>);</td></tr>
<tr><th id="1134">1134</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>) {</td></tr>
<tr><th id="1135">1135</th><td>                <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1136">1136</th><td>            } <b>else</b> {</td></tr>
<tr><th id="1137">1137</th><td>                <b>break</b>;</td></tr>
<tr><th id="1138">1138</th><td>            }</td></tr>
<tr><th id="1139">1139</th><td>        }</td></tr>
<tr><th id="1140">1140</th><td>        *<a class="local col1 ref" href="#161nb_operands_ptr" title='nb_operands_ptr' data-ref="161nb_operands_ptr" data-ref-filename="161nb_operands_ptr">nb_operands_ptr</a> = <a class="local col4 ref" href="#164nb_operands" title='nb_operands' data-ref="164nb_operands" data-ref-filename="164nb_operands">nb_operands</a>;</td></tr>
<tr><th id="1141">1141</th><td>    }</td></tr>
<tr><th id="1142">1142</th><td>}</td></tr>
<tr><th id="1143">1143</th><td></td></tr>
<tr><th id="1144">1144</th><td><i>/* parse the GCC asm() instruction */</i></td></tr>
<tr><th id="1145">1145</th><td><a class="macro" href="tcc.h.html#310" title="" data-ref="_M/ST_FUNC">ST_FUNC</a> <em>void</em> <dfn class="decl def fn" id="asm_instr" title='asm_instr' data-ref="asm_instr" data-ref-filename="asm_instr">asm_instr</dfn>(<em>void</em>)</td></tr>
<tr><th id="1146">1146</th><td>{</td></tr>
<tr><th id="1147">1147</th><td>    <a class="typedef" href="tcc.h.html#CString" title='CString' data-type='struct CString' data-ref="CString" data-ref-filename="CString">CString</a> <dfn class="local col6 decl" id="166astr" title='astr' data-type='CString' data-ref="166astr" data-ref-filename="166astr">astr</dfn>, <dfn class="local col7 decl" id="167astr1" title='astr1' data-type='CString' data-ref="167astr1" data-ref-filename="167astr1">astr1</dfn>;</td></tr>
<tr><th id="1148">1148</th><td>    <a class="typedef" href="tcc.h.html#ASMOperand" title='ASMOperand' data-type='struct ASMOperand' data-ref="ASMOperand" data-ref-filename="ASMOperand">ASMOperand</a> <dfn class="local col8 decl" id="168operands" title='operands' data-type='ASMOperand [30]' data-ref="168operands" data-ref-filename="168operands">operands</dfn>[<a class="macro" href="tcc.h.html#626" title="30" data-ref="_M/MAX_ASM_OPERANDS">MAX_ASM_OPERANDS</a>];</td></tr>
<tr><th id="1149">1149</th><td>    <em>int</em> <dfn class="local col9 decl" id="169nb_outputs" title='nb_outputs' data-type='int' data-ref="169nb_outputs" data-ref-filename="169nb_outputs">nb_outputs</dfn>, <dfn class="local col0 decl" id="170nb_operands" title='nb_operands' data-type='int' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</dfn>, <dfn class="local col1 decl" id="171i" title='i' data-type='int' data-ref="171i" data-ref-filename="171i">i</dfn>, <dfn class="local col2 decl" id="172must_subst" title='must_subst' data-type='int' data-ref="172must_subst" data-ref-filename="172must_subst">must_subst</dfn>, <dfn class="local col3 decl" id="173out_reg" title='out_reg' data-type='int' data-ref="173out_reg" data-ref-filename="173out_reg">out_reg</dfn>;</td></tr>
<tr><th id="1150">1150</th><td>    <a class="typedef" href="../include/x86_64-linux-gnu/bits/stdint-uintn.h.html#uint8_t" title='uint8_t' data-type='__uint8_t' data-ref="uint8_t" data-ref-filename="uint8_t">uint8_t</a> <dfn class="local col4 decl" id="174clobber_regs" title='clobber_regs' data-type='uint8_t [16]' data-ref="174clobber_regs" data-ref-filename="174clobber_regs">clobber_regs</dfn>[<a class="macro" href="x86_64-gen.c.html#27" title="16" data-ref="_M/NB_ASM_REGS">NB_ASM_REGS</a>];</td></tr>
<tr><th id="1151">1151</th><td></td></tr>
<tr><th id="1152">1152</th><td>    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1153">1153</th><td>    <i>/* since we always generate the asm() instruction, we can ignore</i></td></tr>
<tr><th id="1154">1154</th><td><i>       volatile */</i></td></tr>
<tr><th id="1155">1155</th><td>    <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="enum" href="tcctok.h.html#23" title='TOK_VOLATILE1' data-ref="TOK_VOLATILE1" data-ref-filename="TOK_VOLATILE1">TOK_VOLATILE1</a> || <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="enum" href="tcctok.h.html#24" title='TOK_VOLATILE2' data-ref="TOK_VOLATILE2" data-ref-filename="TOK_VOLATILE2">TOK_VOLATILE2</a> || <a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <a class="enum" href="tcctok.h.html#25" title='TOK_VOLATILE3' data-ref="TOK_VOLATILE3" data-ref-filename="TOK_VOLATILE3">TOK_VOLATILE3</a>) {</td></tr>
<tr><th id="1156">1156</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1157">1157</th><td>    }</td></tr>
<tr><th id="1158">1158</th><td>    <a class="ref fn" href="tcc.h.html#parse_asm_str" title='parse_asm_str' data-ref="parse_asm_str" data-ref-filename="parse_asm_str">parse_asm_str</a>(&amp;<a class="local col6 ref" href="#166astr" title='astr' data-ref="166astr" data-ref-filename="166astr">astr</a>);</td></tr>
<tr><th id="1159">1159</th><td>    <a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a> = <var>0</var>;</td></tr>
<tr><th id="1160">1160</th><td>    <a class="local col9 ref" href="#169nb_outputs" title='nb_outputs' data-ref="169nb_outputs" data-ref-filename="169nb_outputs">nb_outputs</a> = <var>0</var>;</td></tr>
<tr><th id="1161">1161</th><td>    <a class="local col2 ref" href="#172must_subst" title='must_subst' data-ref="172must_subst" data-ref-filename="172must_subst">must_subst</a> = <var>0</var>;</td></tr>
<tr><th id="1162">1162</th><td>    <a class="ref fn" href="../include/string.h.html#memset" title='memset' data-ref="memset" data-ref-filename="memset">memset</a>(<a class="local col4 ref" href="#174clobber_regs" title='clobber_regs' data-ref="174clobber_regs" data-ref-filename="174clobber_regs">clobber_regs</a>, <var>0</var>, <b>sizeof</b>(<a class="local col4 ref" href="#174clobber_regs" title='clobber_regs' data-ref="174clobber_regs" data-ref-filename="174clobber_regs">clobber_regs</a>));</td></tr>
<tr><th id="1163">1163</th><td>    <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>':'</kbd>) {</td></tr>
<tr><th id="1164">1164</th><td>        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1165">1165</th><td>        <a class="local col2 ref" href="#172must_subst" title='must_subst' data-ref="172must_subst" data-ref-filename="172must_subst">must_subst</a> = <var>1</var>;</td></tr>
<tr><th id="1166">1166</th><td>        <i>/* output args */</i></td></tr>
<tr><th id="1167">1167</th><td>        <a class="tu ref fn" href="#parse_asm_operands" title='parse_asm_operands' data-use='c' data-ref="parse_asm_operands" data-ref-filename="parse_asm_operands">parse_asm_operands</a>(<a class="local col8 ref" href="#168operands" title='operands' data-ref="168operands" data-ref-filename="168operands">operands</a>, &amp;<a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a>, <var>1</var>);</td></tr>
<tr><th id="1168">1168</th><td>        <a class="local col9 ref" href="#169nb_outputs" title='nb_outputs' data-ref="169nb_outputs" data-ref-filename="169nb_outputs">nb_outputs</a> = <a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a>;</td></tr>
<tr><th id="1169">1169</th><td>        <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>':'</kbd>) {</td></tr>
<tr><th id="1170">1170</th><td>            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1171">1171</th><td>            <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>')'</kbd>) {</td></tr>
<tr><th id="1172">1172</th><td>                <i>/* input args */</i></td></tr>
<tr><th id="1173">1173</th><td>                <a class="tu ref fn" href="#parse_asm_operands" title='parse_asm_operands' data-use='c' data-ref="parse_asm_operands" data-ref-filename="parse_asm_operands">parse_asm_operands</a>(<a class="local col8 ref" href="#168operands" title='operands' data-ref="168operands" data-ref-filename="168operands">operands</a>, &amp;<a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a>, <var>0</var>);</td></tr>
<tr><th id="1174">1174</th><td>                <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>':'</kbd>) {</td></tr>
<tr><th id="1175">1175</th><td>                    <i>/* clobber list */</i></td></tr>
<tr><th id="1176">1176</th><td>                    <i>/* XXX: handle registers */</i></td></tr>
<tr><th id="1177">1177</th><td>                    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1178">1178</th><td>                    <b>for</b>(;;) {</td></tr>
<tr><th id="1179">1179</th><td>                        <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <a class="macro" href="tcc.h.html#951" title="0xb9" data-ref="_M/TOK_STR">TOK_STR</a>)</td></tr>
<tr><th id="1180">1180</th><td>                            <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"string constant"</q>);</td></tr>
<tr><th id="1181">1181</th><td>                        <a class="ref fn" href="tcc.h.html#asm_clobber" title='asm_clobber' data-ref="asm_clobber" data-ref-filename="asm_clobber">asm_clobber</a>(<a class="local col4 ref" href="#174clobber_regs" title='clobber_regs' data-ref="174clobber_regs" data-ref-filename="174clobber_regs">clobber_regs</a>, <a class="ref" href="tcc.h.html#tokc" title='tokc' data-ref="tokc" data-ref-filename="tokc">tokc</a>.<a class="ref field" href="tcc.h.html#CValue::str" title='CValue::str' data-ref="CValue::str" data-ref-filename="CValue..str">str</a>.<a class="ref field" href="tcc.h.html#CValue::(anonymous)::data" title='CValue::(anonymous struct)::data' data-ref="CValue::(anonymous)::data" data-ref-filename="CValue..(anonymous)..data">data</a>);</td></tr>
<tr><th id="1182">1182</th><td>                        <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1183">1183</th><td>                        <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> == <kbd>','</kbd>) {</td></tr>
<tr><th id="1184">1184</th><td>                            <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1185">1185</th><td>                        } <b>else</b> {</td></tr>
<tr><th id="1186">1186</th><td>                            <b>break</b>;</td></tr>
<tr><th id="1187">1187</th><td>                        }</td></tr>
<tr><th id="1188">1188</th><td>                    }</td></tr>
<tr><th id="1189">1189</th><td>                }</td></tr>
<tr><th id="1190">1190</th><td>            }</td></tr>
<tr><th id="1191">1191</th><td>        }</td></tr>
<tr><th id="1192">1192</th><td>    }</td></tr>
<tr><th id="1193">1193</th><td>    <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>')'</kbd>);</td></tr>
<tr><th id="1194">1194</th><td>    <i>/* NOTE: we do not eat the ';' so that we can restore the current</i></td></tr>
<tr><th id="1195">1195</th><td><i>       token after the assembler parsing */</i></td></tr>
<tr><th id="1196">1196</th><td>    <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>';'</kbd>)</td></tr>
<tr><th id="1197">1197</th><td>        <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"';'"</q>);</td></tr>
<tr><th id="1198">1198</th><td>    </td></tr>
<tr><th id="1199">1199</th><td>    <i>/* save all values in the memory */</i></td></tr>
<tr><th id="1200">1200</th><td>    <a class="ref fn" href="tcc.h.html#save_regs" title='save_regs' data-ref="save_regs" data-ref-filename="save_regs">save_regs</a>(<var>0</var>);</td></tr>
<tr><th id="1201">1201</th><td></td></tr>
<tr><th id="1202">1202</th><td>    <i>/* compute constraints */</i></td></tr>
<tr><th id="1203">1203</th><td>    <a class="ref fn" href="tcc.h.html#asm_compute_constraints" title='asm_compute_constraints' data-ref="asm_compute_constraints" data-ref-filename="asm_compute_constraints">asm_compute_constraints</a>(<a class="local col8 ref" href="#168operands" title='operands' data-ref="168operands" data-ref-filename="168operands">operands</a>, <a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a>, <a class="local col9 ref" href="#169nb_outputs" title='nb_outputs' data-ref="169nb_outputs" data-ref-filename="169nb_outputs">nb_outputs</a>, </td></tr>
<tr><th id="1204">1204</th><td>                            <a class="local col4 ref" href="#174clobber_regs" title='clobber_regs' data-ref="174clobber_regs" data-ref-filename="174clobber_regs">clobber_regs</a>, &amp;<a class="local col3 ref" href="#173out_reg" title='out_reg' data-ref="173out_reg" data-ref-filename="173out_reg">out_reg</a>);</td></tr>
<tr><th id="1205">1205</th><td></td></tr>
<tr><th id="1206">1206</th><td>    <i>/* substitute the operands in the asm string. No substitution is</i></td></tr>
<tr><th id="1207">1207</th><td><i>       done if no operands (GCC behaviour) */</i></td></tr>
<tr><th id="1208">1208</th><td><u>#<span data-ppcond="1208">ifdef</span> <span class="macro" data-ref="_M/ASM_DEBUG">ASM_DEBUG</span></u></td></tr>
<tr><th id="1209">1209</th><td>    printf(<q>"asm: \"%s\"\n"</q>, (<em>char</em> *)astr.data);</td></tr>
<tr><th id="1210">1210</th><td><u>#<span data-ppcond="1208">endif</span></u></td></tr>
<tr><th id="1211">1211</th><td>    <b>if</b> (<a class="local col2 ref" href="#172must_subst" title='must_subst' data-ref="172must_subst" data-ref-filename="172must_subst">must_subst</a>) {</td></tr>
<tr><th id="1212">1212</th><td>        <a class="tu ref fn" href="#subst_asm_operands" title='subst_asm_operands' data-use='c' data-ref="subst_asm_operands" data-ref-filename="subst_asm_operands">subst_asm_operands</a>(<a class="local col8 ref" href="#168operands" title='operands' data-ref="168operands" data-ref-filename="168operands">operands</a>, <a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a>, &amp;<a class="local col7 ref" href="#167astr1" title='astr1' data-ref="167astr1" data-ref-filename="167astr1">astr1</a>, &amp;<a class="local col6 ref" href="#166astr" title='astr' data-ref="166astr" data-ref-filename="166astr">astr</a>);</td></tr>
<tr><th id="1213">1213</th><td>        <a class="ref fn" href="tcc.h.html#cstr_free" title='cstr_free' data-ref="cstr_free" data-ref-filename="cstr_free">cstr_free</a>(&amp;<a class="local col6 ref" href="#166astr" title='astr' data-ref="166astr" data-ref-filename="166astr">astr</a>);</td></tr>
<tr><th id="1214">1214</th><td>    } <b>else</b> {</td></tr>
<tr><th id="1215">1215</th><td>        <a class="local col7 ref" href="#167astr1" title='astr1' data-ref="167astr1" data-ref-filename="167astr1">astr1</a> = <a class="local col6 ref" href="#166astr" title='astr' data-ref="166astr" data-ref-filename="166astr">astr</a>;</td></tr>
<tr><th id="1216">1216</th><td>    }</td></tr>
<tr><th id="1217">1217</th><td><u>#<span data-ppcond="1217">ifdef</span> <span class="macro" data-ref="_M/ASM_DEBUG">ASM_DEBUG</span></u></td></tr>
<tr><th id="1218">1218</th><td>    printf(<q>"subst_asm: \"%s\"\n"</q>, (<em>char</em> *)astr1.data);</td></tr>
<tr><th id="1219">1219</th><td><u>#<span data-ppcond="1217">endif</span></u></td></tr>
<tr><th id="1220">1220</th><td></td></tr>
<tr><th id="1221">1221</th><td>    <i>/* generate loads */</i></td></tr>
<tr><th id="1222">1222</th><td>    <a class="ref fn" href="tcc.h.html#asm_gen_code" title='asm_gen_code' data-ref="asm_gen_code" data-ref-filename="asm_gen_code">asm_gen_code</a>(<a class="local col8 ref" href="#168operands" title='operands' data-ref="168operands" data-ref-filename="168operands">operands</a>, <a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a>, <a class="local col9 ref" href="#169nb_outputs" title='nb_outputs' data-ref="169nb_outputs" data-ref-filename="169nb_outputs">nb_outputs</a>, <var>0</var>, </td></tr>
<tr><th id="1223">1223</th><td>                 <a class="local col4 ref" href="#174clobber_regs" title='clobber_regs' data-ref="174clobber_regs" data-ref-filename="174clobber_regs">clobber_regs</a>, <a class="local col3 ref" href="#173out_reg" title='out_reg' data-ref="173out_reg" data-ref-filename="173out_reg">out_reg</a>);    </td></tr>
<tr><th id="1224">1224</th><td></td></tr>
<tr><th id="1225">1225</th><td>    <i>/* assemble the string with tcc internal assembler */</i></td></tr>
<tr><th id="1226">1226</th><td>    <a class="tu ref fn" href="#tcc_assemble_inline" title='tcc_assemble_inline' data-use='c' data-ref="tcc_assemble_inline" data-ref-filename="tcc_assemble_inline">tcc_assemble_inline</a>(<a class="ref" href="tcc.h.html#tcc_state" title='tcc_state' data-ref="tcc_state" data-ref-filename="tcc_state">tcc_state</a>, <a class="local col7 ref" href="#167astr1" title='astr1' data-ref="167astr1" data-ref-filename="167astr1">astr1</a>.<a class="ref field" href="tcc.h.html#CString::data" title='CString::data' data-ref="CString::data" data-ref-filename="CString..data">data</a>, <a class="local col7 ref" href="#167astr1" title='astr1' data-ref="167astr1" data-ref-filename="167astr1">astr1</a>.<a class="ref field" href="tcc.h.html#CString::size" title='CString::size' data-ref="CString::size" data-ref-filename="CString..size">size</a> - <var>1</var>, <var>0</var>);</td></tr>
<tr><th id="1227">1227</th><td></td></tr>
<tr><th id="1228">1228</th><td>    <i>/* restore the current C token */</i></td></tr>
<tr><th id="1229">1229</th><td>    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1230">1230</th><td></td></tr>
<tr><th id="1231">1231</th><td>    <i>/* store the output values if needed */</i></td></tr>
<tr><th id="1232">1232</th><td>    <a class="ref fn" href="tcc.h.html#asm_gen_code" title='asm_gen_code' data-ref="asm_gen_code" data-ref-filename="asm_gen_code">asm_gen_code</a>(<a class="local col8 ref" href="#168operands" title='operands' data-ref="168operands" data-ref-filename="168operands">operands</a>, <a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a>, <a class="local col9 ref" href="#169nb_outputs" title='nb_outputs' data-ref="169nb_outputs" data-ref-filename="169nb_outputs">nb_outputs</a>, <var>1</var>, </td></tr>
<tr><th id="1233">1233</th><td>                 <a class="local col4 ref" href="#174clobber_regs" title='clobber_regs' data-ref="174clobber_regs" data-ref-filename="174clobber_regs">clobber_regs</a>, <a class="local col3 ref" href="#173out_reg" title='out_reg' data-ref="173out_reg" data-ref-filename="173out_reg">out_reg</a>);</td></tr>
<tr><th id="1234">1234</th><td>    </td></tr>
<tr><th id="1235">1235</th><td>    <i>/* free everything */</i></td></tr>
<tr><th id="1236">1236</th><td>    <b>for</b>(<a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a>=<var>0</var>;<a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a>&lt;<a class="local col0 ref" href="#170nb_operands" title='nb_operands' data-ref="170nb_operands" data-ref-filename="170nb_operands">nb_operands</a>;<a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a>++) {</td></tr>
<tr><th id="1237">1237</th><td>        <a class="typedef" href="tcc.h.html#ASMOperand" title='ASMOperand' data-type='struct ASMOperand' data-ref="ASMOperand" data-ref-filename="ASMOperand">ASMOperand</a> *<dfn class="local col5 decl" id="175op" title='op' data-type='ASMOperand *' data-ref="175op" data-ref-filename="175op">op</dfn>;</td></tr>
<tr><th id="1238">1238</th><td>        <a class="local col5 ref" href="#175op" title='op' data-ref="175op" data-ref-filename="175op">op</a> = &amp;<a class="local col8 ref" href="#168operands" title='operands' data-ref="168operands" data-ref-filename="168operands">operands</a>[<a class="local col1 ref" href="#171i" title='i' data-ref="171i" data-ref-filename="171i">i</a>];</td></tr>
<tr><th id="1239">1239</th><td>        <a class="ref fn" href="tcc.h.html#tcc_free" title='tcc_free' data-ref="tcc_free" data-ref-filename="tcc_free">tcc_free</a>(<a class="local col5 ref" href="#175op" title='op' data-ref="175op" data-ref-filename="175op">op</a>-&gt;<a class="ref field" href="tcc.h.html#ASMOperand::constraint" title='ASMOperand::constraint' data-ref="ASMOperand::constraint" data-ref-filename="ASMOperand..constraint">constraint</a>);</td></tr>
<tr><th id="1240">1240</th><td>        <a class="ref fn" href="tcc.h.html#vpop" title='vpop' data-ref="vpop" data-ref-filename="vpop">vpop</a>();</td></tr>
<tr><th id="1241">1241</th><td>    }</td></tr>
<tr><th id="1242">1242</th><td>    <a class="ref fn" href="tcc.h.html#cstr_free" title='cstr_free' data-ref="cstr_free" data-ref-filename="cstr_free">cstr_free</a>(&amp;<a class="local col7 ref" href="#167astr1" title='astr1' data-ref="167astr1" data-ref-filename="167astr1">astr1</a>);</td></tr>
<tr><th id="1243">1243</th><td>}</td></tr>
<tr><th id="1244">1244</th><td></td></tr>
<tr><th id="1245">1245</th><td><a class="macro" href="tcc.h.html#310" title="" data-ref="_M/ST_FUNC">ST_FUNC</a> <em>void</em> <dfn class="decl def fn" id="asm_global_instr" title='asm_global_instr' data-ref="asm_global_instr" data-ref-filename="asm_global_instr">asm_global_instr</dfn>(<em>void</em>)</td></tr>
<tr><th id="1246">1246</th><td>{</td></tr>
<tr><th id="1247">1247</th><td>    <a class="typedef" href="tcc.h.html#CString" title='CString' data-type='struct CString' data-ref="CString" data-ref-filename="CString">CString</a> <dfn class="local col6 decl" id="176astr" title='astr' data-type='CString' data-ref="176astr" data-ref-filename="176astr">astr</dfn>;</td></tr>
<tr><th id="1248">1248</th><td>    <em>int</em> <dfn class="local col7 decl" id="177saved_nocode_wanted" title='saved_nocode_wanted' data-type='int' data-ref="177saved_nocode_wanted" data-ref-filename="177saved_nocode_wanted">saved_nocode_wanted</dfn> = <a class="ref" href="tcc.h.html#nocode_wanted" title='nocode_wanted' data-ref="nocode_wanted" data-ref-filename="nocode_wanted">nocode_wanted</a>;</td></tr>
<tr><th id="1249">1249</th><td></td></tr>
<tr><th id="1250">1250</th><td>    <i>/* Global asm blocks are always emitted.  */</i></td></tr>
<tr><th id="1251">1251</th><td>    <a class="ref" href="tcc.h.html#nocode_wanted" title='nocode_wanted' data-ref="nocode_wanted" data-ref-filename="nocode_wanted">nocode_wanted</a> = <var>0</var>;</td></tr>
<tr><th id="1252">1252</th><td>    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1253">1253</th><td>    <a class="ref fn" href="tcc.h.html#parse_asm_str" title='parse_asm_str' data-ref="parse_asm_str" data-ref-filename="parse_asm_str">parse_asm_str</a>(&amp;<a class="local col6 ref" href="#176astr" title='astr' data-ref="176astr" data-ref-filename="176astr">astr</a>);</td></tr>
<tr><th id="1254">1254</th><td>    <a class="ref fn" href="tcc.h.html#skip" title='skip' data-ref="skip" data-ref-filename="skip">skip</a>(<kbd>')'</kbd>);</td></tr>
<tr><th id="1255">1255</th><td>    <i>/* NOTE: we do not eat the ';' so that we can restore the current</i></td></tr>
<tr><th id="1256">1256</th><td><i>       token after the assembler parsing */</i></td></tr>
<tr><th id="1257">1257</th><td>    <b>if</b> (<a class="ref" href="tcc.h.html#tok" title='tok' data-ref="tok" data-ref-filename="tok">tok</a> != <kbd>';'</kbd>)</td></tr>
<tr><th id="1258">1258</th><td>        <a class="ref fn" href="tcc.h.html#expect" title='expect' data-ref="expect" data-ref-filename="expect">expect</a>(<q>"';'"</q>);</td></tr>
<tr><th id="1259">1259</th><td>    </td></tr>
<tr><th id="1260">1260</th><td><u>#<span data-ppcond="1260">ifdef</span> <span class="macro" data-ref="_M/ASM_DEBUG">ASM_DEBUG</span></u></td></tr>
<tr><th id="1261">1261</th><td>    printf(<q>"asm_global: \"%s\"\n"</q>, (<em>char</em> *)astr.data);</td></tr>
<tr><th id="1262">1262</th><td><u>#<span data-ppcond="1260">endif</span></u></td></tr>
<tr><th id="1263">1263</th><td>    <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a> = <a class="ref" href="tcc.h.html#text_section" title='text_section' data-ref="text_section" data-ref-filename="text_section">text_section</a>;</td></tr>
<tr><th id="1264">1264</th><td>    <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a> = <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::data_offset" title='Section::data_offset' data-ref="Section::data_offset" data-ref-filename="Section..data_offset">data_offset</a>;</td></tr>
<tr><th id="1265">1265</th><td></td></tr>
<tr><th id="1266">1266</th><td>    <i>/* assemble the string with tcc internal assembler */</i></td></tr>
<tr><th id="1267">1267</th><td>    <a class="tu ref fn" href="#tcc_assemble_inline" title='tcc_assemble_inline' data-use='c' data-ref="tcc_assemble_inline" data-ref-filename="tcc_assemble_inline">tcc_assemble_inline</a>(<a class="ref" href="tcc.h.html#tcc_state" title='tcc_state' data-ref="tcc_state" data-ref-filename="tcc_state">tcc_state</a>, <a class="local col6 ref" href="#176astr" title='astr' data-ref="176astr" data-ref-filename="176astr">astr</a>.<a class="ref field" href="tcc.h.html#CString::data" title='CString::data' data-ref="CString::data" data-ref-filename="CString..data">data</a>, <a class="local col6 ref" href="#176astr" title='astr' data-ref="176astr" data-ref-filename="176astr">astr</a>.<a class="ref field" href="tcc.h.html#CString::size" title='CString::size' data-ref="CString::size" data-ref-filename="CString..size">size</a> - <var>1</var>, <var>1</var>);</td></tr>
<tr><th id="1268">1268</th><td>    </td></tr>
<tr><th id="1269">1269</th><td>    <a class="ref" href="tcc.h.html#cur_text_section" title='cur_text_section' data-ref="cur_text_section" data-ref-filename="cur_text_section">cur_text_section</a>-&gt;<a class="ref field" href="tcc.h.html#Section::data_offset" title='Section::data_offset' data-ref="Section::data_offset" data-ref-filename="Section..data_offset">data_offset</a> = <a class="ref" href="tcc.h.html#ind" title='ind' data-ref="ind" data-ref-filename="ind">ind</a>;</td></tr>
<tr><th id="1270">1270</th><td></td></tr>
<tr><th id="1271">1271</th><td>    <i>/* restore the current C token */</i></td></tr>
<tr><th id="1272">1272</th><td>    <a class="ref fn" href="tcc.h.html#next" title='next' data-ref="next" data-ref-filename="next">next</a>();</td></tr>
<tr><th id="1273">1273</th><td></td></tr>
<tr><th id="1274">1274</th><td>    <a class="ref fn" href="tcc.h.html#cstr_free" title='cstr_free' data-ref="cstr_free" data-ref-filename="cstr_free">cstr_free</a>(&amp;<a class="local col6 ref" href="#176astr" title='astr' data-ref="176astr" data-ref-filename="176astr">astr</a>);</td></tr>
<tr><th id="1275">1275</th><td>    <a class="ref" href="tcc.h.html#nocode_wanted" title='nocode_wanted' data-ref="nocode_wanted" data-ref-filename="nocode_wanted">nocode_wanted</a> = <a class="local col7 ref" href="#177saved_nocode_wanted" title='saved_nocode_wanted' data-ref="177saved_nocode_wanted" data-ref-filename="177saved_nocode_wanted">saved_nocode_wanted</a>;</td></tr>
<tr><th id="1276">1276</th><td>}</td></tr>
<tr><th id="1277">1277</th><td><u>#<span data-ppcond="22">endif</span> /* CONFIG_TCC_ASM */</u></td></tr>
<tr><th id="1278">1278</th><td></td></tr>
</table><hr/><p id='footer'>
Generated on <em>2020-Apr-21</em> from project tcc revision <em>0.9.27</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
